(function(e){function t(t){for(var i,o,s=t[0],u=t[1],c=t[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);l&&l(t);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var u=n[s];0!==r[u]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"26b4":function(e,t,n){"use strict";n("5258")},"3c40":function(e,t,n){},"3ed6":function(e,t,n){"use strict";n("3c40")},5258:function(e,t,n){},"942d":function(e,t,n){},"9cdc":function(e,t,n){"use strict";n("942d")},"9dd6":function(e,t,n){},a1f3:function(e,t,n){},ac1a:function(e,t,n){"use strict";n("9dd6")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("830f"),r=n("5c40");function a(e,t){var n=Object(r["x"])("router-view");return Object(r["s"])(),Object(r["e"])(n)}n("9cdc");const o={};o.render=a;var s=o,u=n("8c4f"),c=(n("b680"),n("9ff4")),l={class:"calculation-container"},d={class:"row"},f=Object(r["i"])("label",{for:"airflow"},"Mass airflow units",-1),p={id:"airflow"},m={class:"row"},b=Object(r["i"])("label",{for:"min-airflow"},"Minimum airflow",-1),v={class:"row"},h=Object(r["i"])("label",{for:"max-airflow"},"Maximum airflow",-1),O={class:"row"},j=Object(r["i"])("label",{for:"airflow-interval"},"Airflow grid step",-1),g={class:"row"},w={class:"row"},x=Object(r["i"])("label",{for:"min-pressure-ratio"},"Min pressure ratio",-1),y={class:"row"},A=Object(r["i"])("label",{for:"max-pressure-ratio"},"Max pressure ratio",-1),P={class:"row"},S=Object(r["i"])("label",{for:"max-pressure-ratio"},"Pressure ratio step",-1),M={class:"row"},R=Object(r["i"])("label",{for:"h-scale"},"Horizontal scale",-1),I={class:"row"},U=Object(r["i"])("label",{for:"h-offset"},"Horizontal offset",-1),E={class:"row"},k=Object(r["i"])("label",{for:"v-scale"},"Vertical scale",-1),T={class:"row"},Y=Object(r["i"])("label",{for:"v-offset"},"Vertical offset",-1),X={class:"row"},C=Object(r["i"])("label",{for:"engine-displacement"},"Engine displacement (cc)",-1),V={class:"row"},D=Object(r["i"])("label",{for:"ambient-air-temperature"},"Ambient air temperature (C)",-1),H={class:"row"},G=Object(r["i"])("label",{for:"ambient-air-pressure"},"Ambient air absolute pressure (mbar)",-1),W=Object(r["i"])("br",null,null,-1),_=Object(r["i"])("br",null,null,-1);function B(e,t){var n=Object(r["x"])("Maps"),a=Object(r["x"])("EngineMapPoints");return Object(r["s"])(),Object(r["e"])(r["b"],null,[Object(r["i"])(n),Object(r["i"])("div",l,[Object(r["i"])("form",null,[Object(r["i"])("div",d,[f,Object(r["i"])("fieldset",p,[Object(r["E"])(Object(r["i"])("select",{id:"airflow-units","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.airflowUnits=t})},[Object(r["i"])("option",{value:e.AirflowUnits.kgs},"kg/s",8,["value"]),Object(r["i"])("option",{value:e.AirflowUnits.lbsmin},"Lbs/min",8,["value"])],512),[[i["b"],e.airflowUnits]]),Object(r["i"])("div",m,[b,Object(r["E"])(Object(r["i"])("input",{id:"min-airflow",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.minAirflow=t}),step:e.airflowUnitStep},null,8,["step"]),[[i["c"],e.minAirflow]])]),Object(r["i"])("div",v,[h,Object(r["E"])(Object(r["i"])("input",{id:"max-airflow",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.maxAirflow=t}),step:e.airflowUnitStep},null,8,["step"]),[[i["c"],e.maxAirflow]])]),Object(r["i"])("div",O,[j,Object(r["E"])(Object(r["i"])("input",{id:"airflow-interval",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.airflowInterval=t}),step:"any"},null,512),[[i["c"],e.airflowInterval]])])])]),Object(r["i"])("div",g,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",w,[x,Object(r["E"])(Object(r["i"])("input",{id:"min-pressure-ratio",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.minPressureRatio=t}),step:"0.5"},null,512),[[i["c"],e.minPressureRatio]])]),Object(r["i"])("div",y,[A,Object(r["E"])(Object(r["i"])("input",{id:"max-pressure-ratio",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.maxPressureRatio=t}),step:"0.5"},null,512),[[i["c"],e.maxPressureRatio]])]),Object(r["i"])("div",P,[S,Object(r["E"])(Object(r["i"])("input",{id:"max-pressure-ratio",type:"number","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.pressureRatioStep=t}),step:"any"},null,512),[[i["c"],e.pressureRatioStep]])])])])]),Object(r["i"])("form",null,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",M,[R,Object(r["E"])(Object(r["i"])("input",{id:"h-scale",type:"number",step:"0.001","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.hScale=t})},null,512),[[i["c"],e.hScale]])]),Object(r["i"])("div",I,[U,Object(r["E"])(Object(r["i"])("input",{id:"h-offset",type:"number","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.hOffset=t})},null,512),[[i["c"],e.hOffset]])]),Object(r["i"])("div",E,[k,Object(r["E"])(Object(r["i"])("input",{id:"v-scale",type:"number",step:"0.001","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.vScale=t})},null,512),[[i["c"],e.vScale]])]),Object(r["i"])("div",T,[Y,Object(r["E"])(Object(r["i"])("input",{id:"v-offset",type:"number","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.vOffset=t})},null,512),[[i["c"],e.vOffset]])])])]),Object(r["i"])("form",null,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",X,[C,Object(r["E"])(Object(r["i"])("input",{id:"engine-displacement",type:"number","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.engineDisplacement=t})},null,512),[[i["c"],e.engineDisplacement]])]),Object(r["i"])("div",V,[D,Object(r["E"])(Object(r["i"])("input",{id:"ambient-air-temperature",type:"number","onUpdate:modelValue":t[13]||(t[13]=function(t){return e.ambientAirTemperature=t})},null,512),[[i["c"],e.ambientAirTemperature]])]),Object(r["i"])("div",H,[G,Object(r["E"])(Object(r["i"])("input",{id:"ambient-air-pressure",type:"number","onUpdate:modelValue":t[14]||(t[14]=function(t){return e.ambientAirPressure=t})},null,512),[[i["c"],e.ambientAirPressure]])])])]),Object(r["i"])(a),Object(r["i"])("div",null,[Object(r["h"])(" pressureRatio: "+Object(c["G"])((Math.round(100*e.pointerData.pressureRatio)/100).toFixed(2)),1),W,Object(r["h"])(" massAirflow: "+Object(c["G"])((Math.round(1e3*e.pointerData.massAirflow)/1e3).toFixed(3)),1),_,Object(r["h"])(" rpm: "+Object(c["G"])(e.pointerData.rpm),1)])])],64)}var L,F=n("5502"),N="externalMap",q=function(e){return"".concat(N,"/").concat(e)},z=function(e,t){return{get:function(){return t.getters[q(e)]},set:function(n){return t.commit(q(e),n)}}},J={namespaced:!0,state:{hScale:.687,hOffset:-52,vScale:.381,vOffset:91},getters:{hScale:function(e){var t=e.hScale;return t},hOffset:function(e){var t=e.hOffset;return t},vScale:function(e){var t=e.vScale;return t},vOffset:function(e){var t=e.vOffset;return t}},mutations:{hScale:function(e,t){e.hScale=t},hOffset:function(e,t){e.hOffset=t},vScale:function(e,t){e.vScale=t},vOffset:function(e,t){e.vOffset=t}}},K=287.058,Q=273.15,Z=2.204623,$=function(e){var t=e.temperature,n=e.pressure;return n/((Q+t)*K)},ee=function(e){var t=e.displacement,n=e.volumetricEfficiency,i=void 0===n?1:n,r=e.throttling,a=void 0===r?1:r;return t*i*a},te=function(e){var t=e.rpm,n=e.volume;return n*t/120},ne=function(e){var t=e.rpm,n=e.displacement,i=e.temperature,r=e.pressure,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},o=ee({displacement:n});return a(te({rpm:t,volume:o})*$({temperature:i,pressure:r}))},ie=function(e){var t=e.maf,n=e.displacement,i=e.temperature,r=e.pressure,a=$({temperature:i,pressure:r}),o=t/a,s=60*o*2/n;return s},re=function(e){return e*Z*60},ae=function(e){return e/Z/60};(function(e){e["kgs"]="kg/s",e["lbsmin"]="lbs/min"})(L||(L={}));var oe="grid",se=function(e){return"".concat(oe,"/").concat(e)},ue=function(e,t){return{get:function(){return t.getters[se(e)]},set:function(n){return t.commit(se(e),n)}}},ce=function(e){return{get:function(){return e.getters[se("airflowUnits")]},set:function(t){return e.dispatch(se("airflowUnits"),t)}}},le={namespaced:!0,state:{airflowUnits:L.lbsmin,minAirflow:0,maxAirflow:60,airflowInterval:5,minPressureRatio:1,maxPressureRatio:4,pressureRatioStep:.25},getters:{airflowUnits:function(e){var t=e.airflowUnits;return t},minAirflow:function(e){var t=e.minAirflow;return t},maxAirflow:function(e){var t=e.maxAirflow;return t},airflowInterval:function(e){var t=e.airflowInterval;return t},minPressureRatio:function(e){var t=e.minPressureRatio;return t},maxPressureRatio:function(e){var t=e.maxPressureRatio;return t},pressureRatioStep:function(e){var t=e.pressureRatioStep;return t}},mutations:{airflowUnits:function(e,t){e.airflowUnits=t},minAirflow:function(e,t){e.minAirflow=t},maxAirflow:function(e,t){e.maxAirflow=t},airflowInterval:function(e,t){e.airflowInterval=t},minPressureRatio:function(e,t){e.minPressureRatio=t},maxPressureRatio:function(e,t){e.maxPressureRatio=t},pressureRatioStep:function(e,t){e.pressureRatioStep=t}},actions:{airflowUnits:function(e,t){var n=e.commit,i=e.state,r=i.minAirflow,a=i.maxAirflow,o=i.airflowInterval,s=i.airflowUnits;n("airflowUnits",t),s===L.kgs&&t===L.lbsmin&&(n("minAirflow",Math.round(re(r))),n("maxAirflow",Math.round(re(a))),n("airflowInterval",Math.round(re(o)))),s===L.lbsmin&&t===L.kgs&&(n("minAirflow",Math.round(1e3*ae(r))/1e3),n("maxAirflow",Math.round(1e3*ae(a))/1e3),n("airflowInterval",Math.round(500*ae(o))/500))}}},de=(n("99af"),n("4de4"),n("2909")),fe=n("5530"),pe="engineMap",me=function(e){return"".concat(pe,"/").concat(e)},be=function(e){return function(){return e.getters[me("points")]}},ve=function(e){return function(t){return e.dispatch(me("addPoint"),t)}},he=function(e){return function(t){return e.dispatch(me("removePoint"),t)}},Oe=function(e){return function(t,n){return e.commit(me("point"),{point:t,index:n})}},je=function(e,t){return{get:function(){return t.getters[me(e)]},set:function(n){return t.commit(me(e),n)}}},ge={namespaced:!0,state:{points:[{pressure:2.5,rpm:3e3},{pressure:2.5,rpm:5300},{pressure:2.5,rpm:6500}],displacement:1984,ambientAirPressure:990,ambientAirTemperature:15,pointerData:{pressureRatio:0,massAirflow:0,rpm:0}},getters:{points:function(e){var t=e.points;return t},displacement:function(e){var t=e.displacement;return t},ambientAirPressure:function(e){var t=e.ambientAirPressure;return t},ambientAirTemperature:function(e){var t=e.ambientAirTemperature;return t},pointerData:function(e){var t=e.pointerData;return t}},mutations:{point:function(e,t){var n=t.point,i=t.index;e.points[i]=n},points:function(e,t){return e.points=t},displacement:function(e,t){return e.displacement=t},ambientAirPressure:function(e,t){return e.ambientAirPressure=t},ambientAirTemperature:function(e,t){return e.ambientAirTemperature=t},pointerData:function(e,t){return e.pointerData=Object(fe["a"])({},t)}},actions:{addPoint:function(e,t){var n=e.commit,i=e.state,r=[].concat(Object(de["a"])(i.points.filter((function(e){return e.rpm!==t.rpm}))),[t]).sort((function(e,t){return e.rpm-t.rpm}));n("points",r)},removePoint:function(e,t){var n=e.commit,i=e.state,r=i.points.filter((function(e){return e.rpm!==t.rpm}));n("points",r)}}},we={id:"map",class:"maps"};function xe(e,t){var n=Object(r["x"])("compressor-map"),i=Object(r["x"])("grid"),a=Object(r["x"])("engine-map");return Object(r["s"])(),Object(r["e"])("div",we,[Object(r["i"])(n,{"canvas-id":e.MapLayer.CompressorMap,width:e.canvasWidth,height:e.canvasHeight},null,8,["canvas-id","width","height"]),Object(r["i"])(i,{"canvas-id":e.MapLayer.Grid,width:e.canvasWidth,height:e.canvasHeight,padding:e.gridPadding},null,8,["canvas-id","width","height","padding"]),Object(r["i"])(a,{"canvas-id":e.MapLayer.EngineMap,width:e.canvasWidth,height:e.canvasHeight,padding:e.gridPadding},null,8,["canvas-id","width","height","padding"])])}function ye(e,t){return Object(r["s"])(),Object(r["e"])("canvas",{id:e.canvasId,height:e.height,width:e.width},null,8,["id","height","width"])}n("a9e3");var Ae=n("3835"),Pe=(n("cb29"),n("4160"),n("fb6a"),n("159b"),n("4f96")),Se=n("d4ec"),Me=n("bee2"),Re="rgb(134,136,138)",Ie=function(){function e(t){Object(Se["a"])(this,e);var n=t.canvasRef,i=t.height,r=t.width,a=t.padding,o=t.minX,s=t.minY,u=t.maxX,c=t.maxY,l=t.yInterval,d=void 0===l?0:l,f=t.xInterval,p=void 0===f?0:f;this.context=n.getContext("2d"),this.height=i,this.width=r,this.padding=a,this.minX=o,this.minY=s,this.maxX=u,this.maxY=c,this.gridWidth=r-2*a,this.gridHeight=i-2*a,this.origin=[a,i-a],this.context.font="10px sans-serif",this.xInterval=0===p?u-o:p,this.yInterval=0===d?c-s:d,this.xAxisSpacing=Math.floor(this.gridWidth*this.xInterval/(u-o)),this.yAxisSpacing=Math.floor(this.gridHeight*this.yInterval/(c-s))}return Object(Me["a"])(e,[{key:"setup",value:function(e){this.clear();var t=Object(fe["a"])(Object(fe["a"])({},this),e),n=t.height,i=t.width,r=t.padding,a=t.minX,o=t.minY,s=t.maxX,u=t.maxY,c=t.yInterval,l=void 0===c?0:c,d=t.xInterval,f=void 0===d?0:d;this.height=n,this.width=i,this.padding=r,this.minX=a,this.minY=o,this.maxX=s,this.maxY=u,this.gridWidth=i-2*r,this.gridHeight=n-2*r,this.origin=[r,n-r],this.context.font="10px sans-serif",this.xInterval=0===f?s-a:f,this.yInterval=0===l?u-o:l,this.xAxisSpacing=Math.floor(this.gridWidth*this.xInterval/(s-a)),this.yAxisSpacing=Math.floor(this.gridHeight*this.yInterval/(u-o))}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"drawGrid",value:function(){var e=Object(Ae["a"])(this.origin,2),t=e[0],n=e[1],i=this.context,r=this.gridWidth,a=this.gridHeight,o=this.xAxisSpacing,s=this.yAxisSpacing,u=this.padding;i.beginPath(),i.strokeStyle=Re,i.moveTo(t,n);for(var c=t;c<=t+r;c+=o)i.moveTo(c,n),i.lineTo(c,n-a);for(var l=n;l>=u;l-=s)i.moveTo(t,l),i.lineTo(t+r,l);i.stroke()}},{key:"drawAxis",value:function(){var e=this.context,t=this.gridWidth,n=this.padding,i=this.xAxisSpacing,r=this.yAxisSpacing,a=this.xInterval,o=this.yInterval,s=this.minX,u=this.maxY,c=this.minY;e.beginPath();for(var l=Object(Ae["a"])(this.origin,2),d=l[0],f=l[1],p=d,m=s;p<=d+t;p+=i,m+=a){var b=m.toFixed(3);e.fillText(b,p-e.measureText(b).width/2,f+14)}for(var v=f,h=c;v>=n;v-=r,h+=o){var O=h.toFixed(2);e.fillText(O,d-e.measureText(O).width-4,v+5)}e.beginPath(),e.rect(this.transformX(s),this.transformY(u),this.gridWidth,this.gridHeight),e.stroke()}},{key:"transformX",value:function(e){var t=this.gridWidth/(this.maxX-this.minX);return Math.floor((e-this.minX)*t)+this.padding}},{key:"transformY",value:function(e){var t=this.gridHeight/(this.maxY-this.minY);return Math.floor(this.gridHeight-(e-this.minY)*t)+this.padding}},{key:"moveTo",value:function(e,t){return this.context.moveTo(this.transformX(e),this.transformY(t))}},{key:"lineTo",value:function(e,t){return this.context.lineTo(this.transformX(e),this.transformY(t))}},{key:"stroke",value:function(){return this.context.stroke()}},{key:"drawCircle",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.context.beginPath(),this.context.moveTo(this.transformX(e)+n,this.transformY(t)),this.context.arc(this.transformX(e),this.transformY(t),n,0,2*Math.PI),i&&this.context.fill(),this.context.stroke()}},{key:"drawMap",value:function(e){var t=this;this.clear(),this.context.beginPath(),this.context.strokeStyle="green",this.context.lineWidth=3;var n=Object(Pe["a"])(e),i=n[0],r=n.slice(1);this.moveTo(i.x,i.y),r.forEach((function(e){var n=e.x,i=e.y;t.lineTo(n,i),t.moveTo(n,i)})),this.lineTo(i.x,i.y),this.context.closePath(),this.stroke(),this.context.beginPath(),this.context.strokeStyle="red",this.context.fillStyle="pink",this.context.lineWidth=1,e.forEach((function(e){var n=e.x,i=e.y;t.drawCircle(n,i,5,!0)}))}}]),e}(),Ue=function(e){var t=e.image,n=e.canvas;return function(e){var i=n.width,r=n.height,a=n.getContext("2d"),o=e.hOffset,s=e.vOffset,u=e.hScale,c=e.vScale;a.clearRect(0,0,i,r),a.drawImage(t,o,s,Math.floor(u*t.width),Math.floor(c*t.height))}},Ee=Object(r["j"])({name:"CompressorMap",props:{height:Number,width:Number,canvasId:String},setup:function(e){var t=e.canvasId,n=Object(F["b"])(),i=Object(r["d"])(z("hOffset",n)),a=Object(r["d"])(z("vOffset",n)),o=Object(r["d"])(z("hScale",n)),s=Object(r["d"])(z("vScale",n));Object(r["q"])((function(){var e=document.getElementById(t),n=new Image;n.src="./example_compressor_map.jpg",n.onload=function(){e.getContext("2d").drawImage(n,i.value,a.value,Math.floor(o.value*n.width),Math.floor(s.value*n.height))};var u=Ue({canvas:e,image:n});Object(r["C"])([function(){return i.value},function(){return a.value},function(){return o.value},function(){return s.value}],(function(e){var t=Object(Ae["a"])(e,4),n=t[0],i=t[1],r=t[2],a=t[3];u({hOffset:n,vOffset:i,hScale:r,vScale:a})}))}))}});Ee.render=ye;var ke=Ee;function Te(e,t){return Object(r["s"])(),Object(r["e"])("canvas",{id:e.canvasId,height:e.height,width:e.width},null,8,["id","height","width"])}var Ye=function(e){var t=e.grid,n=e.gridActions,i=e.minAirflow,a=e.maxAirflow,o=e.airflowInterval,s=e.minPressureRatio,u=e.maxPressureRatio,c=e.pressureRatioStep;Object(r["C"])([function(){return i.value},function(){return a.value},function(){return o.value},function(){return s.value},function(){return u.value},function(){return c.value}],(function(e){var i=Object(Ae["a"])(e,6),r=i[0],a=i[1],o=i[2],s=i[3],u=i[4],c=i[5];t.setup({minX:r,maxX:a,xInterval:o,minY:s,maxY:u,yInterval:c}),n.forEach((function(e){return e()}))}))},Xe=Object(r["j"])({name:"Grid",props:{height:Number,width:Number,canvasId:String,padding:Number},setup:function(e){var t=e.canvasId,n=e.padding,i=e.height,a=e.width,o=Object(F["b"])(),s=Object(r["d"])(ue("minAirflow",o)),u=Object(r["d"])(ue("maxAirflow",o)),c=Object(r["d"])(ue("airflowInterval",o)),l=Object(r["d"])(ue("minPressureRatio",o)),d=Object(r["d"])(ue("maxPressureRatio",o)),f=Object(r["d"])(ue("pressureRatioStep",o));Object(r["q"])((function(){var e=document.getElementById(t),r=new Ie({canvasRef:e,height:i,width:a,padding:n,minX:s.value,maxX:u.value,minY:l.value,maxY:d.value,xInterval:c.value,yInterval:f.value});r.drawGrid(),r.drawAxis(),Ye({grid:r,gridActions:[r.drawGrid.bind(r),r.drawAxis.bind(r)],minAirflow:s,maxAirflow:u,airflowInterval:c,minPressureRatio:l,maxPressureRatio:d,pressureRatioStep:f})}))}});Xe.render=Te;var Ce=Xe,Ve=Object(r["F"])("data-v-3d947ba9");Object(r["v"])("data-v-3d947ba9");var De={class:"tooltip"},He=Object(r["i"])("br",null,null,-1),Ge=Object(r["i"])("br",null,null,-1);Object(r["t"])();var We=Ve((function(e,t){return Object(r["s"])(),Object(r["e"])(r["b"],null,[Object(r["i"])("canvas",{id:e.canvasId,height:e.height,width:e.width,onMousemove:t[1]||(t[1]=function(){return e.handleHover.apply(e,arguments)}),onMousedown:t[2]||(t[2]=function(){return e.handleMouseDown.apply(e,arguments)}),onMouseup:t[3]||(t[3]=function(){return e.handleMouseUp.apply(e,arguments)})},null,40,["id","height","width"]),Object(r["i"])("div",De,[Object(r["h"])(" PressureRatio: "+Object(c["G"])((Math.round(100*e.pointerData.pressureRatio)/100).toFixed(2)),1),He,Object(r["h"])(" Airflow: "+Object(c["G"])((Math.round(1e3*e.pointerData.massAirflow)/1e3).toFixed(3))+" "+Object(c["G"])(e.airflowUnits),1),Ge,Object(r["h"])(" rpm: "+Object(c["G"])(e.pointerData.rpm),1)])],64)})),_e=(n("c740"),n("d81d"),n("a1e9")),Be=function(e){return ne(Object(fe["a"])(Object(fe["a"])({},e),{},{displacement:e.displacementCC/1e6,pressure:1e5*e.pressureBar}))},Le=function(e){return re(Be(e))},Fe=Object(r["j"])({name:"Map",props:{height:Number,width:Number,canvasId:String,padding:Number},setup:function(e){var t,n,i,a=e.canvasId,o=e.height,s=e.width,u=e.padding,c=s-2*u,l=o-2*u,d=Object(_e["i"])({}),f=function(){var e;d.value=null===(e=t)||void 0===e?void 0:e.getBoundingClientRect()},p=Object(F["b"])(),m=Object(r["d"])(ue("minAirflow",p)),b=Object(r["d"])(ue("maxAirflow",p)),v=Object(r["d"])(ue("airflowInterval",p)),h=Object(r["d"])(ue("minPressureRatio",p)),O=Object(r["d"])(ue("maxPressureRatio",p)),j=Object(r["d"])(ue("pressureRatioStep",p)),g=Object(r["d"])(ce(p)),w=Object(r["d"])(je("displacement",p)),x=Object(r["d"])(je("ambientAirPressure",p)),y=Object(r["d"])(je("ambientAirTemperature",p)),A=Object(r["d"])(je("pointerData",p)),P=Oe(p),S=Object(r["d"])(be(p)),M=Object(r["d"])((function(){var e,t,n=g.value===L.kgs?Be:Le;return[{x:n({displacementCC:w.value,temperature:y.value,pressureBar:h.value,rpm:null===(e=S.value[0])||void 0===e?void 0:e.rpm}),y:h.value}].concat(Object(de["a"])(S.value.map((function(e){return{x:n({displacementCC:w.value,temperature:y.value,pressureBar:e.pressure,rpm:e.rpm}),y:e.pressure/(x.value/1e3)}}))),[{x:n({displacementCC:w.value,temperature:y.value,pressureBar:h.value,rpm:null===(t=S.value[S.value.length-1])||void 0===t?void 0:t.rpm}),y:h.value}])}));Object(r["q"])((function(){t=document.getElementById(a),n=document.querySelector(".tooltip"),d.value=t.getBoundingClientRect(),window.addEventListener("resize",f),window.addEventListener("scroll",f);var e=new Ie({canvasRef:t,height:o,width:s,padding:u,minX:m.value,maxX:b.value,minY:h.value,maxY:O.value});e.drawMap(M.value),Ye({grid:e,gridActions:[function(){e.drawMap(M.value)}],minAirflow:m,maxAirflow:b,airflowInterval:v,minPressureRatio:h,maxPressureRatio:O,pressureRatioStep:j}),Object(r["C"])((function(){return M.value}),(function(t){e.drawMap(t)}))})),Object(r["p"])((function(){window.removeEventListener("resize",f),window.removeEventListener("scroll",f)}));var R=function(e){var t=e.x,n=e.y,i=d.value,r=i.top,a=i.left,o=n-r-u,s=t-a-u;return o<0||o>=l||s<0||s>=c?[]:[(1-o/l)*(O.value-h.value)+h.value,s/c*(b.value-m.value)+m.value]},I=function(e){var t=e.maf,n=e.pressureRatio;return Math.round(ie({maf:g.value===L.kgs?t:ae(t),displacement:w.value/1e6,temperature:y.value,pressure:x.value/1e3*1e5*n}))},U=function(e){var t=R(e),r=Object(Ae["a"])(t,2),a=r[0],o=r[1];if(a&&o){"none"===n.style.display&&(n.style.display="block");var s=d.value,u=s.top,c=s.left;n.style.left=e.pageX-c+"px",n.style.top=e.pageY-u+"px",A.value={pressureRatio:a,massAirflow:o,rpm:I({maf:o,pressureRatio:a})};var l=I({maf:o,pressureRatio:a});void 0!==i&&P({rpm:l,pressure:x.value/1e3*a},i)}else n.style.display="none"},E=function(e){var t=R(e),n=Object(Ae["a"])(t,2),r=n[0],a=n[1];if(r&&a){var o=I({maf:a,pressureRatio:r});i=S.value.findIndex((function(e){if(e.rpm===o||1.05*e.rpm>o&&.95*e.rpm<o){var t=r*x.value/1e3;if(e.pressure===t||1.01*e.pressure>t&&.99*e.pressure<t)return!0}return!1}))}},k=function(){i=void 0};return{handleHover:U,handleMouseDown:E,handleMouseUp:k,pointerData:A,airflowUnits:g}}});n("26b4");Fe.render=We,Fe.__scopeId="data-v-3d947ba9";var Ne,qe=Fe;(function(e){e["CompressorMap"]="compressor-map",e["Grid"]="grid",e["EngineMap"]="engine-map"})(Ne||(Ne={}));var ze={width:1208,height:908,padding:100},Je=Object(r["j"])({name:"Map",components:{CompressorMap:ke,Grid:Ce,EngineMap:qe},setup:function(){return{MapLayer:Ne,canvasHeight:ze.height,canvasWidth:ze.width,gridPadding:ze.padding}}});n("3ed6");Je.render=xe;var Ke=Je,Qe=Object(r["F"])("data-v-bf0890f4");Object(r["v"])("data-v-bf0890f4");var Ze={class:"map-points-container"},$e={class:"map-point"},et=Object(r["i"])("button",{type:"submit"},"remove",-1),tt=Object(r["i"])("label",{for:"engine-pressure"},"Pressure (bar)",-1),nt=Object(r["i"])("label",{for:"engine-speed"},"Engine speed (rpm)",-1),it=Object(r["i"])("button",{type:"submit"},"Add!",-1);Object(r["t"])();var rt=Qe((function(e,t){return Object(r["s"])(),Object(r["e"])("div",Ze,[(Object(r["s"])(!0),Object(r["e"])(r["b"],null,Object(r["w"])(e.points,(function(t,n){return Object(r["s"])(),Object(r["e"])("div",{key:n},[Object(r["i"])("form",{onSubmit:Object(i["d"])((function(n){return e.removeEngineMapPoint(t)}),["prevent"])},[Object(r["i"])("fieldset",$e,[Object(r["E"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(e){return t.pressure=e},step:"0.1"},null,8,["onUpdate:modelValue"]),[[i["c"],t.pressure]]),Object(r["E"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(e){return t.rpm=e},step:"100"},null,8,["onUpdate:modelValue"]),[[i["c"],t.rpm]]),et])],40,["onSubmit"])])})),128)),Object(r["i"])("form",{onSubmit:t[3]||(t[3]=Object(i["d"])((function(){return e.addEngineMapPoint.apply(e,arguments)}),["prevent"]))},[Object(r["i"])("fieldset",null,[tt,Object(r["E"])(Object(r["i"])("input",{id:"engine-pressure",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.enginePressure=t}),step:"0.1"},null,512),[[i["c"],e.enginePressure]]),nt,Object(r["E"])(Object(r["i"])("input",{id:"engine-speed",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.engineSpeed=t}),step:"100"},null,512),[[i["c"],e.engineSpeed]])]),it],32)])})),at=Object(r["j"])({name:"EngineMapPoints",setup:function(){var e=Object(F["b"])(),t=Object(_e["i"])(1),n=Object(_e["i"])(1e3),i=Object(r["d"])(be(e)),a=Object(r["d"])((function(){return i.value.map((function(e){return Object(_e["h"])(e)}))})),o=ve(e),s=he(e),u=function(){return o({pressure:t.value,rpm:n.value}),!1};return{points:a,enginePressure:t,engineSpeed:n,addEngineMapPoint:u,removeEngineMapPoint:s}}});n("ac1a");at.render=rt,at.__scopeId="data-v-bf0890f4";var ot=at,st=Object(r["j"])({name:"Home",components:{Maps:Ke,EngineMapPoints:ot},setup:function(){var e=Object(F["b"])(),t=Object(r["d"])(z("hOffset",e)),n=Object(r["d"])(z("vOffset",e)),i=Object(r["d"])(z("hScale",e)),a=Object(r["d"])(z("vScale",e)),o=Object(r["d"])(ce(e)),s=Object(r["d"])(ue("minAirflow",e)),u=Object(r["d"])(ue("maxAirflow",e)),c=Object(r["d"])(ue("airflowInterval",e)),l=Object(r["d"])(ue("minPressureRatio",e)),d=Object(r["d"])(ue("maxPressureRatio",e)),f=Object(r["d"])(ue("pressureRatioStep",e)),p=Object(r["d"])(je("displacement",e)),m=Object(r["d"])(je("ambientAirPressure",e)),b=Object(r["d"])(je("ambientAirTemperature",e)),v=Object(r["d"])(je("pointerData",e)),h=Object(r["d"])((function(){return o.value===L.kgs?.05:1}));return{AirflowUnits:L,hScale:i,vScale:a,hOffset:t,vOffset:n,airflowUnits:o,minAirflow:s,maxAirflow:u,airflowInterval:c,minPressureRatio:l,maxPressureRatio:d,pressureRatioStep:f,airflowUnitStep:h,engineDisplacement:p,ambientAirPressure:m,ambientAirTemperature:b,pointerData:v}}});n("e69a");st.render=B;var ut,ct=st,lt=[{path:"/",name:"Home",component:ct}],dt=Object(u["a"])({history:Object(u["b"])(),routes:lt}),ft=dt,pt=n("ade3"),mt=Object(F["a"])({modules:(ut={},Object(pt["a"])(ut,N,J),Object(pt["a"])(ut,oe,le),Object(pt["a"])(ut,pe,ge),ut)});Object(i["a"])(s).use(ft).use(mt).mount("#app")},e69a:function(e,t,n){"use strict";n("a1f3")}});
//# sourceMappingURL=app.8a642ca6.js.map