(function(t){function e(e){for(var i,a,u=e[0],s=e[1],c=e[2],l=0,p=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"03d5":function(t,e,n){},"0822":function(t,e,n){"use strict";n("03d5")},"26cd":function(t,e,n){},"36c2":function(t,e,n){},"3e55":function(t,e,n){"use strict";n("87e8")},"405c":function(t,e,n){"use strict";n("36c2")},"87e8":function(t,e,n){},"8da5":function(t,e,n){"use strict";n("90dc")},"90dc":function(t,e,n){},"942d":function(t,e,n){},"97c6":function(t,e,n){"use strict";n("26cd")},"9cdc":function(t,e,n){"use strict";n("942d")},"9d5e":function(t,e,n){},a4e0:function(t,e,n){},ac7f:function(t,e,n){"use strict";n("9d5e")},adbb:function(t,e,n){},afcf:function(t,e,n){"use strict";n("a4e0")},b528:function(t,e,n){},c540:function(t,e,n){"use strict";n("b528")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("830f"),r=n("5c40");function o(t,e){var n=Object(r["z"])("router-view");return Object(r["t"])(),Object(r["e"])(n)}n("9cdc");const a={};a.render=o;var u=a,s=n("8c4f"),c=Object(r["I"])("data-v-dbde1562");Object(r["w"])("data-v-dbde1562");var d={class:"home-grid"},l={class:"panel"};Object(r["u"])();var p,f=c((function(t,e){var n=Object(r["z"])("cold-side-map"),i=Object(r["z"])("grid-config");return Object(r["t"])(),Object(r["e"])("div",d,[Object(r["i"])(n),Object(r["i"])("div",l,[Object(r["i"])(i,{class:"compressor-grid-config-form","grid-id":"compressorGrid","map-id":"coldSideMap"})])])})),m=n("a1e9"),h=n("5502"),b=(n("99af"),n("4de4"),n("2909")),v=(n("a4d3"),n("e01a"),n("d3b7"),n("25f0"),n("ade3")),g=n("d4ec"),O=n("bee2"),j=287.058,y=-273.15,x=2.204623,w=6894.757293,I=1.341022,S=1159,k=1006,M=1.329,_=1.402,X="_type";(function(t){t["gs"]="g/s",t["kgs"]="kg/s",t["lbsmin"]="lbs/min",t["SI"]="kg/s"})(p||(p={}));var Y,H=function(t){return t*x*60},U=function(t){return t/60/x},P=Symbol.for("massAirflowUnit").toString(),R=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.kgs;Object(g["a"])(this,t),this._gs=0,this._kgs=0,this._lbsmin=0,this[n]=e}return Object(O["a"])(t,[{key:"toJSON",value:function(){var t;return t={},Object(v["a"])(t,X,P),Object(v["a"])(t,p.SI,this.SI),t}},{key:"round",value:function(t){return Math.round(1e4*t)/1e4}},{key:"SI",get:function(){return this._kgs}},{key:p.gs,set:function(t){this._gs=t,this._kgs=t/1e3,this._lbsmin=H(this._kgs)},get:function(){return this.round(this._gs)}},{key:p.kgs,set:function(t){this._gs=1e3*t,this._kgs=t,this._lbsmin=H(this._kgs)},get:function(){return this.round(this._kgs)}},{key:p.lbsmin,set:function(t){this._lbsmin=t,this._kgs=U(t),this._gs=1e3*this._kgs},get:function(){return this.round(this._lbsmin)}}],[{key:"convert",value:function(e,n,i){return e===i?n:new t(n,e)[i]}}]),t}();(function(t){t["W"]="watt",t["kW"]="kilowatt",t["BHP"]="brake horsepower",t["SI"]="watt"})(Y||(Y={}));var W,T=Symbol.for("powerUnit").toString(),C=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y.W;Object(g["a"])(this,t),this._watt=0,this._kilowatt=0,this._bhp=0,this[n]=e}return Object(O["a"])(t,[{key:"toJSON",value:function(){var t;return t={},Object(v["a"])(t,X,T),Object(v["a"])(t,Y.SI,this.SI),t}},{key:"SI",get:function(){return this._watt}},{key:Y.W,set:function(t){this._watt=t,this._kilowatt=t/1e3,this._bhp=this._kilowatt*I},get:function(){return this._watt}},{key:Y.kW,set:function(t){this._watt=1e3*t,this._kilowatt=t,this._bhp=t*I},get:function(){return this._kilowatt}},{key:Y.BHP,set:function(t){this._bhp=t,this._kilowatt=t/I,this._watt=1e3*this._kilowatt},get:function(){return this._bhp}}]),t}();(function(t){t["Pa"]="pascal",t["kPa"]="kilopascal",t["bar"]="bar",t["mbar"]="milibar",t["psi"]="psi",t["SI"]="pascal"})(W||(W={}));var A,E=Symbol.for("pressureUnit").toString(),D=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:W.Pa;Object(g["a"])(this,t),this._pa=0,this._kpa=0,this._bar=0,this._mbar=0,this._psi=0,this[n]=e}return Object(O["a"])(t,[{key:"toJSON",value:function(){var t;return t={},Object(v["a"])(t,X,E),Object(v["a"])(t,W.Pa,this.SI),t}},{key:"getRelativePressure",value:function(e){return new t(this.SI-e.SI)}},{key:"getPressureRatio",value:function(t){return this.SI/t.SI}},{key:"multiply",value:function(e){return new t(this.SI*e)}},{key:"compareTo",value:function(t){return this.SI-t.SI}},{key:"SI",get:function(){return this._pa}},{key:W.Pa,set:function(t){this._pa=t,this._kpa=t/1e3,this._bar=t/1e5,this._mbar=t/100,this._psi=t/w},get:function(){return this._pa}},{key:W.kPa,set:function(t){this._pa=1e3*t,this._kpa=t,this._bar=t/100,this._mbar=10*t,this._psi=1e3*t/w},get:function(){return this._kpa}},{key:W.bar,set:function(t){this._pa=1e5*t,this._kpa=100*t,this._bar=t,this._mbar=1e3*t,this._psi=1e5*t/w},get:function(){return this._bar}},{key:W.mbar,set:function(t){this._pa=100*t,this._kpa=t/10,this._bar=t/1e3,this._mbar=t,this._psi=100*t/w},get:function(){return this._mbar}},{key:W.psi,set:function(t){this._psi=t,this._pa=w*t,this._kpa=this._pa/1e3,this._bar=this._pa/1e5,this._mbar=this._pa/100},get:function(){return this._psi}}],[{key:"standardDay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W.Pa;return new t(101325)[e]}}]),t}();(function(t){t["K"]="kelvin",t["C"]="celsius",t["F"]="farenheit",t["SI"]="kelvin"})(A||(A={}));var L,F=function(t){return 9*t/5+32},B=function(t){return t-y},V=function(t){return 5*(t-32)/9},G=function(t){return 5*(t-32)/9-y},z=function(t){return t+y},N=function(t){return 9*(t+y)/5+32},K=Symbol.for("temperatureUnit").toString(),J=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.K;Object(g["a"])(this,t),this._K=0,this._C=-1*y,this._F=N(0),this[n]=e}return Object(O["a"])(t,[{key:"toJSON",value:function(){var t;return t={},Object(v["a"])(t,X,K),Object(v["a"])(t,A.K,this.SI),t}},{key:"SI",get:function(){return this._K}},{key:A.K,set:function(t){this._K=t,this._C=z(t),this._F=N(t)},get:function(){return this._K}},{key:A.C,set:function(t){this._K=B(t),this._C=t,this._F=F(t)},get:function(){return this._C}},{key:A.F,set:function(t){this._K=G(t),this._C=V(t),this._F=t},get:function(){return this._F}}],[{key:"standardDay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.K;return new t(288.15)[e]}}]),t}();(function(t){t["cc"]="cubic centimeters",t["m3"]="cubic meters",t["SI"]="cubic meters"})(L||(L={}));var q=Symbol.for("volumeUnit").toString(),$=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.m3;Object(g["a"])(this,t),this._cc=0,this._m3=0,this[n]=e}return Object(O["a"])(t,[{key:"toJSON",value:function(){var t;return t={},Object(v["a"])(t,X,q),Object(v["a"])(t,L.m3,this.SI),t}},{key:"SI",get:function(){return this._m3}},{key:L.cc,set:function(t){this._cc=t,this._m3=t/1e6},get:function(){return this._cc}},{key:L.m3,set:function(t){this._m3=t,this._cc=1e6*t},get:function(){return this._m3}}]),t}(),Q=function(t,e){var n=e[X];switch(n){case P:return new R(e[p.SI]);case T:return new C(e[Y.SI]);case E:return new D(e[W.SI]);case K:return new J(e[A.SI]);case q:return new $(e[L.SI])}return e},Z="engineMap",tt=function(t){return"".concat(Z,"/").concat(t)},et=function(t){return function(){return t.getters[tt("points")]}},nt=function(t){return function(e){return t.dispatch(tt("addPoint"),e)}},it=function(t){return function(e){return t.dispatch(tt("removePoint"),e)}},rt=function(t){return function(e,n){return t.commit(tt("point"),{point:e,index:n})}},ot=function(t,e){return{get:function(){return e.getters[tt(t)]},set:function(n){return e.commit(tt(t),n)}}},at={namespaced:!0,state:{airflowUnits:p.lbsmin,mapPressureUnits:W.bar,points:[{pressure:new D(2.5,W.bar),rpm:3e3},{pressure:new D(2.5,W.bar),rpm:5300},{pressure:new D(2.5,W.bar),rpm:6500}],displacement:new $(1984,L.cc),ambientAirPressure:new D(101325,W.Pa),ambientAirTemperature:new J(15,A.C)},getters:{airflowUnits:function(t){var e=t.airflowUnits;return e},mapPressureUnits:function(t){var e=t.mapPressureUnits;return e},points:function(t){var e=t.points;return e},displacement:function(t){var e=t.displacement;return e},ambientAirPressure:function(t){var e=t.ambientAirPressure;return e},ambientAirTemperature:function(t){var e=t.ambientAirTemperature;return e}},mutations:{airflowUnits:function(t,e){return t.airflowUnits=e},mapPressureUnits:function(t,e){return t.mapPressureUnits=e},point:function(t,e){var n=e.point,i=e.index;t.points[i].pressure[t.mapPressureUnits]=n.pressure[t.mapPressureUnits],t.points[i].rpm=n.rpm},points:function(t,e){return t.points=e},displacement:function(t,e){return t.displacement=e},ambientAirPressure:function(t,e){return t.ambientAirPressure=e},ambientAirTemperature:function(t,e){return t.ambientAirTemperature=e}},actions:{addPoint:function(t,e){var n=t.commit,i=t.state,r=[].concat(Object(b["a"])(i.points.filter((function(t){return t.rpm!==e.rpm}))),[e]).sort((function(t,e){return t.rpm-e.rpm}));n("points",r)},removePoint:function(t,e){var n=t.commit,i=t.state,r=i.points.filter((function(t){return t.rpm!==e.rpm}));n("points",r)}}};n("d81d");function ut(t,e){var n=Object(r["z"])("external-map"),i=Object(r["z"])("grid"),o=Object(r["z"])("turbine-map-on-compressor"),a=Object(r["z"])("engine-map");return Object(r["t"])(),Object(r["e"])("div",{id:"cold-side-map",style:{width:t.coldSideWidth+"px",height:t.coldSideHeight+"px"}},[t.coldSideLayers.map?(Object(r["t"])(),Object(r["e"])(n,{key:0,"canvas-id":"compressor-map","map-id":"coldSideMap"})):Object(r["f"])("",!0),t.coldSideLayers.grid?(Object(r["t"])(),Object(r["e"])(i,{key:1,"canvas-id":"compressor-grid","map-id":"coldSideMap"})):Object(r["f"])("",!0),t.coldSideLayers.curveFromOtherside?(Object(r["t"])(),Object(r["e"])(o,{key:2,"canvas-id":"turbine-map-on-compressor","map-id":"coldSideMap"})):Object(r["f"])("",!0),t.coldSideLayers.points?(Object(r["t"])(),Object(r["e"])(a,{key:3,"canvas-id":"engine-map","map-id":"coldSideMap"})):Object(r["f"])("",!0)],4)}var st=n("3835"),ct="map",dt=function(t){return"".concat(ct,"/").concat(t)},lt=function(t,e,n){return{get:function(){return n.getters[dt(e)](t)},set:function(i){n.commit(dt(e),Object(v["a"])({map:t},e,i))}}},pt=function(t,e){var n=t.offsetX/t.mapWidth,i=t.gridWidth/t.mapWidth;return[n*e,i*e]},ft=function(t,e){var n=t.offsetY/t.mapHeight,i=t.gridHeight/t.mapHeight;return[n*e,i*e]},mt={namespaced:!0,state:{coldSideMap:{imageData:"",imageWidth:800,imageHeight:600,mapWidth:800,mapHeight:600,gridWidth:700,gridHeight:500,offsetX:50,offsetY:550,minX:0,maxX:60,xStep:5,xUnits:"corrected lbs/min",minY:1,maxY:4,yStep:.25,yUnits:"pressureRatio",layers:{map:!0,grid:!0,curveFromOtherside:!0,points:!0}},hotSideMap:{imageData:"",imageWidth:800,imageHeight:600,mapWidth:800,mapHeight:600,gridWidth:700,gridHeight:500,offsetX:50,offsetY:550,minX:1,maxX:4,xStep:.25,xUnits:"pressureRatio",minY:0,maxY:25,yStep:2.5,yUnits:"corrected lbs/min",layers:{map:!0,grid:!0,curveFromOtherside:!1,points:!0}}},getters:{imageData:function(t){return function(e){return t[e].imageData}},imageWidth:function(t){return function(e){return t[e].imageWidth}},imageHeight:function(t){return function(e){return t[e].imageHeight}},mapWidth:function(t){return function(e){return t[e].mapWidth}},mapHeight:function(t){return function(e){return t[e].mapHeight}},gridWidth:function(t){return function(e){return t[e].gridWidth}},gridHeight:function(t){return function(e){return t[e].gridHeight}},offsetX:function(t){return function(e){return t[e].offsetX}},offsetY:function(t){return function(e){return t[e].offsetY}},minX:function(t){return function(e){return t[e].minX}},maxX:function(t){return function(e){return t[e].maxX}},xStep:function(t){return function(e){return t[e].xStep}},xUnits:function(t){return function(e){return t[e].xUnits}},minY:function(t){return function(e){return t[e].minY}},maxY:function(t){return function(e){return t[e].maxY}},yStep:function(t){return function(e){return t[e].yStep}},yUnits:function(t){return function(e){return t[e].yUnits}},layers:function(t){return function(e){return t[e].layers}}},mutations:{imageData:function(t,e){var n=e.map,i=e.imageData;t[n].imageData=i},imageWidth:function(t,e){var n=e.map,i=e.imageWidth;t[n].imageWidth=i},imageHeight:function(t,e){var n=e.map,i=e.imageHeight;t[n].imageHeight=i},mapWidth:function(t,e){var n=e.map,i=e.mapWidth,r=pt(t[n],i),o=Object(st["a"])(r,2),a=o[0],u=o[1];t[n].mapWidth=i,t[n].offsetX=a,t[n].gridWidth=u},mapHeight:function(t,e){var n=e.map,i=e.mapHeight,r=ft(t[n],i),o=Object(st["a"])(r,2),a=o[0],u=o[1];t[n].mapHeight=i,t[n].offsetY=a,t[n].gridHeight=u},gridWidth:function(t,e){var n=e.map,i=e.gridWidth;t[n].gridWidth=i},gridHeight:function(t,e){var n=e.map,i=e.gridHeight;t[n].gridHeight=i},offsetX:function(t,e){var n=e.map,i=e.offsetX;t[n].offsetX=i},offsetY:function(t,e){var n=e.map,i=e.offsetY;t[n].offsetY=i},minX:function(t,e){var n=e.map,i=e.minX;t[n].minX=i},maxX:function(t,e){var n=e.map,i=e.maxX;t[n].maxX=i},xStep:function(t,e){var n=e.map,i=e.xStep;t[n].xStep=i},xUnits:function(t,e){var n=e.map,i=e.xUnits;t[n].xUnits=i},minY:function(t,e){var n=e.map,i=e.minY;t[n].minY=i},maxY:function(t,e){var n=e.map,i=e.maxY;t[n].maxY=i},yStep:function(t,e){var n=e.map,i=e.yStep;t[n].yStep=i},yUnits:function(t,e){var n=e.map,i=e.yUnits;t[n].yUnits=i}}};function ht(t,e){var n=Object(r["z"])("plane");return Object(r["t"])(),Object(r["e"])(n,{"map-id":t.mapId,"layer-id":t.canvasId},null,8,["map-id","layer-id"])}n("cb29"),n("4160"),n("fb6a"),n("b680"),n("159b");var bt=n("4f96"),vt=n("5530"),gt=n("262e"),Ot=n("2caf"),jt=n("9072"),yt="rgb(134,136,138)",xt=function(t){Object(gt["a"])(n,t);var e=Object(Ot["a"])(n);function n(){Object(g["a"])(this,n);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.call.apply(e,[this].concat(i))}return n}(Object(jt["a"])(Error)),wt=function(){function t(e){Object(g["a"])(this,t),t.validateSetup(e);var n=e.canvasRef,i=e.height,r=e.width,o=e.gridHeight,a=e.gridWidth,u=e.offsetX,s=e.offsetY,c=e.minX,d=e.minY,l=e.maxX,p=e.maxY,f=e.yInterval,m=void 0===f?0:f,h=e.xInterval,b=void 0===h?0:h;this.context=n.getContext("2d"),this.height=i,this.width=r,this.gridWidth=a,this.gridHeight=o,this.offsetX=u,this.offsetY=s,this.minX=c,this.minY=d,this.maxX=l,this.maxY=p,this.context.font="10px sans-serif",this.xInterval=0===b?l-c:b,this.yInterval=0===m?p-d:m,this.xIntervalCount=Math.round((l-c)/this.xInterval),this.yIntervalCount=Math.round((p-d)/this.yInterval),this.xAxisSpacing=a/this.xIntervalCount,this.yAxisSpacing=o/this.yIntervalCount}return Object(O["a"])(t,[{key:"setup",value:function(e){var n=Object(vt["a"])(Object(vt["a"])({},this),e);t.validateSetup(n),this.clear();var i=n.height,r=n.width,o=n.gridHeight,a=n.gridWidth,u=n.offsetX,s=n.offsetY,c=n.minX,d=n.minY,l=n.maxX,p=n.maxY,f=n.yInterval,m=void 0===f?0:f,h=n.xInterval,b=void 0===h?0:h;this.height=i,this.width=r,this.gridWidth=a,this.gridHeight=o,this.offsetX=u,this.offsetY=s,this.minX=c,this.minY=d,this.maxX=l,this.maxY=p,this.context.font="10px sans-serif",this.xInterval=0===b?l-c:b,this.yInterval=0===m?p-d:m,this.xIntervalCount=Math.round((l-c)/this.xInterval),this.yIntervalCount=Math.round((p-d)/this.yInterval),this.xAxisSpacing=a/this.xIntervalCount,this.yAxisSpacing=o/this.yIntervalCount}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"drawGrid",value:function(){this.context.beginPath(),this.context.strokeStyle=yt,this.context.lineWidth=1,this.context.moveTo(this.offsetX,this.offsetY);for(var t=0;t<=this.xIntervalCount;t+=1){var e=Math.round(t*this.xAxisSpacing)+this.offsetX;this.context.moveTo(e,this.offsetY),this.context.lineTo(e,this.offsetY-this.gridHeight)}for(var n=this.yIntervalCount;n>=0;n-=1){var i=Math.round(n*this.yAxisSpacing)+(this.offsetY-this.gridHeight);this.context.moveTo(this.offsetX,i),this.context.lineTo(this.offsetX+this.gridWidth,i)}this.context.stroke()}},{key:"drawAxis",value:function(){var t=this.context,e=this.gridWidth,n=this.gridHeight,i=this.offsetX,r=this.offsetY,o=this.xAxisSpacing,a=this.yAxisSpacing,u=this.xInterval,s=this.yInterval,c=this.minX,d=this.maxY,l=this.minY;t.beginPath();for(var p=i,f=c;p<=i+e;p+=o,f+=u){var m=f.toFixed(3);t.fillText(m,p-t.measureText(m).width/2,r+14)}for(var h=r,b=l;h>=r-n;h-=a,b+=s){var v=b.toFixed(2);t.fillText(v,i-t.measureText(v).width-4,h+5)}t.beginPath(),t.rect(this.transformX(c),this.transformY(d),this.gridWidth,this.gridHeight),t.stroke()}},{key:"transformX",value:function(t){var e=this.gridWidth/(this.maxX-this.minX);return Math.floor((t-this.minX)*e)+this.offsetX+.5}},{key:"transformY",value:function(t){var e=this.gridHeight/(this.maxY-this.minY);return this.offsetY-Math.floor((t-this.minY)*e)+.5}},{key:"moveTo",value:function(t,e){return this.context.moveTo(this.transformX(t),this.transformY(e))}},{key:"lineTo",value:function(t,e){return this.context.lineTo(this.transformX(t),this.transformY(e))}},{key:"stroke",value:function(){return this.context.stroke()}},{key:"drawCircle",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.context.beginPath(),this.context.moveTo(this.transformX(t)+n,this.transformY(e)),this.context.arc(this.transformX(t),this.transformY(e),n,0,2*Math.PI),i&&this.context.fill(),this.context.stroke()}},{key:"drawMap",value:function(t){var e=this;if(this.clear(),0!==t.length){this.context.beginPath(),this.context.strokeStyle="green",this.context.lineWidth=3;var n=Object(bt["a"])(t),i=n[0],r=n.slice(1);this.moveTo(i.x,i.y),r.forEach((function(t){var n=t.x,i=t.y;e.lineTo(n,i),e.moveTo(n,i)})),this.lineTo(i.x,i.y),this.context.closePath(),this.stroke(),this.context.beginPath(),this.context.strokeStyle="red",this.context.fillStyle="pink",this.context.lineWidth=1,t.forEach((function(t){var n=t.x,i=t.y;e.drawCircle(n,i,5,!0)}))}}},{key:"drawCurve",value:function(t){var e=this;if(this.clear(),0!==t.length){this.context.beginPath(),this.context.strokeStyle="green",this.context.lineWidth=3;var n=Object(bt["a"])(t),i=n[0],r=n.slice(1);this.moveTo(i.x,i.y),r.forEach((function(t){var n=t.x,i=t.y;e.lineTo(n,i),e.moveTo(n,i)})),this.stroke(),this.context.closePath(),this.context.beginPath(),this.context.strokeStyle="red",this.context.fillStyle="pink",this.context.lineWidth=1,t.forEach((function(t){var n=t.x,i=t.y;e.drawCircle(n,i,5,!0)}))}}},{key:"plotFunction",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.minX,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxX;this.clear(),this.context.strokeStyle="red";var i=(n-e)/this.gridWidth;this.context.beginPath(),this.moveTo(this.minX,t(this.minX));for(var r=e;r<n;r+=i)this.lineTo(r,t(r));this.context.stroke()}}],[{key:"validateSetup",value:function(t){var e=t.height,n=t.width,i=t.gridHeight,r=t.gridWidth,o=t.minX,a=t.minY,u=t.maxX,s=t.maxY,c=t.yInterval,d=void 0===c?0:c,l=t.xInterval,p=void 0===l?0:l;if(e<0||n<0)throw new xt("canvas dimensions");if(o>=u||a>=s)throw new xt("axis limits");if(d<0||p<0)throw new xt("axis steps");if(0!==p&&(u-o)/p>r)throw new xt("grid too dense");if(0!==d&&(s-a)/d>i)throw new xt("grid too dense")}}]),t}(),It=function(t){var e=t.image,n=t.canvas;return function(t,i){var r=n.width,o=n.height,a=n.getContext("2d");a.clearRect(0,0,r,o),a.drawImage(e,0,0,t,i)}};function St(t,e){return Object(r["t"])(),Object(r["e"])("canvas",{id:t.layerId,width:t.width,height:t.height},null,8,["id","width","height"])}var kt=Object(r["j"])({name:"Plane",props:{mapId:String,layerId:String},setup:function(t){var e=t.mapId,n=Object(h["b"])(),i=Object(r["d"])(lt(e,"mapWidth",n)),o=Object(r["d"])(lt(e,"mapHeight",n));return{width:i,height:o}}});n("97c6");kt.render=St;var Mt=kt,_t=function(t,e,n){var i=new FileReader;n.value.length>0&&(e.src=n.value);var r=function(t){e.src=t.target.result,n.value=e.src},o=function(t){var e=Object(st["a"])(t.target.files,1),n=e[0];i.readAsDataURL(n)};i.addEventListener("load",r),t.addEventListener("change",o);var a=function(){i.removeEventListener("load",r),t.removeEventListener("change",o)};return a},Xt=Object(r["j"])({name:"ExternalMap",components:{Plane:Mt},props:{canvasId:String,gridId:String,mapId:String},setup:function(t){var e=t.canvasId,n=t.mapId,i=Object(h["b"])(),o=Object(r["d"])(lt(n,"imageData",i)),a=Object(r["d"])(lt(n,"mapWidth",i)),u=Object(r["d"])(lt(n,"mapHeight",i)),s=Object(r["d"])(lt(n,"imageWidth",i)),c=Object(r["d"])(lt(n,"imageHeight",i)),d=function(){};Object(r["q"])((function(){var t=document.getElementById(e),i=new Image;i.src=o.value;var l=document.getElementById("".concat(n,"-image"));l&&(d=_t(l,i,o)),i.onload=function(){s.value=i.width,c.value=i.height,u.value=Math.round(a.value*(i.height/i.width)),t.getContext("2d").drawImage(i,0,0,a.value,u.value)};var p=It({canvas:t,image:i});Object(r["E"])([function(){return a.value},function(){return u.value}],(function(t){var e=Object(st["a"])(t,2),n=e[0],i=e[1];return p(n,i)}),{flush:"post"}),Object(r["E"])((function(){return o.value}),(function(t){return i.src=t}),{flush:"post"})})),Object(r["r"])(d)}});Xt.render=ht;var Yt=Xt;function Ht(t,e){var n=Object(r["z"])("plane");return Object(r["t"])(),Object(r["e"])(n,{"layer-id":t.canvasId,"map-id":t.mapId,onMousemove:t.handleHover,onMousedown:t.handleMouseDown,onMouseup:t.handleMouseUp,onContextmenu:t.handleRightClick,onMouseleave:t.handleMouseLeave},null,8,["layer-id","map-id","onMousemove","onMousedown","onMouseup","onContextmenu","onMouseleave"])}var Ut=function(t,e,n){return new wt({canvasRef:t,width:lt(e,"mapWidth",n).get(),height:lt(e,"mapHeight",n).get(),gridWidth:lt(e,"gridWidth",n).get(),gridHeight:lt(e,"gridHeight",n).get(),offsetX:lt(e,"offsetX",n).get(),offsetY:lt(e,"offsetY",n).get(),minX:lt(e,"minX",n).get(),maxX:lt(e,"maxX",n).get(),minY:lt(e,"minY",n).get(),maxY:lt(e,"maxY",n).get(),xInterval:lt(e,"xStep",n).get(),yInterval:lt(e,"yStep",n).get()})},Pt=function(t){var e=t.grid,n=t.mapId,i=t.gridActions,o=t.watchStepChange,a=void 0!==o&&o,u=t.store,s=[lt(n,"mapWidth",u),lt(n,"mapHeight",u),lt(n,"gridWidth",u),lt(n,"gridHeight",u),lt(n,"offsetX",u),lt(n,"offsetY",u),lt(n,"minX",u),lt(n,"maxX",u),lt(n,"minY",u),lt(n,"maxY",u),lt(n,"xUnits",u),lt(n,"yUnits",u)];a&&(s.push(lt(n,"xStep",u)),s.push(lt(n,"yStep",u)));var c=s.map((function(t){return t.get}));Object(r["E"])(c,(function(t){var n=Object(st["a"])(t,14),r=n[0],o=n[1],a=n[2],u=n[3],s=n[4],c=n[5],d=n[6],l=n[7],p=n[8],f=n[9],m=(n[10],n[11],n[12]),h=n[13];try{e.setup({width:r,height:o,gridWidth:a,gridHeight:u,offsetX:s,offsetY:c,minX:d,maxX:l,xInterval:m,minY:p,maxY:f,yInterval:h}),i.forEach((function(t){return t()}))}catch(b){b instanceof xt||console.log(b)}}),{flush:"post"})},Rt=(n("c740"),function(){}),Wt=function(t){var e=t.points,n=t.getX,i=t.getY,r=t.pixelRadius,o=t.store,a=t.mapId,u=lt(a,"gridWidth",o),s=lt(a,"gridHeight",o),c=lt(a,"minX",o),d=lt(a,"maxX",o),l=lt(a,"minY",o),p=lt(a,"maxY",o),f=function(){return(d.get()-c.get())*r/u.get()},m=function(){return(p.get()-l.get())*r/s.get()};return function(t,r){return e.value.findIndex((function(e){return(n(e)===t||Math.abs(n(e)-t)<=f())&&(i(e)===r||Math.abs(i(e)-r)<=m())}))}},Tt=function(t){var e=t.canvasRef,n=t.store,i=t.mapId,r=t.transformX,o=t.transformY,a=t.onHover,u=void 0===a?Rt:a,s=t.onMouseDown,c=void 0===s?Rt:s,d=t.onMouseUp,l=void 0===d?Rt:d,p=t.onRightClick,f=void 0===p?Rt:p,m=lt(i,"gridWidth",n),h=lt(i,"gridHeight",n),v=lt(i,"offsetX",n),g=lt(i,"offsetY",n),O=lt(i,"minX",n),j=lt(i,"maxX",n),y=lt(i,"minY",n),x=lt(i,"maxY",n),w={left:0,top:0},I=function(){w=e.value.getBoundingClientRect()},S=function(){return w.left+v.get()},k=function(){return w.top+g.get()-h.get()};window.addEventListener("resize",I),window.addEventListener("scroll",I);var M=function(t){return t-w.left},_=function(t){return t-w.top},X=function(t){return t/m.get()*(j.get()-O.get())+O.get()},Y=function(t){return(1-t/h.get())*(x.get()-y.get())+y.get()},H=function(t){var e=t.x,n=t.y,i=Y(n-k()),r=X(e-S()),o=[r,i];return r>j.get()&&(o[0]=j.get()),r<O.get()&&(o[0]=O.get()),i>x.get()&&(o[1]=x.get()),i<y.get()&&(o[1]=y.get()),o},U=function(t){var e=H(t),n=Object(st["a"])(e,2),i=n[0],a=n[1];return[r(i),o(a),M(t.x),_(t.y)]},P=function(t){return u.apply(void 0,Object(b["a"])(U(t)))},R=function(t){return c.apply(void 0,Object(b["a"])(U(t)))},W=function(t){return l.apply(void 0,Object(b["a"])(U(t)))},T=function(t){t.preventDefault(),f.apply(void 0,Object(b["a"])(U(t)))};return{handleHover:P,handleMouseDown:R,handleMouseUp:W,handleRightClick:T}},Ct=Object(r["j"])({name:"Grid",components:{Plane:Mt},props:{canvasId:String,mapId:String},setup:function(t){var e=t.canvasId,n=t.mapId,i=Object(h["b"])(),o=Object(r["d"])(lt(n,"offsetX",i)),a=Object(r["d"])(lt(n,"offsetY",i)),u=Object(r["d"])(lt(n,"gridWidth",i)),s=Object(r["d"])(lt(n,"gridHeight",i)),c=Object(m["i"])({}),d=!1,l=function(t){d=t.ctrlKey};window.addEventListener("keydown",l),window.addEventListener("keyup",l),Object(r["p"])((function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",l)})),Object(r["q"])((function(){c.value=document.getElementById(e);var t=Ut(c.value,n,i),r=function(){t.drawGrid()};r(),Pt({grid:t,gridActions:[r],mapId:n,store:i,watchStepChange:!0})}));var p=null,f=Tt({canvasRef:c,mapId:n,store:i,transformY:function(t){return t},transformX:function(t){return t},onHover:function(t,e,n,i){if(p){var r=d?.05:1,c=n-p.mouseX,l=i-p.mouseY,f=Math.round(c*r),m=Math.round(l*r);p.rescale?(Math.abs(f)>=1&&(u.value+=f,p.mouseX+=c),Math.abs(m)>=1&&(s.value-=m,p.mouseY+=l)):(Math.abs(f)>=1&&(o.value+=f,p.mouseX+=c),Math.abs(m)>=1&&(a.value+=m,p.mouseY+=l))}},onMouseDown:function(t,e,n,i){p={mouseX:n,mouseY:i,rescale:!1}},onMouseUp:function(){p=null},onRightClick:function(t,e,n,i){p={mouseX:n,mouseY:i,rescale:!0}}}),b=f.handleHover,v=f.handleMouseDown,g=f.handleMouseUp,O=f.handleRightClick,j=function(){p=null};return{handleHover:b,handleMouseDown:v,handleMouseUp:g,handleRightClick:O,handleMouseLeave:j}}});Ct.render=Ht;var At=Ct,Et=Object(r["I"])("data-v-29172058"),Dt=Et((function(t,e){var n=Object(r["z"])("plane");return Object(r["t"])(),Object(r["e"])(n,{"layer-id":t.canvasId,"map-id":t.mapId},null,8,["layer-id","map-id"])})),Lt=(n("13d5"),n("7db0"),function(t){var e=t.temperature,n=t.pressure;return n.SI/(e.SI*j)}),Ft=function(t){var e=t.displacement,n=t.volumetricEfficiency,i=void 0===n?1:n,r=t.throttling,o=void 0===r?1:r;return e["cubic meters"]=e.SI*i*o,e},Bt=function(t){var e=t.rpm,n=t.volume;return n*e/120},Vt=function(t){var e=t.massAirflow,n=t.displacement,i=t.temperature,r=t.pressure,o=Lt({temperature:i,pressure:r}),a=e.SI/o,u=60*a*2/n.SI;return u},Gt=function(t){var e=t.rpm,n=t.displacement,i=t.temperature,r=t.pressure,o=Ft({displacement:n});return new R(Bt({rpm:e,volume:o.SI})*Lt({temperature:i,pressure:r}))},zt=(_-1)/_,Nt=(M-1)/M,Kt=function(t){var e=t.massAirflow,n=t.ambientTemperature,i=t.pressureRatio,r=t.compressorEfficiency,o=1/r*e.SI*k*n.SI*(Math.pow(i,zt)-1);return new C(o)},Jt=function(t){var e=t.massAirflow,n=t.inletTemperature,i=t.pressureRatio,r=t.turbineEfficiency,o=r*e.SI*S*n.SI*(1-Math.pow(1/i,Nt));return new C(o)},qt=function(t,e,n){return function(i){var r=t();if(0===r.length)return 0;var o=r.find((function(t){return e(t)===i}));if(o)return n(o);var a=r.findIndex((function(t){return e(t)>i})),u=a-1;if(-1===a)return n(r[r.length-1]);if(0===a)return n(r[0]);var s=e(r[a])-e(r[u]),c=n(r[a])-n(r[u]);return n(r[a])-c*(e(r[a])-i)/s}},$t=function(t){var e=t.phi,n=t.pressureRatio,i=t.referencePressure,r=t.exhaustTemperature;return new R(e*n*i["kilopascal"]/Math.sqrt(r.SI))},Qt=function(t){var e=t.correctedFlow,n=t.pressureRatio,i=t.referenceTemperature,r=t.exhaustTemperature;return new R(e.SI*n*Math.sqrt(i.SI/r.SI))},Zt=(n("a434"),"turbineModel"),te=function(t){return"".concat(Zt,"/").concat(t)},ee=function(t){return function(){return t.getters[te("points")]}},ne=function(t){return function(e){return t.commit(te("addPoint"),e)}},ie=function(t){return function(e){return t.commit(te("removePoint"),e)}},re=function(t){return function(e,n){return t.commit(te("changePoint"),{point:e,index:n})}},oe={namespaced:!0,state:{points:[{gasflow:0,pressureRatio:1},{gasflow:9.2,pressureRatio:1.175},{gasflow:12.1,pressureRatio:1.375},{gasflow:13,pressureRatio:1.5},{gasflow:14.4,pressureRatio:1.75},{gasflow:16,pressureRatio:2.25},{gasflow:16.25,pressureRatio:2.5},{gasflow:16.4,pressureRatio:3},{gasflow:16.2,pressureRatio:3.75}]},getters:{points:function(t){var e=t.points;return e}},mutations:{addPoint:function(t,e){t.points.push(e),t.points.sort((function(t,e){return t.pressureRatio-e.pressureRatio}))},removePoint:function(t,e){var n=t.points.findIndex((function(t){return t.pressureRatio===e.pressureRatio&&t.gasflow===e.gasflow}));t.points.splice(n,1)},changePoint:function(t,e){var n=e.index,i=e.point;t.points[n]=i}}},ae=Object(r["j"])({name:"TurbineMapOnCompressor",components:{Plane:Mt},props:{canvasId:String,mapId:String},setup:function(t){var e,n=t.canvasId,i=t.mapId,o=Object(h["b"])(),a=Object(r["d"])(ot("ambientAirTemperature",o)),u=Object(r["d"])(lt("coldSideMap","xUnits",o)),s=Object(r["d"])((function(){return"corrected lbs/min"===u.value?p.lbsmin:p.kgs})),c=Object(r["d"])(lt("hotSideMap","yUnits",o)),d=function(t,e){return"phi"===c.value?$t({phi:t,pressureRatio:e,referencePressure:new D(101325),exhaustTemperature:new J(1100)}):Qt({correctedFlow:new R(t,p.lbsmin),pressureRatio:e,referenceTemperature:new J(288.15),exhaustTemperature:new J(1100)})},l=Object(r["d"])(ee(o)),f=qt((function(){return l.value}),(function(t){var e=t.gasflow,n=t.pressureRatio;return d(e,n)[s.value]}),(function(t){var e=t.gasflow,n=t.pressureRatio;return Jt({massAirflow:d(e,n),pressureRatio:n,inletTemperature:new J(1100),turbineEfficiency:.69}).SI})),m=function(t){var e=1+1/11.3,n=.59*f(t*e),i=new R(t,s.value).SI*k*a.value.SI,r=n/i+1;return Math.pow(r,_/(_-1))};Object(r["q"])((function(){e=document.getElementById(n);var t=Ut(e,i,o);t.plotFunction(m),Pt({grid:t,gridActions:[function(){return t.plotFunction(m)}],mapId:i,store:o}),Object(r["E"])((function(){return l.value.reduce((function(t,e){return t+e.pressureRatio+e.gasflow}),0)}),(function(){t.plotFunction(m)}),{flush:"post"})}))}});n("0822");ae.render=Dt,ae.__scopeId="data-v-29172058";var ue=ae,se=n("6690"),ce=Object(r["i"])("div",null,"Boost:",-1),de=Object(r["i"])("div",null,"rpm:",-1),le=Object(r["i"])("div",null,"maf:",-1),pe=Object(r["i"])("div",null,"compr. power:",-1);function fe(t,e){var n=Object(r["z"])("plane"),i=Object(r["z"])("tooltip");return Object(r["t"])(),Object(r["e"])(r["b"],null,[Object(r["i"])(n,{"layer-id":t.canvasId,"map-id":t.mapId,onMousemove:t.handleHover,onMousedown:t.handleMouseDown,onMouseup:t.handleMouseUp,onContextmenu:t.handleRightClick,onMouseenter:t.showTooltip,onMouseleave:t.hideTooltip},null,8,["layer-id","map-id","onMousemove","onMousedown","onMouseup","onContextmenu","onMouseenter","onMouseleave"]),Object(r["i"])(i,{x:t.tooltipX,y:t.tooltipY,visible:t.tooltipVisible,"tooltip-id":"compressor-map-tooltip"},{default:Object(r["G"])((function(){return[ce,Object(r["i"])("div",null,Object(se["B"])((Math.round(10*t.pointerData.boost)/10).toFixed(2))+" PSI",1),de,Object(r["i"])("div",null,Object(se["B"])(t.pointerData.rpm),1),le,Object(r["i"])("div",null,Object(se["B"])((Math.round(10*t.pointerData.maf["lbs/min"])/10).toFixed(1))+" lbs/min",1),pe,Object(r["i"])("div",null,Object(se["B"])(t.pointerData.compressorPower["kilowatt"].toFixed(3))+" kWatts",1)]})),_:1},8,["x","y","visible"])],64)}var me=Object(r["I"])("data-v-1e258eaa"),he=me((function(t,e){return Object(r["t"])(),Object(r["e"])("div",{class:["tooltip",{"tooltip--visible":t.visible}],style:{left:t.x+"px",top:t.y+"px"},id:t.tooltipId,onMouseover:e[1]||(e[1]=function(){return t.handleMouseenter.apply(t,arguments)}),onMouseout:e[2]||(e[2]=function(){return t.handleMouseleave.apply(t,arguments)})},[Object(r["y"])(t.$slots,"default")],46,["id"])})),be=(n("a9e3"),Object(r["j"])({props:{x:Number,y:Number,visible:Boolean,tooltipId:String},setup:function(t){var e=Object(m["i"])({});return Object(r["q"])((function(){e.value=document.getElementById(t.tooltipId)})),{handleMouseenter:function(){e.value.className="tooltip"},handleMouseleave:function(){e.value.className="tooltip tooltip--visible"}}}}));n("ac7f");be.render=he,be.__scopeId="data-v-1e258eaa";var ve=be,ge=Object(r["j"])({name:"Map",components:{Plane:Mt,Tooltip:ve},props:{canvasId:String,mapId:String},setup:function(t){var e=t.canvasId,n=t.mapId,i=Object(m["i"])(0),o=Object(m["i"])(0),a=Object(m["i"])(!1),u=function(t,e){i.value=t,o.value=e},s=function(){return a.value=!1},c=function(){a.value=!0,window.dispatchEvent(new Event("scroll"))},d=Object(m["i"])({}),l=Object(h["b"])(),f=Object(r["d"])(lt(n,"minY",l)),v=Object(r["d"])(lt(n,"xUnits",l)),g=Object(r["d"])((function(){return"corrected lbs/min"===v.value?p.lbsmin:p.kgs})),O=Object(r["d"])(ot("displacement",l)),j=Object(r["d"])(ot("ambientAirPressure",l)),y=Object(r["d"])(ot("ambientAirTemperature",l)),x=Object(m["i"])({boost:0,rpm:0,compressorPower:new C(0),maf:new R(0)}),w=rt(l),I=nt(l),S=it(l),k=function(t){var e=t.pressure,n=t.rpm,i=Gt({displacement:O.value,temperature:y.value,pressure:e,rpm:n});return i[g.value]},M=Object(r["d"])(et(l)),_=Object(r["d"])((function(){var t,e;return[{x:k({pressure:j.value,rpm:null===(t=M.value[0])||void 0===t?void 0:t.rpm}),y:f.value}].concat(Object(b["a"])(M.value.map((function(t){return{x:k({pressure:t.pressure,rpm:t.rpm}),y:t.pressure.getPressureRatio(j.value)}}))),[{x:k({pressure:j.value,rpm:null===(e=M.value[M.value.length-1])||void 0===e?void 0:e.rpm}),y:f.value}])}));Object(r["q"])((function(){d.value=document.getElementById(e);var t=Ut(d.value,n,l);t.drawMap(_.value),Pt({grid:t,gridActions:[function(){t.drawMap(_.value)}],store:l,mapId:n}),Object(r["E"])((function(){return _.value}),(function(e){t.drawMap(e)}),{flush:"post"})}));var X=-1,Y=function(t){var e=t.massAirflow,n=t.pressureRatio;return Math.round(Vt({massAirflow:e,displacement:O.value,temperature:y.value,pressure:j.value.multiply(n)}))},H=Wt({points:_,getX:function(t){return t.x},getY:function(t){return t.y},pixelRadius:10,store:l,mapId:n}),U=Tt({canvasRef:d,mapId:n,store:l,transformY:function(t){return t},transformX:function(t){return new R(t,g.value)},onHover:function(t,e,n,i){u(n,i);var r=Y({massAirflow:t,pressureRatio:e});x.value={rpm:r,boost:j.value.multiply(e-1)["psi"],compressorPower:Kt({massAirflow:t,ambientTemperature:y.value,pressureRatio:e,compressorEfficiency:.72}),maf:t},X>-1&&w({rpm:r,pressure:j.value.multiply(e)},X)},onMouseDown:function(t,e){X=H(t[g.value],e)-1},onMouseUp:function(){X=-1},onRightClick:function(t,e){var n=H(t[g.value],e)-1;n<0?I({rpm:Y({massAirflow:t,pressureRatio:e}),pressure:j.value.multiply(e)}):S(M.value[n])}}),P=U.handleHover,W=U.handleMouseDown,T=U.handleMouseUp,A=U.handleRightClick;return{handleHover:P,handleMouseDown:W,handleMouseUp:T,handleRightClick:A,pointerData:x,airflowUnits:g,tooltipX:i,tooltipY:o,tooltipVisible:a,showTooltip:c,hideTooltip:s}}});ge.render=fe;var Oe=ge,je=Object(r["j"])({name:"ColdSideMap",components:{ExternalMap:Yt,Grid:At,TurbineMapOnCompressor:ue,EngineMap:Oe},setup:function(){var t=Object(h["b"])(),e=Object(r["d"])(lt("coldSideMap","mapWidth",t)),n=Object(r["d"])(lt("coldSideMap","mapHeight",t)),i=Object(r["d"])(lt("coldSideMap","layers",t));return{coldSideWidth:e,coldSideHeight:n,coldSideLayers:i}}});n("e106");je.render=ut;var ye=je;function xe(t,e){var n=Object(r["z"])("external-map"),i=Object(r["z"])("grid"),o=Object(r["z"])("turbine-map");return Object(r["t"])(),Object(r["e"])("div",{id:"hot-side-map",style:{width:t.hotSideWidth+"px",height:t.hotSideHeight+"px"}},[t.hotSideLayers.map?(Object(r["t"])(),Object(r["e"])(n,{key:0,"canvas-id":"turbine-map","map-id":"hotSideMap"})):Object(r["f"])("",!0),t.hotSideLayers.grid?(Object(r["t"])(),Object(r["e"])(i,{key:1,"canvas-id":"turbine-grid","map-id":"hotSideMap"})):Object(r["f"])("",!0),t.hotSideLayers.points?(Object(r["t"])(),Object(r["e"])(o,{key:2,"canvas-id":"turbine-model","map-id":"hotSideMap"})):Object(r["f"])("",!0)],4)}var we=Object(r["I"])("data-v-2b498b1c");Object(r["w"])("data-v-2b498b1c");var Ie=Object(r["i"])("div",null,"phi:",-1),Se=Object(r["i"])("div",null,"turbinePower:",-1);Object(r["u"])();var ke=we((function(t,e){var n=Object(r["z"])("plane"),i=Object(r["z"])("tooltip");return Object(r["t"])(),Object(r["e"])(r["b"],null,[Object(r["i"])(n,{"layer-id":t.canvasId,"map-id":t.mapId,onMousemove:t.handleHover,onMousedown:t.handleMouseDown,onMouseup:t.handleMouseUp,onContextmenu:t.handleRightClick,onMouseenter:t.showTooltip,onMouseleave:t.hideTooltip},null,8,["layer-id","map-id","onMousemove","onMousedown","onMouseup","onContextmenu","onMouseenter","onMouseleave"]),Object(r["i"])(i,{x:t.tooltipX,y:t.tooltipY,visible:t.tooltipVisible,"tooltip-id":"turbine-map-tooltip"},{default:we((function(){return[Ie,Object(r["i"])("div",null,Object(se["B"])(t.pointerData.phi.toFixed(3)),1),Se,Object(r["i"])("div",null,Object(se["B"])((t.pointerData.turbinePower.SI/1e3).toFixed(2))+" kWatt",1)]})),_:1},8,["x","y","visible"])],64)})),Me=Object(r["j"])({name:"TurbineMap",components:{Plane:Mt,Tooltip:ve},props:{canvasId:String,mapId:String},setup:function(t){var e=t.canvasId,n=t.mapId,i=Object(m["i"])(0),o=Object(m["i"])(0),a=Object(m["i"])(!1),u=function(t,e){i.value=t,o.value=e},s=function(){return a.value=!1},c=function(){return a.value=!0},d=Object(m["i"])({}),l=Object(h["b"])(),f=Object(r["d"])(lt(n,"yUnits",l)),b=Object(r["d"])((function(){return"corrected lbs/min"===f.value?p.lbsmin:"phi"===f.value?p.kgs:void 0})),v=function(t,e){return"phi"===f.value?$t({phi:t,pressureRatio:e,referencePressure:new D(101325),exhaustTemperature:new J(1100)}):Qt({correctedFlow:new R(t,p.lbsmin),pressureRatio:e,referenceTemperature:new J(288.15),exhaustTemperature:new J(1100)})},g=re(l),O=ne(l),j=ie(l),y=ee(l),x=Object(r["d"])((function(){return y().map((function(t){return{y:t.gasflow,x:t.pressureRatio}}))})),w=Object(m["i"])({turbinePower:new C(0),phi:0});Object(r["q"])((function(){d.value=document.getElementById(e);var t=Ut(d.value,n,l);t.drawCurve(x.value),Pt({grid:t,gridActions:[function(){t.drawCurve(x.value)}],store:l,mapId:n}),Object(r["E"])((function(){return x.value}),(function(e){t.drawCurve(e)}),{flush:"post"})}));var I=-1,S=Wt({points:Object(r["d"])(y),getX:function(t){return t.pressureRatio},getY:function(t){return t.gasflow},pixelRadius:10,store:l,mapId:n}),k=Tt({canvasRef:d,mapId:n,store:l,transformY:function(t){return t},transformX:function(t){return t},onHover:function(t,e,n,i){u(n,i),w.value={turbinePower:Jt({massAirflow:v(e,t),inletTemperature:new J(1100),pressureRatio:t,turbineEfficiency:.7}),phi:e},I>-1&&g({pressureRatio:t,gasflow:e},I)},onMouseDown:function(t,e){I=S(t,e)},onMouseUp:function(){I=-1},onRightClick:function(t,e){var n=S(t,e);n<0?O({pressureRatio:t,gasflow:e}):j(y()[n])}}),M=k.handleHover,_=k.handleMouseDown,X=k.handleMouseUp,Y=k.handleRightClick;return{handleHover:M,handleMouseDown:_,handleMouseUp:X,handleRightClick:Y,airflowUnits:b,pointerData:w,tooltipX:i,tooltipY:o,tooltipVisible:a,showTooltip:c,hideTooltip:s}}});n("c540");Me.render=ke,Me.__scopeId="data-v-2b498b1c";var _e=Me,Xe=Object(r["j"])({name:"HotSideMap",components:{ExternalMap:Yt,Grid:At,TurbineMap:_e},setup:function(){var t=Object(h["b"])(),e=Object(r["d"])(lt("hotSideMap","mapWidth",t)),n=Object(r["d"])(lt("hotSideMap","mapHeight",t)),i=Object(r["d"])(lt("hotSideMap","layers",t));return{hotSideWidth:e,hotSideHeight:n,hotSideLayers:i}}});n("8da5");Xe.render=xe;var Ye=Xe,He=Object(r["I"])("data-v-29cb254c");Object(r["w"])("data-v-29cb254c");var Ue={class:"map-points-container"},Pe={class:"map-point"},Re=Object(r["i"])("button",{type:"submit"},"remove",-1),We=Object(r["i"])("label",{for:"engine-pressure"},"Pressure (bar)",-1),Te=Object(r["i"])("label",{for:"engine-speed"},"Engine speed (rpm)",-1),Ce=Object(r["i"])("button",{type:"submit"},"Add!",-1);Object(r["u"])();var Ae=He((function(t,e){return Object(r["t"])(),Object(r["e"])("div",Ue,[(Object(r["t"])(!0),Object(r["e"])(r["b"],null,Object(r["x"])(t.points,(function(e,n){return Object(r["t"])(),Object(r["e"])("div",{key:n},[Object(r["i"])("form",{onSubmit:Object(i["e"])((function(n){return t.removeEngineMapPoint(e)}),["prevent"])},[Object(r["i"])("fieldset",Pe,[Object(r["H"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(t){return e.pressure=t},step:"0.01"},null,8,["onUpdate:modelValue"]),[[i["d"],e.pressure]]),Object(r["H"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(t){return e.rpm=t},step:"50"},null,8,["onUpdate:modelValue"]),[[i["d"],e.rpm]]),Re])],40,["onSubmit"])])})),128)),Object(r["i"])("form",{onSubmit:e[3]||(e[3]=Object(i["e"])((function(){return t.addEngineMapPoint.apply(t,arguments)}),["prevent"]))},[Object(r["i"])("fieldset",null,[We,Object(r["H"])(Object(r["i"])("input",{id:"engine-pressure",type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.enginePressure=e}),step:"0.01"},null,512),[[i["d"],t.enginePressure]]),Te,Object(r["H"])(Object(r["i"])("input",{id:"engine-speed",type:"number","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.engineSpeed=e}),step:"50"},null,512),[[i["d"],t.engineSpeed]])]),Ce],32)])})),Ee=Object(r["j"])({name:"EngineMapPoints",setup:function(){var t=Object(h["b"])(),e=Object(m["i"])(1),n=Object(m["i"])(1e3),i=Object(r["d"])(ot("mapPressureUnits",t)),o=Object(r["d"])(et(t)),a=Object(r["d"])((function(){return o.value.map((function(t){return{get pressure(){return t.pressure[i.value]},set pressure(e){t.pressure[i.value]=e},get rpm(){return t.rpm},set rpm(e){t.rpm=e}}}))})),u=nt(t),s=it(t),c=function(){return u({pressure:new D(e.value,i.value),rpm:n.value}),!1};return{points:a,enginePressure:e,engineSpeed:n,addEngineMapPoint:c,removeEngineMapPoint:s}}});n("afcf");Ee.render=Ae,Ee.__scopeId="data-v-29cb254c";var De=Ee,Le=Object(r["I"])("data-v-2f8e7c43");Object(r["w"])("data-v-2f8e7c43");var Fe={class:"grid-config-form"},Be={class:"grid-config-fieldset"},Ve={class:"grid-config-fieldset"},Ge={class:"grid-config-fieldset"},ze={class:"field-with-units"},Ne=Object(r["i"])("option",{value:"pressureRatio"},"pressure ratio",-1),Ke=Object(r["i"])("optgroup",{label:"Corrected mass airflow"},[Object(r["i"])("option",{value:"corrected lbs/min"},"lbs/min"),Object(r["i"])("option",{value:"corrected kg/s"},"kg/s")],-1),Je={class:"field-with-units"},qe=Object(r["i"])("option",{value:"pressureRatio"},"pressure ratio",-1),$e=Object(r["i"])("optgroup",{label:"Corrected mass airflow"},[Object(r["i"])("option",{value:"corrected lbs/min"},"lbs/min"),Object(r["i"])("option",{value:"corrected kg/s"},"kg/s")],-1),Qe={class:"field-with-units"},Ze=Object(r["i"])("option",{value:"pressureRatio"},"pressure ratio",-1),tn=Object(r["i"])("optgroup",{label:"Mass airflow"},[Object(r["i"])("option",{value:"corrected lbs/min"},"lbs/min (Garret)"),Object(r["i"])("option",{value:"phi"},"phi (Borg-Warner)")],-1),en={class:"field-with-units"},nn=Object(r["i"])("option",{value:"pressureRatio"},"pressure ratio",-1),rn=Object(r["i"])("optgroup",{label:"Mass airflow"},[Object(r["i"])("option",{value:"corrected lbs/min"},"lbs/min (Garret)"),Object(r["i"])("option",{value:"phi"},"phi (Borg-Warner)")],-1),on={class:"grid-config-fieldset"};Object(r["u"])();var an=Le((function(t,e){return Object(r["t"])(),Object(r["e"])("div",null,[Object(r["i"])("form",Fe,[Object(r["i"])("fieldset",Be,[Object(r["i"])("label",{for:"".concat(t.mapId,"-image")},"Select image",8,["for"]),Object(r["i"])("input",{id:"".concat(t.mapId,"-image"),type:"file"},null,8,["id"])]),Object(r["i"])("fieldset",Ve,[Object(r["i"])("label",{for:"".concat(t.gridId,"-width")},"Width",8,["for"]),Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-width"),type:"number","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.mapWidth=e}),step:20},null,8,["id"]),[[i["d"],t.mapWidth,void 0,{number:!0}]]),Object(r["i"])("label",{for:"".concat(t.gridId,"-height")},"Height",8,["for"]),Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-height"),type:"number","onUpdate:modelValue":e[2]||(e[2]=function(e){return t.mapHeight=e}),step:20},null,8,["id"]),[[i["d"],t.mapHeight,void 0,{number:!0}]])]),Object(r["i"])("fieldset",Ge,[Object(r["i"])("label",{for:"".concat(t.gridId,"-minX")},"Minimum "+Object(se["B"])(t.xAxisLabel),9,["for"]),Object(r["i"])("div",ze,[Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-minX"),type:"number","onUpdate:modelValue":e[3]||(e[3]=function(e){return t.minX=e}),step:t.xInterval},null,8,["id","step"]),[[i["d"],t.minX,void 0,{number:!0}]]),Object(r["H"])(Object(r["i"])("select",{id:"".concat(t.gridId,"-xUnits"),"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.xUnits=e})},[Ne,Ke],8,["id"]),[[i["c"],t.xUnits]])]),Object(r["i"])("label",{for:"".concat(t.gridId,"-maxX")},"Maximum "+Object(se["B"])(t.xAxisLabel),9,["for"]),Object(r["i"])("div",Je,[Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-minX"),type:"number","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.maxX=e}),step:t.xInterval},null,8,["id","step"]),[[i["d"],t.maxX,void 0,{number:!0}]]),Object(r["H"])(Object(r["i"])("select",{id:"".concat(t.gridId,"-xUnits"),"onUpdate:modelValue":e[6]||(e[6]=function(e){return t.xUnits=e})},[qe,$e],8,["id"]),[[i["c"],t.xUnits]])]),Object(r["i"])("label",{for:"".concat(t.gridId,"-xInterval")},"Grid step",8,["for"]),Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-xInterval"),type:"number","onUpdate:modelValue":e[7]||(e[7]=function(e){return t.xInterval=e}),step:"any"},null,8,["id"]),[[i["d"],t.xInterval,void 0,{number:!0}]]),Object(r["i"])("label",{for:"".concat(t.gridId,"-minY")},"Minimum "+Object(se["B"])(t.yAxisLabel),9,["for"]),Object(r["i"])("div",Qe,[Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-minY"),type:"number","onUpdate:modelValue":e[8]||(e[8]=function(e){return t.minY=e}),step:t.yInterval},null,8,["id","step"]),[[i["d"],t.minY,void 0,{number:!0}]]),Object(r["H"])(Object(r["i"])("select",{id:"".concat(t.gridId,"-yUnits"),"onUpdate:modelValue":e[9]||(e[9]=function(e){return t.yUnits=e})},[Ze,tn],8,["id"]),[[i["c"],t.yUnits]])]),Object(r["i"])("label",{for:"".concat(t.gridId,"-maxY")},"Maximum "+Object(se["B"])(t.yAxisLabel),9,["for"]),Object(r["i"])("div",en,[Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-maxY"),type:"number","onUpdate:modelValue":e[10]||(e[10]=function(e){return t.maxY=e}),step:t.yInterval,min:"1"},null,8,["id","step"]),[[i["d"],t.maxY,void 0,{number:!0}]]),Object(r["H"])(Object(r["i"])("select",{id:"".concat(t.gridId,"-yUnits"),"onUpdate:modelValue":e[11]||(e[11]=function(e){return t.yUnits=e})},[nn,rn],8,["id"]),[[i["c"],t.yUnits]])]),Object(r["i"])("label",{for:"".concat(t.gridId,"-yInterval")},"Grid step",8,["for"]),Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-yInterval"),type:"number","onUpdate:modelValue":e[12]||(e[12]=function(e){return t.yInterval=e}),step:"any"},null,8,["id"]),[[i["d"],t.yInterval,void 0,{number:!0}]])]),Object(r["i"])("fieldset",on,[(Object(r["t"])(!0),Object(r["e"])(r["b"],null,Object(r["x"])(t.layerIndices,(function(e){return Object(r["t"])(),Object(r["e"])(r["b"],{key:e},[Object(r["i"])("label",{for:"".concat(t.gridId,"-layers-").concat(e)},Object(se["B"])(t.getLayerName(e)),9,["for"]),Object(r["H"])(Object(r["i"])("input",{id:"".concat(t.gridId,"-layers-").concat(e),type:"checkbox","onUpdate:modelValue":function(n){return t.layers[e]=n}},null,8,["id","onUpdate:modelValue"]),[[i["b"],t.layers[e]]])],64)})),128))])]),Object(r["i"])("button",{onClick:e[13]||(e[13]=function(){return t.saveState.apply(t,arguments)})},"Save state"),Object(r["i"])("button",{onClick:e[14]||(e[14]=function(){return t.restoreState.apply(t,arguments)})},"Restore saved state")])})),un=(n("b64b"),"hyperborean-state"),sn=function(){var t=localStorage.getItem(un)||"{}";return JSON.parse(t,Q)},cn=function(t){localStorage.setItem(un,JSON.stringify(t))},dn=Object(r["j"])({name:"GridConfig",props:{gridId:String,mapId:String},setup:function(t){var e=t.gridId,n=t.mapId,i=Object(h["b"])(),o=Object(r["d"])(lt(n,"mapWidth",i)),a=Object(r["d"])(lt(n,"mapHeight",i)),u=Object(r["d"])(lt(n,"minX",i)),s=Object(r["d"])(lt(n,"maxX",i)),c=Object(r["d"])(lt(n,"xStep",i)),d=Object(r["d"])(lt(n,"xUnits",i)),l=Object(r["d"])(lt(n,"minY",i)),p=Object(r["d"])(lt(n,"maxY",i)),f=Object(r["d"])(lt(n,"yStep",i)),m=Object(r["d"])(lt(n,"yUnits",i)),b=function(){return i.dispatch("saveState")},v=function(){return i.replaceState(sn())},g="compressorGrid"===e?"mass airflow":"turbineGrid"===e?"pressure ratio":"x",O="compressorGrid"===e?"pressure ratio":"turbineGrid"===e?"gasflow":"x",j=Object(r["d"])(lt(n,"layers",i)),y=Object(r["d"])((function(){return Object.keys(j.value).filter((function(t){return!("hotSideMap"===n&&"curveFromOtherside"===t)}))})),x=function(t){if("map"===t)return"Map layer";if("grid"===t)return"Grid lines";if("points"===t){if("compressorGrid"===e)return"Engine points";if("turbineGrid"===e)return"Turbine points"}if("curveFromOtherside"===t){if("compressorGrid"===e)return"Turbine limits";if("turbineGrid"===e)return"Engine points"}return""};return{mapWidth:o,mapHeight:a,minX:u,maxX:s,xInterval:c,xUnits:d,minY:l,maxY:p,yInterval:f,yUnits:m,saveState:b,restoreState:v,xAxisLabel:g,yAxisLabel:O,layers:j,layerIndices:y,getLayerName:x}}});n("405c");dn.render=an,dn.__scopeId="data-v-2f8e7c43";var ln=dn,pn=function(t,e){return Object(r["d"])({get:function(){return t.value[e.value]},set:function(n){t.value[e.value]=n}})},fn=Object(r["j"])({name:"Home",components:{ColdSideMap:ye,HotSideMap:Ye,EngineMapPoints:De,GridConfig:ln},setup:function(){var t=Object(h["b"])(),e=pn(Object(r["d"])(ot("displacement",t)),Object(m["i"])(L.cc)),n=pn(Object(r["d"])(ot("ambientAirPressure",t)),Object(m["i"])(W.mbar)),i=pn(Object(r["d"])(ot("ambientAirTemperature",t)),Object(m["i"])(A.C));return{engineDisplacement:e,ambientAirPressure:n,ambientAirTemperature:i}}});n("3e55");fn.render=f,fn.__scopeId="data-v-dbde1562";var mn,hn=fn,bn=[{path:"/",name:"Home",component:hn}],vn=Object(s["a"])({history:Object(s["b"])(),routes:bn}),gn=vn,On=Object(h["a"])({modules:(mn={},Object(v["a"])(mn,ct,mt),Object(v["a"])(mn,Z,at),Object(v["a"])(mn,Zt,oe),mn),mutations:{state:function(t,e){e}},actions:{saveState:function(t){var e=t.state;return cn(e)}}});Object(i["a"])(u).use(gn).use(On).mount("#app")},e106:function(t,e,n){"use strict";n("adbb")}});
//# sourceMappingURL=app.abe59e99.js.map