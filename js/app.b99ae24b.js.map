{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Map.vue?26c2","webpack:///./src/App.vue?9b0a","webpack:///./src/views/EngineMapPoints.vue?106d","webpack:///./src/App.vue","webpack:///./src/App.vue?72a1","webpack:///./src/views/Home.vue","webpack:///./src/views/physics.ts","webpack:///./src/store/external-map.ts","webpack:///./src/store/grid.ts","webpack:///./src/store/engine-map.ts","webpack:///./src/views/Map.vue","webpack:///./src/views/Map.vue?3967","webpack:///./src/views/graphics.ts","webpack:///./src/views/Map.vue?5c01","webpack:///./src/views/EngineMapPoints.vue","webpack:///./src/views/EngineMapPoints.vue?90d5","webpack:///./src/views/EngineMapPoints.vue?7f1a","webpack:///./src/views/Home.vue?5ba0","webpack:///./src/views/Home.vue?f4ee","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/views/Home.vue?194a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","script","render","class","for","id","airflowUnits","AirflowUnits","kgs","lbsmin","type","minAirflow","step","airflowUnitStep","maxAirflow","airflowInterval","minPressureRatio","maxPressureRatio","pressureRatioStep","hScale","hOffset","vScale","vOffset","engineDisplacement","ambientAirTemperature","ambientAirPressure","NAMESPACE","namespaced","input","buildAccessor","store","getters","set","commit","externalMap","state","mutations","AIR_SPECIFIC_GAS_CONSTANT","ZERO_CELSIUS_KELVIN","LBS_PER_KG","getAirDensity","temperature","pressure","getVolume","displacement","volumetricEfficiency","throttling","getVolumeFlow","rpm","volume","getMAF","convertToLbsMin","convertToKgS","buildAirflowUnitsAccessor","dispatch","actions","nextUnits","Math","round","buildMapPointsGetter","buildMapPointInserter","point","buildMapPointRemover","engineMap","points","addPoint","nextPoints","filter","sort","a","b","removePoint","MapLayer","CompressorMap","Grid","EngineMap","GRID_STROKE_STYLE","config","canvasRef","height","width","padding","minX","minY","maxX","maxY","yInterval","xInterval","this","context","getContext","gridWidth","gridHeight","origin","font","xAxisSpacing","floor","yAxisSpacing","clear","mergedConfig","clearRect","originX","originY","beginPath","strokeStyle","moveTo","lineTo","stroke","x","label","toFixed","fillText","measureText","y","rect","transformX","transformY","scale","lineWidth","first","restPoints","forEach","getImageRedrawer","image","canvas","canvasWidth","canvasHeight","ctx","drawImage","defaultConfig","resizeCanvases","selector","document","querySelectorAll","setup","engineMapRawPoints","engineMapPoints","lowerPressureBound","map","gridCanvas","getElementById","graphCanvas","imgCanvas","graph","grid","drawGrid","drawAxis","newValues","newMinAirflow","newMaxAirflow","newAirflowInterval","newMinPressureRatio","newMaxPressureRatio","newPressureRatioStep","console","log","drawMap","img","Image","src","onload","redrawImage","index","removeEngineMapPoint","addEngineMapPoint","enginePressure","engineSpeed","rawPoints","insertMapPoint","__scopeId","components","Map","EngineMapPoints","routes","path","component","Home","router","history","App","use","mount"],"mappings":"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","file":"js/app.b99ae24b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Map.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Map.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"","<template>\n\t<router-view/>\n</template>\n\n<style lang=\"scss\">\nbody {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n#app {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n\n\tbackground-color: azure;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\twidth: 100vw;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=25a3efc2\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<Map />\n\t<div class=\"calculation-container\">\n\t\t<form>\n\t\t\t<div class=\"row\">\n\t\t\t\t<label for=\"airflow\">Mass airflow units</label>\n\t\t\t\t<fieldset id=\"airflow\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tid=\"airflow-units\"\n\t\t\t\t\t\tv-model=\"airflowUnits\">\n\t\t\t\t\t\t<option :value=\"AirflowUnits.kgs\">kg/s</option>\n\t\t\t\t\t\t<option :value=\"AirflowUnits.lbsmin\">Lbs/min</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"min-airflow\">Minimum airflow</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"min-airflow\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"minAirflow\"\n\t\t\t\t\t\t\t:step=\"airflowUnitStep\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-airflow\">Maximum airflow</label><input\n\t\t\t\t\t\t\tid=\"max-airflow\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"maxAirflow\"\n\t\t\t\t\t\t\t:step=\"airflowUnitStep\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"airflow-interval\">Airflow grid step</label><input\n\t\t\t\t\t\t\tid=\"airflow-interval\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"airflowInterval\"\n\t\t\t\t\t\t\tstep=\"any\">\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"min-pressure-ratio\">Min pressure ratio</label>\n\t\t\t\t\t\t<input id=\"min-pressure-ratio\" type=\"number\" v-model=\"minPressureRatio\" step=\"0.5\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-pressure-ratio\">Max pressure ratio</label>\n\t\t\t\t\t\t<input id=\"max-pressure-ratio\" type=\"number\" v-model=\"maxPressureRatio\" step=\"0.5\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-pressure-ratio\">Pressure ratio step</label>\n\t\t\t\t\t\t<input id=\"max-pressure-ratio\" type=\"number\" v-model=\"pressureRatioStep\" step=\"any\">\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t</form>\n\t\t<form>\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"h-scale\">Horizontal scale</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"h-scale\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.001\"\n\t\t\t\t\t\tv-model=\"hScale\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"h-offset\">Horizontal offset</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"h-offset\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"hOffset\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"v-scale\">Vertical scale</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"v-scale\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.001\"\n\t\t\t\t\t\tv-model=\"vScale\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"v-offset\">Vertical offset</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"v-offset\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"vOffset\">\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<form>\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"engine-displacement\">Engine displacement (cc)</label>\n\t\t\t\t\t<input id=\"engine-displacement\" type=\"number\" v-model=\"engineDisplacement\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"ambient-air-temperature\">Ambient air temperature (C)</label>\n\t\t\t\t\t<input id=\"ambient-air-temperature\" type=\"number\" v-model=\"ambientAirTemperature\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"ambient-air-pressure\">Ambient air absolute pressure (mbar)</label>\n\t\t\t\t\t<input id=\"ambient-air-pressure\" type=\"number\" v-model=\"ambientAirPressure\">\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<EngineMapPoints />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n\tdefineComponent,\n\tcomputed,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor, buildAirflowUnitsAccessor } from \"@/store/grid\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { AirflowUnits } from \"./physics\"\nimport Map from \"./Map.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tMap,\n\t\tEngineMapPoints\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst airflowUnitStep = computed(() => {\n\t\t\tif (airflowUnits.value === AirflowUnits.kgs) {\n\t\t\t\treturn 0.05;\n\t\t\t}\n\t\t\treturn 1;\n\t\t})\n\n\t\treturn {\n\t\t\tAirflowUnits,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t\tairflowUnits,\n\t\t\tminAirflow,\n\t\t\tmaxAirflow,\n\t\t\tairflowInterval,\n\t\t\tminPressureRatio,\n\t\t\tmaxPressureRatio,\n\t\t\tpressureRatioStep,\n\t\t\tairflowUnitStep,\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n</script>\n\n<style lang=\"scss\">\n.calculation-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n</style>\n","// const GAS_CONSTANT = 8.314463; // J⋅K−1⋅mol−1\nconst AIR_SPECIFIC_GAS_CONSTANT = 287.058; // J/(kg·K)\nconst ZERO_CELSIUS_KELVIN = 273.15;\nconst LBS_PER_KG = 2.204623;\n\ntype CubicMeters = number\ntype Pascals = number\ntype Celcius = number\n\ntype getAirDensityPayload = { temperature: Celcius; pressure: Pascals }\nexport const getAirDensity = ({ temperature, pressure }: getAirDensityPayload): number => (\n\tpressure as number / ((ZERO_CELSIUS_KELVIN + (temperature as number)) * AIR_SPECIFIC_GAS_CONSTANT)\n);\n\ntype getVolumePayload = {\n\tdisplacement: CubicMeters;\n\tvolumetricEfficiency?: number;\n\tthrottling?: number;\n}\nexport const getVolume = ({\n\tdisplacement,\n\tvolumetricEfficiency = 1,\n\tthrottling = 1,\n}: getVolumePayload): number => (\n\tdisplacement as number * volumetricEfficiency * throttling\n);\n\ntype getVolumeFlowPayload = { rpm: number; volume: number }\nexport const getVolumeFlow = ({ rpm, volume }: getVolumeFlowPayload): number => (\n\t(volume * rpm) / (2 * 60)\n);\n\ntype getMAFPayload = {\n\trpm: number;\n\tdisplacement: CubicMeters;\n\ttemperature: Celcius;\n\tpressure: Pascals;\n}\nexport const getMAF = ({\n\trpm,\n\tdisplacement,\n\ttemperature,\n\tpressure,\n}: getMAFPayload): number => {\n\tconst volume = getVolume({ displacement });\n\treturn getVolumeFlow({ rpm, volume }) * getAirDensity({ temperature, pressure });\n};\n\nexport const convertToLbsMin = (input: number): number => input * LBS_PER_KG * 60;\nexport const convertToKgS = (input: number): number => (input / LBS_PER_KG) / 60;\n\nexport enum AirflowUnits {\n\tkgs = \"kg/s\",\n\tlbsmin = \"lbs/min\"\n}","import { Module, Store } from \"vuex\";\n\nexport const NAMESPACE = \"externalMap\"\n\nexport interface ExternalMapConfigState {\n\thScale: number;\n\thOffset: number;\n\tvScale: number;\n\tvOffset: number;\n}\n\nconst namespaced = (input: keyof ExternalMapConfigState): string => `${NAMESPACE}/${input}`;\n\nexport const buildAccessor = <T extends keyof ExternalMapConfigState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => ExternalMapConfigState[T];\n\tset: (input: ExternalMapConfigState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const externalMap: Module<ExternalMapConfigState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\thScale: 0.687,\n\t\thOffset: -52,\n\t\tvScale: 0.381,\n\t\tvOffset: 91,\n\t},\n\tgetters: {\n\t\thScale: ({ hScale }) => hScale,\n\t\thOffset: ({ hOffset }) => hOffset,\n\t\tvScale: ({ vScale }) => vScale,\n\t\tvOffset: ({ vOffset }) => vOffset,\n\t},\n\tmutations: {\n\t\thScale: (state, hScale) => { state.hScale = hScale },\n\t\thOffset: (state, hOffset) => { state.hOffset = hOffset },\n\t\tvScale: (state, vScale) => { state.vScale = vScale },\n\t\tvOffset: (state, vOffset) => { state.vOffset = vOffset },\n\t}\n}\n","import { Module, Store } from \"vuex\";\nimport { AirflowUnits, convertToLbsMin, convertToKgS } from \"@/views/physics\";\n\nexport const NAMESPACE = \"grid\"\n\nexport interface GridConfigState {\n\tairflowUnits: AirflowUnits;\n\tminAirflow: number;\n\tmaxAirflow: number;\n\tairflowInterval: number;\n\tminPressureRatio: number;\n\tmaxPressureRatio: number;\n\tpressureRatioStep: number;\n}\n\nconst namespaced = (input: keyof GridConfigState): string => `${NAMESPACE}/${input}`;\n\nexport const buildAccessor = <T extends keyof GridConfigState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => GridConfigState[T];\n\tset: (input: GridConfigState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const buildAirflowUnitsAccessor = (store: Store<{}>): {\n\tget: () => AirflowUnits;\n\tset: (airflowUnits: AirflowUnits) => void;\n} => ({\n\tget: () => store.getters[namespaced(\"airflowUnits\")],\n\tset: (airflowUnits) => store.dispatch(namespaced(\"airflowUnits\"), airflowUnits)\n})\n\nexport const grid: Module<GridConfigState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tairflowUnits: AirflowUnits.kgs,\n\t\tminAirflow: 0,\n\t\tmaxAirflow: 0.456,\n\t\tairflowInterval: 0.038,\n\t\tminPressureRatio: 1,\n\t\tmaxPressureRatio: 4,\n\t\tpressureRatioStep: 0.25,\n\t},\n\tgetters: {\n\t\tairflowUnits: ({ airflowUnits }) => airflowUnits,\n\t\tminAirflow: ({ minAirflow }) => minAirflow,\n\t\tmaxAirflow: ({ maxAirflow }) => maxAirflow,\n\t\tairflowInterval: ({ airflowInterval }) => airflowInterval,\n\t\tminPressureRatio: ({ minPressureRatio }) => minPressureRatio,\n\t\tmaxPressureRatio: ({ maxPressureRatio }) => maxPressureRatio,\n\t\tpressureRatioStep: ({ pressureRatioStep }) => pressureRatioStep,\n\t},\n\tmutations: {\n\t\tairflowUnits: (state, airflowUnits) => { state.airflowUnits = airflowUnits },\n\t\tminAirflow: (state, minAirflow) => { state.minAirflow = minAirflow },\n\t\tmaxAirflow: (state, maxAirflow) => { state.maxAirflow = maxAirflow },\n\t\tairflowInterval: (state, airflowInterval) => { state.airflowInterval = airflowInterval },\n\t\tminPressureRatio: (state, minPressureRatio) => { state.minPressureRatio = minPressureRatio },\n\t\tmaxPressureRatio: (state, maxPressureRatio) => { state.maxPressureRatio = maxPressureRatio },\n\t\tpressureRatioStep: (state, pressureRatioStep) => { state.pressureRatioStep = pressureRatioStep },\n\t},\n\tactions: {\n\t\tairflowUnits: ({ commit, state }, nextUnits: AirflowUnits) => {\n\t\t\tconst {\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tairflowUnits\n\t\t\t} = state;\n\n\t\t\tcommit(\"airflowUnits\", nextUnits)\n\n\t\t\tif (airflowUnits === AirflowUnits.kgs && nextUnits === AirflowUnits.lbsmin) {\n\t\t\t\tcommit(\"minAirflow\", Math.round(convertToLbsMin(minAirflow)))\n\t\t\t\tcommit(\"maxAirflow\", Math.round(convertToLbsMin(maxAirflow)))\n\t\t\t\tcommit(\"airflowInterval\", Math.round(convertToLbsMin(airflowInterval)))\n\t\t\t}\n\n\t\t\tif (airflowUnits === AirflowUnits.lbsmin && nextUnits === AirflowUnits.kgs) {\n\t\t\t\tcommit(\"minAirflow\", Math.round(convertToKgS(minAirflow) * 1000) / 1000)\n\t\t\t\tcommit(\"maxAirflow\", Math.round(convertToKgS(maxAirflow) * 1000) / 1000)\n\t\t\t\tcommit(\"airflowInterval\", Math.round(convertToKgS(airflowInterval) * 500) / 500)\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Module, Store } from \"vuex\";\n\nexport const NAMESPACE = \"engineMap\";\n\ntype MapPoint = { pressure: number; rpm: number }\n\nexport type EngineMapState = {\n\tpoints: MapPoint[];\n\tdisplacement: number;\n\tambientAirTemperature: number;\n\tambientAirPressure: number;\n}\n\nconst namespaced = (input: keyof EngineMapState | \"addPoint\" | \"removePoint\"): string => `${NAMESPACE}/${input}`;\n\nexport const buildMapPointsGetter = (store: Store<{}>) => (): MapPoint[] => store.getters[namespaced(\"points\")]\nexport const buildMapPointInserter = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"addPoint\"), point)\nexport const buildMapPointRemover = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"removePoint\"), point)\n\nexport const buildAccessor = <T extends keyof EngineMapState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => EngineMapState[T];\n\tset: (input: EngineMapState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const engineMap: Module<EngineMapState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tpoints: [],\n\t\tdisplacement: 1984,\n\t\tambientAirPressure: 990,\n\t\tambientAirTemperature: 15\n\t},\n\tgetters: {\n\t\tpoints: ({ points }) => points,\n\t\tdisplacement: ({ displacement }) => displacement,\n\t\tambientAirPressure: ({ ambientAirPressure }) => ambientAirPressure,\n\t\tambientAirTemperature: ({ ambientAirTemperature }) => ambientAirTemperature,\n\t},\n\tmutations: {\n\t\tpoints: (state, points) => state.points = points,\n\t\tdisplacement: (state, displacement) => state.displacement = displacement,\n\t\tambientAirPressure: (state, ambientAirPressure) => state.ambientAirPressure = ambientAirPressure,\n\t\tambientAirTemperature: (state, ambientAirTemperature) => state.ambientAirTemperature = ambientAirTemperature,\n\t},\n\tactions: {\n\t\taddPoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = [\n\t\t\t\t...state.points.filter(p => p.rpm !== point.rpm),\n\t\t\t\tpoint\n\t\t\t].sort((a, b) => a.rpm - b.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t},\n\t\tremovePoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = state.points.filter(p => p.rpm !== point.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t}\n\t}\n}","<template>\n\t<div id=\"map\" class=\"maps\">\n\t\t<canvas :id=\"MapLayer.CompressorMap\" />\n\t\t<canvas :id=\"MapLayer.Grid\" />\n\t\t<canvas :id=\"MapLayer.EngineMap\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch, Ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor } from \"@/store/grid\";\nimport { Grid, getImageRedrawer } from \"./graphics\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor\n} from \"@/store/engine-map\";\nimport { getMAF } from \"./physics\";\n\nenum MapLayer {\n\tCompressorMap = \"compressor-map\",\n\tGrid = \"grid\",\n\tEngineMap = \"engine-map\"\n}\n\nconst defaultConfig = {\n\twidth: 1208,\n\theight: 908,\n\tpadding: 100,\n\tminY: 1,\n\tmaxY: 4,\n\tminX: 0,\n\tmaxX: 60,\n};\n\nconst resizeCanvases = (\n\tselector: string,\n\t{ height, width }: { height: number; width: number }\n): void => {\n\tdocument\n\t\t.querySelectorAll<HTMLCanvasElement>(selector)\n\t\t.forEach((canvas) => {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t});\n}\n\ntype GridParamGetters = [\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n]\n\nexport default defineComponent({\n\tname: \"Map\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(\n\t\t\t() => {\n\t\t\t\tconst displacement = engineDisplacement.value / 1000000\n\t\t\t\tconst lowerPressureBound = minPressureRatio.value  * 100000\n\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: lowerPressureBound,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t},\n\t\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: p.pressure * 100000,\n\t\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: p.pressure / (ambientAirPressure.value / 1000)\n\t\t\t\t\t})),\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: lowerPressureBound,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t})\n\n\t\tonMounted(() => {\n\t\t\tresizeCanvases(\".maps > canvas\", defaultConfig)\n\n\t\t\tconst gridCanvas = document.getElementById(MapLayer.Grid) as HTMLCanvasElement;\n\t\t\tconst graphCanvas = document.getElementById(MapLayer.EngineMap) as HTMLCanvasElement;\n\t\t\tconst imgCanvas = document.getElementById(MapLayer.CompressorMap) as HTMLCanvasElement;\n\n\t\t\tconst graph = new Grid({\n\t\t\t\tcanvasRef: graphCanvas,\n\t\t\t\t...defaultConfig,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\n\t\t\tconst grid = new Grid({\n\t\t\t\tcanvasRef: gridCanvas,\n\t\t\t\t...defaultConfig,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\t\t\tgrid.drawGrid();\n\t\t\tgrid.drawAxis();\n\n\t\t\twatch<GridParamGetters>(\n\t\t\t\t[\n\t\t\t\t\t() => minAirflow.value,\n\t\t\t\t\t() => maxAirflow.value,\n\t\t\t\t\t() => airflowInterval.value,\n\t\t\t\t\t() => minPressureRatio.value,\n\t\t\t\t\t() => maxPressureRatio.value,\n\t\t\t\t\t() => pressureRatioStep.value,\n\t\t\t\t],\n\t\t\t\t(newValues) => {\n\t\t\t\t\tconst [\n\t\t\t\t\t\tnewMinAirflow,\n\t\t\t\t\t\tnewMaxAirflow,\n\t\t\t\t\t\tnewAirflowInterval,\n\t\t\t\t\t\tnewMinPressureRatio,\n\t\t\t\t\t\tnewMaxPressureRatio,\n\t\t\t\t\t\tnewPressureRatioStep\n\t\t\t\t\t] = newValues\n\n\t\t\t\t\tgrid.setup({\n\t\t\t\t\t\tminX: newMinAirflow,\n\t\t\t\t\t\tmaxX: newMaxAirflow,\n\t\t\t\t\t\txInterval: newAirflowInterval,\n\t\t\t\t\t\tminY: newMinPressureRatio,\n\t\t\t\t\t\tmaxY: newMaxPressureRatio,\n\t\t\t\t\t\tyInterval: newPressureRatioStep\n\t\t\t\t\t})\n\t\t\t\t\tgrid.drawGrid()\n\t\t\t\t\tgrid.drawAxis()\n\n\t\t\t\t\tgraph.setup({\n\t\t\t\t\t\tminX: newMinAirflow,\n\t\t\t\t\t\tmaxX: newMaxAirflow,\n\t\t\t\t\t\txInterval: newAirflowInterval,\n\t\t\t\t\t\tminY: newMinPressureRatio,\n\t\t\t\t\t\tmaxY: newMaxPressureRatio,\n\t\t\t\t\t\tyInterval: newPressureRatioStep\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\tpoints => { console.log(points); graph.drawMap(points) }\n\t\t\t)\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = \"./example_compressor_map.jpg\";\n\n\t\t\timg.onload = () => {\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timg,\n\t\t\t\t\t\thOffset.value,\n\t\t\t\t\t\tvOffset.value,\n\t\t\t\t\t\tMath.floor(hScale.value * img.width),\n\t\t\t\t\t\tMath.floor(vScale.value * img.height),\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image: img });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => hOffset.value,\n\t\t\t\t\t() => vOffset.value,\n\t\t\t\t\t() => hScale.value,\n\t\t\t\t\t() => vScale.value\n\t\t\t\t],\n\t\t\t\t([\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale\n\t\t\t\t]) => redrawImage({\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale,\n\t\t\t\t}),\n\t\t\t);\n\t\t});\n\n\t\treturn {\n\t\t\tMapLayer,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t};\n\t},\n})\n</script>\n\n<style lang=\"scss\">\n.maps {\n\tbackground-color: white;\n}\n\n#map {\n\tposition: relative;\n}\n\n#compressor-map {\n\tposition: absolute;\n\ttop:0;\n\tleft: 0;\n\topacity: 0.5;\n}\n\n#grid {\n\t/* background-color: white; */\n\ttop: 0;\n\tleft: 0;\n\topacity: 0.9;\n}\n\n#engine-map {\n\tbackground-color: transparent;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n.calculation-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n</style>\n","\nimport { defineComponent, computed, onMounted, watch, Ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor } from \"@/store/grid\";\nimport { Grid, getImageRedrawer } from \"./graphics\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor\n} from \"@/store/engine-map\";\nimport { getMAF } from \"./physics\";\n\nenum MapLayer {\n\tCompressorMap = \"compressor-map\",\n\tGrid = \"grid\",\n\tEngineMap = \"engine-map\"\n}\n\nconst defaultConfig = {\n\twidth: 1208,\n\theight: 908,\n\tpadding: 100,\n\tminY: 1,\n\tmaxY: 4,\n\tminX: 0,\n\tmaxX: 60,\n};\n\nconst resizeCanvases = (\n\tselector: string,\n\t{ height, width }: { height: number; width: number }\n): void => {\n\tdocument\n\t\t.querySelectorAll<HTMLCanvasElement>(selector)\n\t\t.forEach((canvas) => {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t});\n}\n\ntype GridParamGetters = [\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n]\n\nexport default defineComponent({\n\tname: \"Map\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(\n\t\t\t() => {\n\t\t\t\tconst displacement = engineDisplacement.value / 1000000\n\t\t\t\tconst lowerPressureBound = minPressureRatio.value  * 100000\n\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: lowerPressureBound,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t},\n\t\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: p.pressure * 100000,\n\t\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: p.pressure / (ambientAirPressure.value / 1000)\n\t\t\t\t\t})),\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacement,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressure: lowerPressureBound,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t})\n\n\t\tonMounted(() => {\n\t\t\tresizeCanvases(\".maps > canvas\", defaultConfig)\n\n\t\t\tconst gridCanvas = document.getElementById(MapLayer.Grid) as HTMLCanvasElement;\n\t\t\tconst graphCanvas = document.getElementById(MapLayer.EngineMap) as HTMLCanvasElement;\n\t\t\tconst imgCanvas = document.getElementById(MapLayer.CompressorMap) as HTMLCanvasElement;\n\n\t\t\tconst graph = new Grid({\n\t\t\t\tcanvasRef: graphCanvas,\n\t\t\t\t...defaultConfig,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\n\t\t\tconst grid = new Grid({\n\t\t\t\tcanvasRef: gridCanvas,\n\t\t\t\t...defaultConfig,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\t\t\tgrid.drawGrid();\n\t\t\tgrid.drawAxis();\n\n\t\t\twatch<GridParamGetters>(\n\t\t\t\t[\n\t\t\t\t\t() => minAirflow.value,\n\t\t\t\t\t() => maxAirflow.value,\n\t\t\t\t\t() => airflowInterval.value,\n\t\t\t\t\t() => minPressureRatio.value,\n\t\t\t\t\t() => maxPressureRatio.value,\n\t\t\t\t\t() => pressureRatioStep.value,\n\t\t\t\t],\n\t\t\t\t(newValues) => {\n\t\t\t\t\tconst [\n\t\t\t\t\t\tnewMinAirflow,\n\t\t\t\t\t\tnewMaxAirflow,\n\t\t\t\t\t\tnewAirflowInterval,\n\t\t\t\t\t\tnewMinPressureRatio,\n\t\t\t\t\t\tnewMaxPressureRatio,\n\t\t\t\t\t\tnewPressureRatioStep\n\t\t\t\t\t] = newValues\n\n\t\t\t\t\tgrid.setup({\n\t\t\t\t\t\tminX: newMinAirflow,\n\t\t\t\t\t\tmaxX: newMaxAirflow,\n\t\t\t\t\t\txInterval: newAirflowInterval,\n\t\t\t\t\t\tminY: newMinPressureRatio,\n\t\t\t\t\t\tmaxY: newMaxPressureRatio,\n\t\t\t\t\t\tyInterval: newPressureRatioStep\n\t\t\t\t\t})\n\t\t\t\t\tgrid.drawGrid()\n\t\t\t\t\tgrid.drawAxis()\n\n\t\t\t\t\tgraph.setup({\n\t\t\t\t\t\tminX: newMinAirflow,\n\t\t\t\t\t\tmaxX: newMaxAirflow,\n\t\t\t\t\t\txInterval: newAirflowInterval,\n\t\t\t\t\t\tminY: newMinPressureRatio,\n\t\t\t\t\t\tmaxY: newMaxPressureRatio,\n\t\t\t\t\t\tyInterval: newPressureRatioStep\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t)\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\tpoints => { console.log(points); graph.drawMap(points) }\n\t\t\t)\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = \"./example_compressor_map.jpg\";\n\n\t\t\timg.onload = () => {\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timg,\n\t\t\t\t\t\thOffset.value,\n\t\t\t\t\t\tvOffset.value,\n\t\t\t\t\t\tMath.floor(hScale.value * img.width),\n\t\t\t\t\t\tMath.floor(vScale.value * img.height),\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image: img });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => hOffset.value,\n\t\t\t\t\t() => vOffset.value,\n\t\t\t\t\t() => hScale.value,\n\t\t\t\t\t() => vScale.value\n\t\t\t\t],\n\t\t\t\t([\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale\n\t\t\t\t]) => redrawImage({\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale,\n\t\t\t\t}),\n\t\t\t);\n\t\t});\n\n\t\treturn {\n\t\t\tMapLayer,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t};\n\t},\n})\n","const GRID_STROKE_STYLE = \"rgb(134,136,138)\";\n\nexport const greatestCommonDivisor = (a: number, b: number): number => (b === 0\n\t? a\n\t: (greatestCommonDivisor(b, a % b)));\n\ntype GridConstructor = {\n\tcanvasRef: HTMLCanvasElement;\n\theight: number;\n\twidth: number;\n\tpadding: number;\n\tminX: number;\n\tminY: number;\n\tmaxX: number;\n\tmaxY: number;\n\txInterval?: number;\n\tyInterval?: number;\n}\n\nexport class Grid {\n\tprivate context: CanvasRenderingContext2D;\n\n\tprivate height: number;\n\n\tprivate width: number;\n\n\tprivate padding: number;\n\n\tprivate minX: number;\n\n\tprivate minY: number;\n\n\tprivate maxX: number;\n\n\tprivate maxY: number;\n\n\tprivate gridWidth: number;\n\n\tprivate gridHeight: number;\n\n\tprivate origin: [number, number];\n\n\tprivate xInterval: number;\n\tprivate yInterval: number;\n\n\tprivate xAxisSpacing: number;\n\tprivate yAxisSpacing: number;\n\n\tconstructor(config: GridConstructor) {\n\t\tconst {\n\t\t\tcanvasRef,\n\t\t\theight,\n\t\t\twidth,\n\t\t\tpadding,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = config;\n\n\t\tthis.context = canvasRef.getContext(\"2d\")!; // eslint-disable-line\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.padding = padding;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.gridWidth = width - 2 * padding;\n\t\tthis.gridHeight = height - 2 * padding;\n\n\t\tthis.origin = [padding, padding];\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xAxisSpacing = Math.floor(this.gridWidth * this.xInterval / (maxX - minX));\n\t\tthis.yAxisSpacing = Math.floor(this.gridHeight * this.yInterval / (maxY - minY));\n\t}\n\n\tsetup(config: Partial<GridConstructor>) {\n\t\tthis.clear()\n\n\t\tconst mergedConfig = {\n\t\t\t...this,\n\t\t\t...config\n\t\t}\n\n\t\tconst {\n\t\t\theight,\n\t\t\twidth,\n\t\t\tpadding,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = mergedConfig;\n\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.padding = padding;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.gridWidth = width - 2 * padding;\n\t\tthis.gridHeight = height - 2 * padding;\n\n\t\tthis.origin = [padding, padding];\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xAxisSpacing = Math.floor(this.gridWidth * this.xInterval / (maxX - minX));\n\t\tthis.yAxisSpacing = Math.floor(this.gridHeight * this.yInterval / (maxY - minY));\n\t}\n\n\tclear() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t}\n\n\tdrawGrid() {\n\t\tconst [originX, originY] = this.origin;\n\t\tconst {\n\t\t\tcontext,\n\t\t\tgridWidth,\n\t\t\tgridHeight,\n\t\t\txAxisSpacing,\n\t\t\tyAxisSpacing,\n\t\t} = this;\n\t\tcontext.beginPath();\n\t\tcontext.strokeStyle = GRID_STROKE_STYLE;\n\t\tcontext.moveTo(originX, originY);\n\n\t\tfor (let i = originX; i <= (originX + gridWidth); i += xAxisSpacing) {\n\t\t\tcontext.moveTo(i, originY);\n\t\t\tcontext.lineTo(i, originY + gridHeight);\n\t\t}\n\n\t\tfor (let j = originY; j <= (originY + gridHeight); j += yAxisSpacing) {\n\t\t\tcontext.moveTo(originX, j);\n\t\t\tcontext.lineTo(originX + gridWidth, j);\n\t\t}\n\n\t\tcontext.stroke();\n\t}\n\n\tdrawAxis() {\n\t\tconst {\n\t\t\tcontext,\n\t\t\tgridWidth,\n\t\t\tgridHeight,\n\t\t\txAxisSpacing,\n\t\t\tyAxisSpacing,\n\t\t\txInterval,\n\t\t\tyInterval,\n\t\t\tminX,\n\t\t\tmaxY,\n\t\t\tminY,\n\t\t} = this;\n\n\t\tcontext.beginPath();\n\n\t\tconst [originX, originY] = this.origin;\n\n\t\tfor (\n\t\t\tlet x = originX, value = minX;\n\t\t\tx <= (originX + gridWidth);\n\t\t\tx += xAxisSpacing, value += xInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(3);\n\t\t\tcontext.fillText(label, x - context.measureText(label).width / 2, originY + gridHeight + 14);\n\t\t}\n\n\t\tfor (\n\t\t\tlet y = originY, value = maxY;\n\t\t\tminY === minX ? y < (originY + gridHeight) : y <= (originY + gridHeight);\n\t\t\ty += yAxisSpacing, value -= yInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(2);\n\t\t\tcontext.fillText(label, originX - context.measureText(label).width - 4, y + 5);\n\t\t}\n\n\t\tcontext.beginPath();\n\t\tcontext.rect(\n\t\t\tthis.transformX(minX),\n\t\t\tthis.transformY(maxY),\n\t\t\tthis.gridWidth,\n\t\t\tthis.gridHeight,\n\t\t);\n\t\tcontext.stroke();\n\t}\n\n\ttransformX(input: number) {\n\t\tconst scale = this.gridWidth / (this.maxX - this.minX);\n\n\t\treturn Math.floor((input - this.minX) * scale) + this.padding;\n\t}\n\n\ttransformY(input: number) {\n\t\tconst scale = this.gridHeight / (this.maxY - this.minY);\n\n\t\treturn Math.floor(this.gridHeight - (input - this.minY) * scale) + this.padding;\n\t}\n\n\tmoveTo(x: number, y: number) {\n\t\treturn this.context.moveTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tlineTo(x: number, y: number) {\n\t\treturn this.context.lineTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tstroke() {\n\t\treturn this.context.stroke();\n\t}\n\n\tdrawMap(points: { x: number; y: number }[]) {\n\t\tthis.clear();\n\t\tthis.context.beginPath();\n\n\t\tthis.context.strokeStyle = \"green\";\n\t\tthis.context.lineWidth = 3;\n\n\t\tconst [first, ...restPoints] = points;\n\t\tthis.moveTo(first.x, first.y);\n\n\t\trestPoints.forEach(({ x, y }) => {\n\t\t\tthis.lineTo(x, y);\n\t\t\tthis.stroke();\n\t\t\tthis.moveTo(x, y);\n\t\t});\n\n\t\tthis.lineTo(points[0].x, points[0].y);\n\t\tthis.stroke();\n\t}\n}\n\nexport const getImageRedrawer = (\n\t{ image, canvas }: { image: CanvasImageSource; canvas: HTMLCanvasElement },\n) => (\n\tconfig: {\n\t\thOffset: number;\n\t\tvOffset: number;\n\t\thScale: number;\n\t\tvScale: number;\n\t},\n) => {\n\tconst {\n\t\twidth: canvasWidth,\n\t\theight: canvasHeight,\n\t} = canvas;\n\n\tconst ctx = canvas.getContext(\"2d\")!; // eslint-disable-line\n\n\tconst {\n\t\thOffset,\n\t\tvOffset,\n\t\thScale,\n\t\tvScale,\n\t} = config;\n\n\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\tctx.drawImage(\n\t\timage,\n\t\thOffset,\n\t\tvOffset,\n\t\tMath.floor(hScale * (image.width as number)),\n\t\tMath.floor(vScale * (image.height as number)),\n\t);\n};\n","import { render } from \"./Map.vue?vue&type=template&id=2a15ac2c\"\nimport script from \"./Map.vue?vue&type=script&lang=ts\"\nexport * from \"./Map.vue?vue&type=script&lang=ts\"\n\nimport \"./Map.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"map-points-container\">\n\t\t<div\n\t\t\tv-for=\"(point, index) in points\"\n\t\t\t:key=\"index\">\n\t\t\t<form v-on:submit.prevent=\"removeEngineMapPoint(point)\">\n\t\t\t\t<fieldset class=\"map-point\">\n\t\t\t\t\t<input type=number v-model=\"point.pressure\" step=\"0.1\" />\n\t\t\t\t\t<input type=number v-model=\"point.rpm\" step=\"100\" />\n\t\t\t\t\t<button type=\"submit\">remove</button>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</div>\n\t\t<form v-on:submit.prevent=\"addEngineMapPoint\">\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"engine-pressure\">Pressure (bar)</label>\n\t\t\t\t<input id=\"engine-pressure\" type=number v-model=\"enginePressure\" step=\"0.1\" />\n\t\t\t\t<label for=\"engine-speed\">Engine speed (rpm)</label>\n\t\t\t\t<input id=\"engine-speed\" type=number v-model=\"engineSpeed\" step=\"100\" />\n\t\t\t</fieldset>\n\t\t\t<button type=\"submit\">Add!</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, reactive } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\"\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(p => reactive(p)))\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: enginePressure.value, rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.map-points-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.map-point {\n\tdisplay: flex;\n}\n</style>","\nimport { defineComponent, computed, ref, reactive } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\"\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(p => reactive(p)))\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: enginePressure.value, rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n","import { render } from \"./EngineMapPoints.vue?vue&type=template&id=bf0890f4&scoped=true\"\nimport script from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\nexport * from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\n\nimport \"./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-bf0890f4\"\n\nexport default script","\nimport {\n\tdefineComponent,\n\tcomputed,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor, buildAirflowUnitsAccessor } from \"@/store/grid\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { AirflowUnits } from \"./physics\"\nimport Map from \"./Map.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tMap,\n\t\tEngineMapPoints\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst airflowUnitStep = computed(() => {\n\t\t\tif (airflowUnits.value === AirflowUnits.kgs) {\n\t\t\t\treturn 0.05;\n\t\t\t}\n\t\t\treturn 1;\n\t\t})\n\n\t\treturn {\n\t\t\tAirflowUnits,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t\tairflowUnits,\n\t\t\tminAirflow,\n\t\t\tmaxAirflow,\n\t\t\tairflowInterval,\n\t\t\tminPressureRatio,\n\t\t\tmaxPressureRatio,\n\t\t\tpressureRatioStep,\n\t\t\tairflowUnitStep,\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n","import { render } from \"./Home.vue?vue&type=template&id=27b5cc12\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { RouteRecordRaw, createRouter, createWebHashHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\n\nconst routes: RouteRecordRaw[] = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"Home\",\n\t\tcomponent: Home,\n\t},\n];\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport { ExternalMapConfigState, externalMap, NAMESPACE as externalMapNamespace } from \"./external-map\";\nimport { GridConfigState, grid, NAMESPACE as gridNamespace } from \"./grid\";\nimport { EngineMapState, engineMap, NAMESPACE as engineMapNamespace } from \"./engine-map\"\n\nexport type State = {\n\t[externalMapNamespace]: ExternalMapConfigState;\n\t[gridNamespace]: GridConfigState;\n\t[engineMapNamespace]: EngineMapState;\n}\n\nexport default createStore<State>({\n\tmodules: {\n\t\t[externalMapNamespace]: externalMap,\n\t\t[gridNamespace]: grid,\n\t\t[engineMapNamespace]: engineMap,\n\t},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(router).use(store).mount(\"#app\");\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}