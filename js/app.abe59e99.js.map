{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/TurbineMapOnCompressor.vue?9f45","webpack:///./src/views/Home.vue?1337","webpack:///./src/views/GridConfig.vue?579c","webpack:///./src/views/HotSideMap.vue?f398","webpack:///./src/views/Plane.vue?f423","webpack:///./src/App.vue?9b0a","webpack:///./src/components/Tooltip.vue?d817","webpack:///./src/views/EngineMapPoints.vue?6e06","webpack:///./src/views/TurbineMap.vue?afb8","webpack:///./src/App.vue","webpack:///./src/App.vue?72a1","webpack:///./src/views/Home.vue","webpack:///./src/physics/units/Airflow.ts","webpack:///./src/physics/constants.ts","webpack:///./src/physics/units/Unit.ts","webpack:///./src/physics/units/Power.ts","webpack:///./src/physics/units/Pressure.ts","webpack:///./src/physics/units/Temperature.ts","webpack:///./src/physics/units/Volume.ts","webpack:///./src/physics/units/utils.ts","webpack:///./src/store/engine-map.ts","webpack:///./src/views/ColdSideMap.vue","webpack:///./src/store/map.ts","webpack:///./src/views/ExternalMap.vue","webpack:///./src/views/graphics.ts","webpack:///./src/views/Plane.vue","webpack:///./src/views/Plane.vue?d83c","webpack:///./src/views/Plane.vue?e1da","webpack:///./src/views/ExternalMap.vue?5a6b","webpack:///./src/views/ExternalMap.vue?98d7","webpack:///./src/views/Grid.vue","webpack:///./src/views/grid-watchers.ts","webpack:///./src/views/mouse-control.ts","webpack:///./src/views/Grid.vue?031a","webpack:///./src/views/Grid.vue?3c29","webpack:///./src/views/TurbineMapOnCompressor.vue","webpack:///./src/physics/calculations.ts","webpack:///./src/store/turbine-model.ts","webpack:///./src/views/TurbineMapOnCompressor.vue?f947","webpack:///./src/views/TurbineMapOnCompressor.vue?44da","webpack:///./src/views/EngineMap.vue","webpack:///./src/components/Tooltip.vue","webpack:///./src/components/Tooltip.vue?9425","webpack:///./src/components/Tooltip.vue?4cd1","webpack:///./src/views/EngineMap.vue?4439","webpack:///./src/views/EngineMap.vue?9317","webpack:///./src/views/ColdSideMap.vue?9230","webpack:///./src/views/ColdSideMap.vue?53f6","webpack:///./src/views/HotSideMap.vue","webpack:///./src/views/TurbineMap.vue","webpack:///./src/views/TurbineMap.vue?f889","webpack:///./src/views/TurbineMap.vue?c47d","webpack:///./src/views/HotSideMap.vue?eb3e","webpack:///./src/views/HotSideMap.vue?3ddd","webpack:///./src/views/EngineMapPoints.vue","webpack:///./src/views/EngineMapPoints.vue?90d5","webpack:///./src/views/EngineMapPoints.vue?7f1a","webpack:///./src/views/GridConfig.vue","webpack:///./src/store/local-storage.ts","webpack:///./src/views/GridConfig.vue?9ff1","webpack:///./src/views/GridConfig.vue?db35","webpack:///./src/views/Home.vue?5ba0","webpack:///./src/views/Home.vue?f4ee","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/views/ColdSideMap.vue?3bbe"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","script","render","class","MassAirflowUnits","grid-id","map-id","AIR_SPECIFIC_GAS_CONSTANT","ABSOLUTE_ZERO_CELSIUS","LBS_PER_KG","PA_PER_PSI","BHP_PER_KW","CP_AIR_1100K","CP_AIR_288K","GAMMA_AIR_1100K","GAMMA_AIR_288K","CLASS_KEY","PowerUnit","input","MASS_AIRFLOW_CLASS_ID","for","toString","units","kgs","_gs","_kgs","_lbsmin","this","SI","Math","round","gs","lbsmin","inputType","outputType","MassAirflow","PressureUnit","POWER_CLASS_ID","W","_watt","_kilowatt","_bhp","kW","BHP","TemperatureUnit","PRESSURE_CLASS_ID","unit","Pa","_pa","_kpa","_bar","_mbar","_psi","ambient","Pressure","ratio","another","kPa","bar","mbar","psi","VolumeUnit","celsiusToFarenheit","celsius","farenheitToCelsius","farenheit","kelvin","TEMPERATURE_CLASS_ID","K","_K","_C","_F","C","F","Temperature","VOLUME_CLASS_ID","m3","_cc","_m3","cc","_","obj","classId","NAMESPACE","namespaced","buildMapPointsGetter","store","getters","buildMapPointInserter","point","dispatch","buildMapPointRemover","buildMapPointModifier","index","commit","buildAccessor","set","engineMap","state","airflowUnits","mapPressureUnits","points","pressure","rpm","displacement","ambientAirPressure","ambientAirTemperature","mutations","actions","addPoint","nextPoints","filter","sort","a","b","removePoint","id","style","coldSideWidth","coldSideHeight","coldSideLayers","map","canvas-id","grid","curveFromOtherside","getGridHorizontalPositionAfterMapResize","newWidth","offsetRatio","offsetX","mapWidth","widthRatio","gridWidth","getGridVerticalPositionAfterMapResize","newHeight","offsetY","mapHeight","heightRatio","gridHeight","coldSideMap","imageData","imageWidth","imageHeight","minX","maxX","xStep","xUnits","minY","maxY","yStep","yUnits","layers","hotSideMap","mapId","layer-id","canvasId","GRID_STROKE_STYLE","props","Error","config","Grid","validateSetup","canvasRef","height","width","yInterval","xInterval","context","getContext","font","xIntervalCount","yIntervalCount","xAxisSpacing","yAxisSpacing","mergedConfig","clear","clearRect","beginPath","strokeStyle","lineWidth","moveTo","tempI","lineTo","tempJ","stroke","x","label","toFixed","fillText","measureText","y","rect","transformX","transformY","scale","floor","radius","fill","arc","PI","first","restPoints","forEach","closePath","fillStyle","drawCircle","f","step","getImageRedrawer","image","canvas","canvasWidth","canvasHeight","ctx","drawImage","layerId","String","setup","reader","FileReader","src","readerListener","event","target","fileSelectorListener","files","imageFile","readAsDataURL","addEventListener","cleanup","removeEventListener","components","Plane","gridId","cleanupFileSelector","imgCanvas","document","getElementById","Image","fileSelector","onload","redrawImage","w","h","flush","imgData","handleHover","handleMouseDown","handleMouseUp","handleRightClick","handleMouseLeave","gridActions","watchStepChange","accessors","accessorGetters","accessor","newValues","err","console","log","_noop","getX","getY","pixelRadius","deltaX","deltaY","findIndex","abs","onHover","onMouseDown","onMouseUp","onRightClick","canvasBoundingRect","left","top","windowResizeHandler","getBoundingClientRect","originX","originY","getMouseX","getMouseY","getMapX","mapX","getMapY","mapY","getMapDataFromAtCanvasXY","handleMouseEvent","e","xValue","yValue","preventDefault","gridCanvas","fineControl","handleShift","ctrlKey","redrawGrid","drawGrid","grabbedImage","_0","_1","mouseMovementScale","deltaMouseX","mouseX","deltaMouseY","mouseY","deltaImageX","deltaImageY","rescale","temperature","getVolume","volumetricEfficiency","throttling","getVolumeFlow","volume","getRPMfromMAF","massAirflow","airDensity","volumeFlow","GAMMA_RATIO_S_288K","GAMMA_RATIO_S_1100K","ambientTemperature","pressureRatio","compressorEfficiency","pow","inletTemperature","turbineEfficiency","buildInterpolator","getDataPoints","dataPoints","exactMatch","find","bigIndex","smallIndex","phi","referencePressure","exhaustTemperature","sqrt","correctedFlow","referenceTemperature","turbineModel","gasflow","changePoint","graphCanvas","xCompressorAxisUnits","compressorAirflowUnits","yTurbineAxisUnits","uncorrectLocalGasflow","maf","turbineMapPoints","interpolateTurbinePower","impossiblePressures","afr","graph","plotFunction","reduce","agg","__scopeId","showTooltip","hideTooltip","tooltipX","tooltipY","visible","tooltipVisible","tooltip-id","pointerData","boost","compressorPower","tooltipId","handleMouseenter","handleMouseleave","Number","Boolean","self","className","Tooltip","setTooltipPosition","dispatchEvent","Event","minPressureRatio","xAxisUnits","engineDisplacement","setMapPoint","insertMapPoint","removeMapPoint","getMAFlocal","actualMaf","engineMapRawPoints","engineMapPoints","getPressureRatio","drawMap","contextPoint","getRPM","multiply","findMapPointIndex","pointIndex","ExternalMap","TurbineMapOnCompressor","EngineMap","hotSideWidth","hotSideHeight","hotSideLayers","turbinePower","turbineMapPointsRaw","drawCurve","airflow","TurbineMap","type","removeEngineMapPoint","addEngineMapPoint","enginePressure","engineSpeed","pressureUnits","rawPoints","xAxisLabel","yAxisLabel","min","layerIndices","getLayerName","saveState","restoreState","KEY","stateStr","localStorage","getItem","JSON","parse","setState","setItem","stringify","replaceState","keys","ColdSideMap","HotSideMap","EngineMapPoints","GridConfig","routes","path","component","Home","router","history","payload","App","use","mount"],"mappings":"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","file":"js/app.abe59e99.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./TurbineMapOnCompressor.vue?vue&type=style&index=0&id=29172058&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./TurbineMapOnCompressor.vue?vue&type=style&index=0&id=29172058&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=dbde1562&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&id=dbde1562&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./GridConfig.vue?vue&type=style&index=0&id=2f8e7c43&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./GridConfig.vue?vue&type=style&index=0&id=2f8e7c43&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./HotSideMap.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./HotSideMap.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Plane.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Plane.vue?vue&type=style&index=0&lang=css\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Tooltip.vue?vue&type=style&index=0&id=1e258eaa&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Tooltip.vue?vue&type=style&index=0&id=1e258eaa&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=29cb254c&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=29cb254c&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./TurbineMap.vue?vue&type=style&index=0&id=2b498b1c&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./TurbineMap.vue?vue&type=style&index=0&id=2b498b1c&lang=scss&scoped=true\"","<template>\n\t<router-view />\n</template>\n\n<style lang=\"scss\">\nbody {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n#app {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n\n\tbackground-color: rgb(168, 240, 240);\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\t// justify-content: center;\n\t// align-items: center;\n\t// height: 100vh;\n\t// width: 100vw;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=7f4d5942\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"home-grid\">\n\t\t<cold-side-map />\n\t\t<div class=\"panel\">\n\t\t\t<grid-config\n\t\t\t\tclass=\"compressor-grid-config-form\"\n\t\t\t\tgrid-id=\"compressorGrid\"\n\t\t\t\tmap-id=\"coldSideMap\" />\n\t\t</div>\n\t\t<!-- <div class=\"calculation-container\">\n\t\t\t<grid-config\n\t\t\t\tclass=\"compressor-grid-config-form\"\n\t\t\t\tgrid-id=\"compressorGrid\"\n\t\t\t\tmap-id=\"coldSideMap\" />\n\t\t\t<form>\n\t\t\t\t<fieldset>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"engine-displacement\">Engine displacement (cc)</label>\n\t\t\t\t\t\t<input id=\"engine-displacement\" type=\"number\" v-model=\"engineDisplacement\" step=\"1\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"ambient-air-temperature\">Ambient air temperature (C)</label>\n\t\t\t\t\t\t<input id=\"ambient-air-temperature\" type=\"number\" v-model=\"ambientAirTemperature\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"ambient-air-pressure\">Ambient air absolute pressure (mbar)</label>\n\t\t\t\t\t\t<input id=\"ambient-air-pressure\" type=\"number\" v-model=\"ambientAirPressure\">\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t\t<EngineMapPoints />\n\t\t</div>\n\t\t<hot-side-map />\n\t\t<grid-config\n\t\t\tclass=\"compressor-grid-config-form\"\n\t\t\tgrid-id=\"turbineGrid\"\n\t\t\tmap-id=\"hotSideMap\" /> -->\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n\tdefineComponent,\n\tcomputed,\n\tRef,\n\tWritableComputedRef,\n\tref,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport ColdSideMap from \"./ColdSideMap.vue\"\nimport HotSideMap from \"./HotSideMap.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\nimport GridConfig from \"./GridConfig.vue\"\nimport {\n\tVolumeUnit,\n\tPressureUnit,\n\tTemperatureUnit\n} from \"@/physics/units\";\n\ntype ValueModelizer = <T>(value: Ref, units: Ref<T>) => WritableComputedRef<number>\nconst modelizeValue: ValueModelizer = (value, units) => computed({\n\tget () { return value.value[units.value] },\n\tset (input: number) { value.value[units.value] = input }\n})\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tColdSideMap,\n\t\tHotSideMap,\n\t\tEngineMapPoints,\n\t\tGridConfig\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst engineDisplacement = modelizeValue(computed(buildEngineMapAccessor(\"displacement\", store)), ref(VolumeUnit.cc));\n\t\tconst ambientAirPressure = modelizeValue(computed(buildEngineMapAccessor(\"ambientAirPressure\", store)), ref(PressureUnit.mbar));\n\t\tconst ambientAirTemperature = modelizeValue(computed(buildEngineMapAccessor(\"ambientAirTemperature\", store)), ref(TemperatureUnit.C));\n\n\t\treturn {\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.home-grid {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\theight: 100vh;\n\twidth: 100vw;\n}\n\n.panel {\n\tposition: absolute;\n\ttop: 50px;\n\tright: 50px;\n\tbackground-color: #ffd089;\n}\n\n.calculation-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.compressor-grid-config-form {\n\tpadding: 10px;\n\tgap: 6px 10px;\n\tjustify-items: start;\n}\n</style>\n","import { LBS_PER_KG } from \"@/physics/constants\";\nimport { Unit, CLASS_KEY } from \"./Unit\";\n\nexport enum MassAirflowUnits {\n\tgs = \"g/s\",\n\tkgs = \"kg/s\",\n\tlbsmin = \"lbs/min\",\n\tSI = \"kg/s\"\n}\n\nconst convertToLbsMin = (input: number) => {\n\treturn input * LBS_PER_KG * 60;\n}\n\nconst convertToKgS = (input: number) => {\n\treturn (input / 60) / LBS_PER_KG;\n}\n\nexport const MASS_AIRFLOW_CLASS_ID = Symbol.for(\"massAirflowUnit\").toString();\n\nexport class MassAirflow implements Unit {\n\tprivate _gs = 0;\n\tprivate _kgs = 0;\n\tprivate _lbsmin = 0;\n\n\tstatic convert(inputType: MassAirflowUnits, value: number, outputType: MassAirflowUnits): number {\n\t\tif (inputType === outputType) { return value; }\n\n\t\treturn new MassAirflow(value, inputType)[outputType];\n\t}\n\n\tconstructor(value: number, units = MassAirflowUnits.kgs) {\n\t\tthis[units] = value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t[CLASS_KEY]: MASS_AIRFLOW_CLASS_ID,\n\t\t\t[MassAirflowUnits.SI]: this.SI\n\t\t}\n\t}\n\n\tget SI () {\n\t\treturn this._kgs;\n\t}\n\n\tset [MassAirflowUnits.gs] (value: number) {\n\t\tthis._gs = value;\n\t\tthis._kgs = value / 1000;\n\t\tthis._lbsmin = convertToLbsMin(this._kgs);\n\t}\n\tget [MassAirflowUnits.gs] () { return this.round(this._gs) }\n\n\tset [MassAirflowUnits.kgs] (value: number) {\n\t\tthis._gs = value * 1000;\n\t\tthis._kgs = value;\n\t\tthis._lbsmin = convertToLbsMin(this._kgs);\n\t}\n\tget [MassAirflowUnits.kgs] () { return this.round(this._kgs) }\n\n\tset [MassAirflowUnits.lbsmin] (value: number) {\n\t\tthis._lbsmin = value;\n\t\tthis._kgs = convertToKgS(value);\n\t\tthis._gs = this._kgs * 1000;\n\t}\n\tget [MassAirflowUnits.lbsmin] () { return this.round(this._lbsmin) }\n\n\tround(input: number) {\n\t\treturn Math.round(input * 10000) / 10000\n\t}\n}\n","/* eslint-disable @typescript-eslint/camelcase */\nexport const GAS_CONSTANT = 8.314463; // J⋅K−1⋅mol−1\nexport const AIR_SPECIFIC_GAS_CONSTANT = 287.058; // J/(kg·K)\nexport const ZERO_CELSIUS_KELVIN = 273.15;\nexport const ABSOLUTE_ZERO_CELSIUS = -273.15;\nexport const ABSOLUTE_ZERO_FARENHEIT = -459.67;\nexport const LBS_PER_KG = 2.204623;\nexport const PA_PER_PSI = 6894.757293;\nexport const BHP_PER_KW = 1.341022;\nexport const CP_AIR_1100K = 1159; // J/Kg K\n// export const Cv_AIR_1100K = 871.6; // J/Kg K\nexport const CP_AIR_288K = 1006; // J/Kg K\n// export const Cv_AIR_288K = 717.5; // J/Kg K\nexport const GAMMA_AIR_1100K = 1.329;\nexport const GAMMA_AIR_288K = 1.402;\nexport const STANDARD_DAY_HUMIDITY = 0.6;\n","export const CLASS_KEY = \"_type\"\n\nexport interface Unit {\n\tSI: number;\n\ttoJSON: () => Record<string, number | string>;\n}\n\nexport interface UnitConstructor<T> {\n\tnew (value: number, unit?: T): Unit;\n}\n","import { Unit, CLASS_KEY } from \"./Unit\";\nimport { BHP_PER_KW } from \"../constants\";\n\nexport enum PowerUnit {\n\tW = \"watt\",\n\tkW = \"kilowatt\",\n\tBHP = \"brake horsepower\",\n\tSI = \"watt\",\n}\n\nexport const POWER_CLASS_ID = Symbol.for(\"powerUnit\").toString();\n\nexport class Power implements Unit {\n\tprivate _watt = 0;\n\tprivate _kilowatt = 0;\n\tprivate _bhp = 0;\n\n\tconstructor(value: number, units = PowerUnit.W) {\n\t\tthis[units] = value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t[CLASS_KEY]: POWER_CLASS_ID,\n\t\t\t[PowerUnit.SI]: this.SI\n\t\t}\n\t}\n\n\tget SI () {\n\t\treturn this._watt;\n\t}\n\n\tset [PowerUnit.W] (value: number) {\n\t\tthis._watt = value;\n\t\tthis._kilowatt = value / 1000;\n\t\tthis._bhp = this._kilowatt * BHP_PER_KW;\n\t}\n\tget [PowerUnit.W] () { return this._watt }\n\n\tset [PowerUnit.kW] (value: number) {\n\t\tthis._watt = value * 1000;\n\t\tthis._kilowatt = value;\n\t\tthis._bhp = value * BHP_PER_KW;\n\t}\n\tget [PowerUnit.kW] () { return this._kilowatt }\n\n\tset [PowerUnit.BHP] (value: number) {\n\t\tthis._bhp = value;\n\t\tthis._kilowatt = value / BHP_PER_KW;\n\t\tthis._watt = this._kilowatt * 1000;\n\t}\n\tget [PowerUnit.BHP] () { return this._bhp }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { PA_PER_PSI } from \"@/physics/constants\";\nimport { Unit, CLASS_KEY } from \"./Unit\";\n\nexport enum PressureUnit {\n\tPa = \"pascal\",\n\tkPa = \"kilopascal\",\n\tbar = \"bar\",\n\tmbar = \"milibar\",\n\tpsi = \"psi\",\n\tSI = \"pascal\"\n}\n\nexport const PRESSURE_CLASS_ID = Symbol.for(\"pressureUnit\").toString();\n\nexport class Pressure implements Unit {\n\tprivate _pa = 0;\n\tprivate _kpa = 0;\n\tprivate _bar = 0;\n\tprivate _mbar = 0;\n\tprivate _psi = 0;\n\n\tstatic standardDay(units = PressureUnit.Pa) {\n\t\treturn new Pressure(101325)[units]\n\t}\n\n\tconstructor(value: number, unit = PressureUnit.Pa) {\n\t\tthis[unit] = value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t[CLASS_KEY]: PRESSURE_CLASS_ID,\n\t\t\t[PressureUnit.Pa]: this.SI\n\t\t}\n\t}\n\n\tget SI () { return this._pa }\n\n\tset [PressureUnit.Pa] (value: number) {\n\t\tthis._pa = value;\n\t\tthis._kpa = value / 1000;\n\t\tthis._bar = value / 100000;\n\t\tthis._mbar = value / 100;\n\t\tthis._psi = value / PA_PER_PSI;\n\t}\n\tget [PressureUnit.Pa] () { return this._pa }\n\n\tset [PressureUnit.kPa] (value: number) {\n\t\tthis._pa = value * 1000;\n\t\tthis._kpa = value;\n\t\tthis._bar = value / 100;\n\t\tthis._mbar = value * 10;\n\t\tthis._psi = value * 1000 / PA_PER_PSI;\n\t}\n\tget [PressureUnit.kPa] () { return this._kpa }\n\n\tset [PressureUnit.bar] (value: number) {\n\t\tthis._pa = value * 100000;\n\t\tthis._kpa = value * 100;\n\t\tthis._bar = value;\n\t\tthis._mbar = value * 1000;\n\t\tthis._psi = value * 100000 / PA_PER_PSI;\n\t}\n\tget [PressureUnit.bar] () { return this._bar }\n\n\tset [PressureUnit.mbar] (value: number) {\n\t\tthis._pa = value * 100;\n\t\tthis._kpa = value / 10;\n\t\tthis._bar = value / 1000;\n\t\tthis._mbar = value;\n\t\tthis._psi = value * 100 / PA_PER_PSI;\n\t}\n\tget [PressureUnit.mbar] () { return this._mbar }\n\n\tset [PressureUnit.psi] (value: number) {\n\t\tthis._psi = value;\n\t\tthis._pa = PA_PER_PSI * value;\n\t\tthis._kpa = this._pa / 1000;\n\t\tthis._bar = this._pa / 100000;\n\t\tthis._mbar = this._pa / 100;\n\t}\n\tget [PressureUnit.psi] () { return this._psi }\n\n\tgetRelativePressure(ambient: Pressure): Pressure {\n\t\treturn new Pressure(this.SI - ambient.SI)\n\t}\n\n\tgetPressureRatio(ambient: Pressure): number {\n\t\treturn this.SI / ambient.SI\n\t}\n\n\tmultiply(ratio: number): Pressure {\n\t\treturn new Pressure(this.SI * ratio)\n\t}\n\n\tcompareTo(another: Pressure): number {\n\t\treturn this.SI - another.SI;\n\t}\n}\n","import { ABSOLUTE_ZERO_CELSIUS } from \"@/physics/constants\";\nimport { Unit, CLASS_KEY } from \"./Unit\";\n\nexport enum TemperatureUnit {\n\tK = \"kelvin\",\n\tC = \"celsius\",\n\tF = \"farenheit\",\n\tSI = \"kelvin\",\n}\n\nconst celsiusToFarenheit = (celsius: number): number => celsius * 9 / 5 + 32;\nconst celsiusToKelvin = (celsius: number): number => celsius - ABSOLUTE_ZERO_CELSIUS;\nconst farenheitToCelsius = (farenheit: number): number => (farenheit - 32) * 5 / 9;\nconst farenheitToKelvin = (farenheit: number): number => ((farenheit - 32) * 5 / 9) - ABSOLUTE_ZERO_CELSIUS\nconst kelvinToCelsius = (kelvin: number): number => kelvin + ABSOLUTE_ZERO_CELSIUS;\nconst kelvinToFarenheit = (kelvin: number): number => (kelvin + ABSOLUTE_ZERO_CELSIUS) * 9 / 5 + 32\n\nexport const TEMPERATURE_CLASS_ID = Symbol.for(\"temperatureUnit\").toString();\n\nexport class Temperature implements Unit {\n\tprivate _K = 0;\n\tprivate _C = -1 * ABSOLUTE_ZERO_CELSIUS;\n\tprivate _F = kelvinToFarenheit(0);\n\tstatic standardDay(units = TemperatureUnit.K) {\n\t\treturn new Temperature(288.15)[units]\n\t}\n\n\tconstructor(value: number, unit = TemperatureUnit.K) {\n\t\tthis[unit] = value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t[CLASS_KEY]: TEMPERATURE_CLASS_ID,\n\t\t\t[TemperatureUnit.K]: this.SI\n\t\t}\n\t}\n\n\tget SI () { return this._K }\n\n\tset [TemperatureUnit.K] (value: number) {\n\t\tthis._K = value;\n\t\tthis._C = kelvinToCelsius(value);\n\t\tthis._F = kelvinToFarenheit(value);\n\t}\n\tget [TemperatureUnit.K] () { return this._K; }\n\n\tset [TemperatureUnit.C] (value: number) {\n\t\tthis._K = celsiusToKelvin(value);\n\t\tthis._C = value;\n\t\tthis._F = celsiusToFarenheit(value);\n\t}\n\tget [TemperatureUnit.C] () { return this._C; }\n\n\tset [TemperatureUnit.F] (value: number) {\n\t\tthis._K = farenheitToKelvin(value);\n\t\tthis._C = farenheitToCelsius(value);\n\t\tthis._F = value;\n\t}\n\tget [TemperatureUnit.F] () { return this._F; }\n}\n","/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport { Unit, CLASS_KEY } from \"./Unit\";\n\nexport enum VolumeUnit {\n\tcc = \"cubic centimeters\",\n\tm3 = \"cubic meters\",\n\tSI = \"cubic meters\"\n}\n\nexport const VOLUME_CLASS_ID = Symbol.for(\"volumeUnit\").toString();\n\nexport class Volume implements Unit {\n\tprivate _cc = 0;\n\tprivate _m3 = 0;\n\n\tconstructor(value: number, unit = VolumeUnit.m3) {\n\t\tthis[unit] = value;\n\t}\n\n\ttoJSON() {\n\t\treturn {\n\t\t\t[CLASS_KEY]: VOLUME_CLASS_ID,\n\t\t\t[VolumeUnit.m3]: this.SI\n\t\t}\n\t}\n\n\tget SI () { return this._m3; }\n\n\tset [VolumeUnit.cc] (value: number) {\n\t\tthis._cc = value;\n\t\tthis._m3 = value / 1000000;\n\t}\n\tget [VolumeUnit.cc] () { return this._cc }\n\n\tset [VolumeUnit.m3] (value: number) {\n\t\tthis._m3 = value;\n\t\tthis._cc = value * 1000000\n\t}\n\tget [VolumeUnit.m3] () { return this._m3 }\n}\n","import {\n\tCLASS_KEY,\n\tMassAirflow,\n\tMassAirflowUnits,\n\tMASS_AIRFLOW_CLASS_ID,\n\tPower,\n\tPowerUnit,\n\tPOWER_CLASS_ID,\n\tPressure,\n\tPressureUnit,\n\tPRESSURE_CLASS_ID,\n\tTemperature,\n\tTemperatureUnit,\n\tTEMPERATURE_CLASS_ID,\n\tVolume,\n\tVolumeUnit,\n\tVOLUME_CLASS_ID\n} from \"@/physics/units\";\n\nexport const reviveUnits = (_: string, obj: any): any => { // eslint-disable-line @typescript-eslint/no-explicit-any\n\tconst {\n\t\t[CLASS_KEY]: classId\n\t} = obj\n\n\tswitch(classId) {\n\tcase MASS_AIRFLOW_CLASS_ID: {\n\t\treturn new MassAirflow(obj[MassAirflowUnits.SI])\n\t}\n\tcase POWER_CLASS_ID: {\n\t\treturn new Power(obj[PowerUnit.SI])\n\t}\n\tcase PRESSURE_CLASS_ID: {\n\t\treturn new Pressure(obj[PressureUnit.SI])\n\t}\n\tcase TEMPERATURE_CLASS_ID: {\n\t\treturn new Temperature(obj[TemperatureUnit.SI])\n\t}\n\tcase VOLUME_CLASS_ID: {\n\t\treturn new Volume(obj[VolumeUnit.SI])\n\t}\n\t}\n\n\treturn obj\n}\n","import { Module, Store } from \"vuex\";\nimport {\n\tMassAirflowUnits,\n\tPressure,\n\tPressureUnit,\n\tTemperature,\n\tTemperatureUnit,\n\tVolume,\n\tVolumeUnit\n} from \"@/physics/units\";\n\nexport const NAMESPACE = \"engineMap\";\n\ntype MapPoint = { pressure: Pressure; rpm: number }\n\nexport type EngineMapState = {\n\tairflowUnits: MassAirflowUnits;\n\tmapPressureUnits: PressureUnit;\n\tpoints: MapPoint[];\n\tdisplacement: Volume;\n\tambientAirTemperature: Temperature;\n\tambientAirPressure: Pressure;\n}\n\nconst namespaced = (input: keyof EngineMapState | \"addPoint\" | \"removePoint\" | \"point\"): string => `${NAMESPACE}/${input}`;\n\nexport const buildMapPointsGetter = (store: Store<{}>) => (): MapPoint[] => store.getters[namespaced(\"points\")]\nexport const buildMapPointInserter = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"addPoint\"), point)\nexport const buildMapPointRemover = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"removePoint\"), point)\nexport const buildMapPointModifier = (store: Store<{}>) => (point: MapPoint, index: number) => store.commit(namespaced(\"point\"), { point, index })\n\nexport const buildAccessor = <T extends keyof EngineMapState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => EngineMapState[T];\n\tset: (input: EngineMapState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const engineMap: Module<EngineMapState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tairflowUnits: MassAirflowUnits.lbsmin,\n\t\tmapPressureUnits: PressureUnit.bar,\n\t\tpoints: [\n\t\t\t{ pressure: new Pressure(2.5, PressureUnit.bar), rpm: 3000 },\n\t\t\t{ pressure: new Pressure(2.5, PressureUnit.bar), rpm: 5300 },\n\t\t\t{ pressure: new Pressure(2.5, PressureUnit.bar), rpm: 6500 }\n\t\t],\n\t\tdisplacement: new Volume(1984, VolumeUnit.cc),\n\t\tambientAirPressure: new Pressure(101325, PressureUnit.Pa),\n\t\tambientAirTemperature: new Temperature(15, TemperatureUnit.C)\n\t},\n\tgetters: {\n\t\tairflowUnits: ({ airflowUnits }) => airflowUnits,\n\t\tmapPressureUnits: ({ mapPressureUnits }) => mapPressureUnits,\n\t\tpoints: ({ points }) => points,\n\t\tdisplacement: ({ displacement }) => displacement,\n\t\tambientAirPressure: ({ ambientAirPressure }) => ambientAirPressure,\n\t\tambientAirTemperature: ({ ambientAirTemperature }) => ambientAirTemperature,\n\t},\n\tmutations: {\n\t\tairflowUnits: (state, airflowUnits) => state.airflowUnits = airflowUnits,\n\t\tmapPressureUnits: (state, mapPressureUnits) => state.mapPressureUnits = mapPressureUnits,\n\t\tpoint: (state, { point, index }) => {\n\t\t\tstate.points[index].pressure[state.mapPressureUnits] = point.pressure[state.mapPressureUnits]\n\t\t\tstate.points[index].rpm = point.rpm\n\t\t},\n\t\tpoints: (state, points) => state.points = points,\n\t\tdisplacement: (state, displacement) => state.displacement = displacement,\n\t\tambientAirPressure: (state, ambientAirPressure) => state.ambientAirPressure = ambientAirPressure,\n\t\tambientAirTemperature: (state, ambientAirTemperature) => state.ambientAirTemperature = ambientAirTemperature,\n\t},\n\tactions: {\n\t\taddPoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = [\n\t\t\t\t...state.points.filter(p => p.rpm !== point.rpm),\n\t\t\t\tpoint\n\t\t\t].sort((a, b) => a.rpm - b.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t},\n\t\tremovePoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = state.points.filter(p => p.rpm !== point.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t}\n\t}\n}","<template>\n\t<div\n\t\tid=\"cold-side-map\"\n\t\t:style=\"{ width: coldSideWidth + 'px', height: coldSideHeight + 'px' }\">\n\t\t<external-map\n\t\t\tv-if=\"coldSideLayers.map\"\n\t\t\tcanvas-id=\"compressor-map\"\n\t\t\tmap-id=\"coldSideMap\" />\n\t\t<grid\n\t\t\tv-if=\"coldSideLayers.grid\"\n\t\t\tcanvas-id=\"compressor-grid\"\n\t\t\tmap-id=\"coldSideMap\" />\n\t\t<turbine-map-on-compressor\n\t\t\tv-if=\"coldSideLayers.curveFromOtherside\"\n\t\t\tcanvas-id=\"turbine-map-on-compressor\"\n\t\t\tmap-id=\"coldSideMap\" />\n\t\t<engine-map\n\t\t\tv-if=\"coldSideLayers.points\"\n\t\t\tcanvas-id=\"engine-map\"\n\t\t\tmap-id=\"coldSideMap\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from \"vue\"\nimport { useStore } from \"vuex\"\nimport { buildMapAccessor } from \"@/store/map\"\nimport ExternalMap from \"./ExternalMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport TurbineMapOnCompressor from \"./TurbineMapOnCompressor.vue\"\nimport EngineMap from \"./EngineMap.vue\"\n\nexport default defineComponent({\n\tname: \"ColdSideMap\",\n\tcomponents: {\n\t\tExternalMap,\n\t\tGrid,\n\t\tTurbineMapOnCompressor,\n\t\tEngineMap,\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst coldSideWidth = computed(buildMapAccessor(\"coldSideMap\", \"mapWidth\", store))\n\t\tconst coldSideHeight = computed(buildMapAccessor(\"coldSideMap\", \"mapHeight\", store))\n\t\tconst coldSideLayers = computed(buildMapAccessor(\"coldSideMap\", \"layers\", store))\n\n\t\treturn {\n\t\t\tcoldSideWidth,\n\t\t\tcoldSideHeight,\n\t\t\tcoldSideLayers,\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\">\n#cold-side-map {\n\tposition: relative;\n\tbackground-color: white;\n}\n\n#compressor-map {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n#compressor-grid {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n#turbine-map-on-compressor {\n\tbackground-color: transparent;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n#engine-map {\n\tbackground-color: transparent;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n</style>\n","import { Module, Store } from \"vuex\";\nimport { MapId, XAxisUnit, YAxisUnit } from \"@/types\";\n\nexport const NAMESPACE = \"map\"\nconst namespaced = (property: string): string => `${NAMESPACE}/${property}`;\n\nexport type MapConfig = {\n\timageData: string;\n\timageWidth: number;\n\timageHeight: number;\n\n\tmapWidth: number;\n\tmapHeight: number;\n\tgridWidth: number;\n\tgridHeight: number;\n\toffsetX: number;\n\toffsetY: number;\n\n\tminX: number;\n\tmaxX: number;\n\txStep: number;\n\txUnits: XAxisUnit;\n\n\tminY: number;\n\tmaxY: number;\n\tyStep: number;\n\tyUnits: YAxisUnit;\n\n\tlayers: {\n\t\tmap: boolean;\n\t\tgrid: boolean;\n\t\tpoints: boolean;\n\t\tcurveFromOtherside: boolean;\n\t};\n}\n\nexport type MapConfigState = Record<MapId, MapConfig>;\n\nexport const buildMapAccessor = <T extends keyof MapConfig>(\n\tmap: MapId,\n\tproperty: T,\n\tstore: Store<{}>\n) => {\n\treturn ({\n\t\tget: (): MapConfig[T] => store.getters[namespaced(property)](map),\n\t\tset: (input: MapConfig[T]) =>{ store.commit(namespaced(property), { map, [property]: input }) }\n\t})\n}\n\nconst getGridHorizontalPositionAfterMapResize = (state: MapConfig, newWidth: number): [number, number] => {\n\tconst offsetRatio = state.offsetX / state.mapWidth\n\tconst widthRatio = state.gridWidth / state.mapWidth\n\n\treturn [offsetRatio * newWidth, widthRatio * newWidth];\n}\n\nconst getGridVerticalPositionAfterMapResize = (state: MapConfig, newHeight: number): [number, number] => {\n\tconst offsetRatio = state.offsetY / state.mapHeight\n\tconst heightRatio = state.gridHeight / state.mapHeight\n\n\treturn [offsetRatio * newHeight, heightRatio * newHeight];\n}\n\nexport const map: Module<MapConfigState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tcoldSideMap: {\n\t\t\timageData: \"\",\n\t\t\timageWidth: 800,\n\t\t\timageHeight: 600,\n\n\t\t\tmapWidth: 800,\n\t\t\tmapHeight: 600,\n\t\t\tgridWidth: 700,\n\t\t\tgridHeight: 500,\n\t\t\toffsetX: 50,\n\t\t\toffsetY: 550,\n\n\t\t\tminX: 0,\n\t\t\tmaxX: 60,\n\t\t\txStep: 5,\n\t\t\txUnits: \"corrected lbs/min\",\n\n\t\t\tminY: 1,\n\t\t\tmaxY: 4,\n\t\t\tyStep: 0.25,\n\t\t\tyUnits: \"pressureRatio\",\n\n\t\t\tlayers: {\n\t\t\t\tmap: true,\n\t\t\t\tgrid: true,\n\t\t\t\tcurveFromOtherside: true,\n\t\t\t\tpoints: true,\n\t\t\t}\n\t\t},\n\t\thotSideMap: {\n\t\t\timageData: \"\",\n\t\t\timageWidth: 800,\n\t\t\timageHeight: 600,\n\n\t\t\tmapWidth: 800,\n\t\t\tmapHeight: 600,\n\t\t\tgridWidth: 700,\n\t\t\tgridHeight: 500,\n\t\t\toffsetX: 50,\n\t\t\toffsetY: 550,\n\n\t\t\tminX: 1,\n\t\t\tmaxX: 4,\n\t\t\txStep: 0.25,\n\t\t\txUnits: \"pressureRatio\",\n\n\t\t\tminY: 0,\n\t\t\tmaxY: 25,\n\t\t\tyStep: 2.5,\n\t\t\tyUnits: \"corrected lbs/min\",\n\n\t\t\tlayers: {\n\t\t\t\tmap: true,\n\t\t\t\tgrid: true,\n\t\t\t\tcurveFromOtherside: false,\n\t\t\t\tpoints: true,\n\t\t\t}\n\t\t}\n\t},\n\tgetters: {\n\t\timageData: (state: MapConfigState) => (map: MapId) => state[map].imageData,\n\t\timageWidth: (state: MapConfigState) => (map: MapId) => state[map].imageWidth,\n\t\timageHeight: (state: MapConfigState) => (map: MapId) => state[map].imageHeight,\n\t\tmapWidth: (state: MapConfigState) => (map: MapId) => state[map].mapWidth,\n\t\tmapHeight: (state: MapConfigState) => (map: MapId) => state[map].mapHeight,\n\t\tgridWidth: (state: MapConfigState) => (map: MapId) => state[map].gridWidth,\n\t\tgridHeight: (state: MapConfigState) => (map: MapId) => state[map].gridHeight,\n\t\toffsetX: (state: MapConfigState) => (map: MapId) => state[map].offsetX,\n\t\toffsetY: (state: MapConfigState) => (map: MapId) => state[map].offsetY,\n\t\tminX: (state: MapConfigState) => (map: MapId) => state[map].minX,\n\t\tmaxX: (state: MapConfigState) => (map: MapId) => state[map].maxX,\n\t\txStep: (state: MapConfigState) => (map: MapId) => state[map].xStep,\n\t\txUnits: (state: MapConfigState) => (map: MapId) => state[map].xUnits,\n\t\tminY: (state: MapConfigState) => (map: MapId) => state[map].minY,\n\t\tmaxY: (state: MapConfigState) => (map: MapId) => state[map].maxY,\n\t\tyStep: (state: MapConfigState) => (map: MapId) => state[map].yStep,\n\t\tyUnits: (state: MapConfigState) => (map: MapId) => state[map].yUnits,\n\t\tlayers: (state: MapConfigState) => (map: MapId) => state[map].layers,\n\t},\n\tmutations: {\n\t\timageData: (state: MapConfigState, { map, imageData }: { map: MapId; imageData: string }) => { state[map].imageData = imageData },\n\t\timageWidth: (state: MapConfigState, { map, imageWidth }: { map: MapId; imageWidth: number }) => { state[map].imageWidth = imageWidth },\n\t\timageHeight: (state: MapConfigState, { map, imageHeight }: { map: MapId; imageHeight: number }) => { state[map].imageHeight = imageHeight },\n\t\tmapWidth: (state: MapConfigState, { map, mapWidth }: { map: MapId; mapWidth: number }) => {\n\t\t\tconst [ offsetX, gridWidth ] = getGridHorizontalPositionAfterMapResize(state[map], mapWidth);\n\t\t\tstate[map].mapWidth = mapWidth\n\t\t\tstate[map].offsetX = offsetX\n\t\t\tstate[map].gridWidth = gridWidth\n\t\t},\n\t\tmapHeight: (state: MapConfigState, { map, mapHeight }: { map: MapId; mapHeight: number }) => {\n\t\t\tconst [ offsetY, gridHeight ] = getGridVerticalPositionAfterMapResize(state[map], mapHeight)\n\t\t\tstate[map].mapHeight = mapHeight\n\t\t\tstate[map].offsetY = offsetY\n\t\t\tstate[map].gridHeight = gridHeight\n\t\t},\n\t\tgridWidth: (state: MapConfigState, { map, gridWidth }: { map: MapId; gridWidth: number }) => { state[map].gridWidth = gridWidth },\n\t\tgridHeight: (state: MapConfigState, { map, gridHeight }: { map: MapId; gridHeight: number }) => { state[map].gridHeight = gridHeight },\n\t\toffsetX: (state: MapConfigState, { map, offsetX }: { map: MapId; offsetX: number }) => { state[map].offsetX = offsetX },\n\t\toffsetY: (state: MapConfigState, { map, offsetY }: { map: MapId; offsetY: number }) => { state[map].offsetY = offsetY },\n\t\tminX: (state: MapConfigState, { map, minX }: { map: MapId; minX: number }) => { state[map].minX = minX },\n\t\tmaxX: (state: MapConfigState, { map, maxX }: { map: MapId; maxX: number }) => { state[map].maxX = maxX },\n\t\txStep: (state: MapConfigState, { map, xStep }: { map: MapId; xStep: number }) => { state[map].xStep = xStep },\n\t\txUnits: (state: MapConfigState, { map, xUnits }: { map: MapId; xUnits: XAxisUnit }) => { state[map].xUnits = xUnits },\n\t\tminY: (state: MapConfigState, { map, minY }: { map: MapId; minY: number }) => { state[map].minY = minY },\n\t\tmaxY: (state: MapConfigState, { map, maxY }: { map: MapId; maxY: number }) => { state[map].maxY = maxY },\n\t\tyStep: (state: MapConfigState, { map, yStep }: { map: MapId; yStep: number }) => { state[map].yStep = yStep },\n\t\tyUnits: (state: MapConfigState, { map, yUnits }: { map: MapId; yUnits: YAxisUnit }) => { state[map].yUnits = yUnits },\n\t}\n}\n\n","<template>\n\t<plane\n\t\t:map-id=\"mapId\"\n\t\t:layer-id=\"canvasId\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch, onUnmounted, Ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildMapAccessor } from \"@/store/map\";\nimport { getImageRedrawer } from \"./graphics\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\n\ntype ExternalMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nconst useFileSelector = (input: HTMLInputElement, image: HTMLImageElement, imageData: Ref<string>) => {\n\tconst reader = new FileReader();\n\tif (imageData.value.length > 0) {\n\t\timage.src = imageData.value;\n\t}\n\n\tconst readerListener = (event: ProgressEvent<FileReader>) => {\n\t\timage.src = event.target!.result as string // eslint-disable-line @typescript-eslint/no-non-null-assertion\n\t\timageData.value = image.src\n\t}\n\tconst fileSelectorListener = (event: Event) => {\n\t\tconst [ imageFile ] = (event.target as unknown as { files: Array<Blob> }).files\n\t\treader.readAsDataURL(imageFile)\n\t}\n\n\treader.addEventListener(\"load\", readerListener);\n\tinput.addEventListener(\"change\",fileSelectorListener);\n\n\tconst cleanup = () => {\n\t\treader.removeEventListener(\"load\", readerListener);\n\t\tinput.removeEventListener(\"change\",fileSelectorListener);\n\t}\n\n\treturn cleanup;\n}\n\nexport default defineComponent({\n\tname: \"ExternalMap\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tgridId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as ExternalMapProps\n\t\tconst store = useStore();\n\n\t\tconst imageData = computed(buildMapAccessor(mapId, \"imageData\", store))\n\t\tconst mapWidth = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst mapHeight = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\t\tconst imageWidth = computed(buildMapAccessor(mapId, \"imageWidth\", store))\n\t\tconst imageHeight = computed(buildMapAccessor(mapId, \"imageHeight\", store))\n\n\t\tlet cleanupFileSelector = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\n\t\tonMounted(() => {\n\t\t\tconst imgCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\t\t\tconst image = new Image();\n\t\t\timage.src = imageData.value\n\t\t\tconst fileSelector = document.getElementById(`${mapId}-image`) as HTMLInputElement;\n\n\t\t\tif (fileSelector) {\n\t\t\t\tcleanupFileSelector = useFileSelector(fileSelector, image, imageData);\n\t\t\t}\n\n\t\t\timage.onload = () => {\n\t\t\t\timageWidth.value = image.width\n\t\t\t\timageHeight.value = image.height\n\n\t\t\t\tmapHeight.value = Math.round(mapWidth.value * (image.height / image.width))\n\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timage,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tmapWidth.value,\n\t\t\t\t\t\tmapHeight.value,\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => mapWidth.value,\n\t\t\t\t\t() => mapHeight.value\n\t\t\t\t],\n\t\t\t\t([w, h]) => redrawImage(w, h),\n\t\t\t\t{ flush: \"post\" },\n\t\t\t)\n\n\t\t\twatch(\n\t\t\t\t() => imageData.value,\n\t\t\t\t(imgData) => image.src = imgData,\n\t\t\t\t{ flush: \"post\" },\n\t\t\t)\n\t\t});\n\n\t\tonUnmounted(cleanupFileSelector)\n\t},\n})\n</script>\n","const GRID_STROKE_STYLE = \"rgb(134,136,138)\";\n\nexport const greatestCommonDivisor = (a: number, b: number): number => (b === 0\n\t? a\n\t: (greatestCommonDivisor(b, a % b)));\n\nexport class InvalidGridConfigError extends Error {\n\tconstructor(...props: any[]) { // eslint-disable-line\n\t\tsuper(...props)\n\t}\n}\n\ntype GridConstructor = {\n\tcanvasRef: HTMLCanvasElement;\n\theight: number;\n\twidth: number;\n\tgridWidth: number;\n\tgridHeight: number;\n\toffsetX: number;\n\toffsetY: number;\n\tminX: number;\n\tminY: number;\n\tmaxX: number;\n\tmaxY: number;\n\txInterval?: number;\n\tyInterval?: number;\n}\n\nexport class Grid {\n\tprivate context: CanvasRenderingContext2D;\n\n\tprivate height: number;\n\n\tprivate width: number;\n\n\tprivate gridHeight: number;\n\n\tprivate gridWidth: number;\n\t\n\tprivate offsetX: number;\n\n\tprivate offsetY: number;\n\n\tprivate minX: number;\n\n\tprivate minY: number;\n\n\tprivate maxX: number;\n\n\tprivate maxY: number;\n\n\tprivate xInterval: number;\n\tprivate yInterval: number;\n\n\tprivate xIntervalCount: number;\n\tprivate yIntervalCount: number;\n\n\tprivate xAxisSpacing: number;\n\tprivate yAxisSpacing: number;\n\n\tstatic validateSetup(config: GridConstructor) {\n\t\tconst {\n\t\t\theight,\n\t\t\twidth,\n\t\t\tgridHeight,\n\t\t\tgridWidth,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = config;\n\n\t\tif (height < 0 || width < 0) { throw new InvalidGridConfigError(\"canvas dimensions\") }\n\t\tif (minX >= maxX || minY >= maxY) { throw new InvalidGridConfigError(\"axis limits\") }\n\t\tif (yInterval < 0 || xInterval < 0) { throw new InvalidGridConfigError(\"axis steps\") }\n\t\tif (xInterval !== 0) {\n\t\t\tif ((maxX - minX) / xInterval > gridWidth) { throw new InvalidGridConfigError(\"grid too dense\") }\n\t\t}\n\t\tif (yInterval !== 0) {\n\t\t\tif ((maxY - minY) / yInterval > gridHeight) { throw new InvalidGridConfigError(\"grid too dense\") }\n\t\t}\n\t}\n\n\tconstructor(config: GridConstructor) {\n\t\tGrid.validateSetup(config);\n\n\t\tconst {\n\t\t\tcanvasRef,\n\t\t\theight,\n\t\t\twidth,\n\t\t\tgridHeight,\n\t\t\tgridWidth,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = config;\n\n\t\tthis.context = canvasRef.getContext(\"2d\")!; // eslint-disable-line\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.gridWidth = gridWidth;\n\t\tthis.gridHeight = gridHeight;\n\t\tthis.offsetX = offsetX;\n\t\tthis.offsetY = offsetY;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xIntervalCount = Math.round((maxX - minX) / this.xInterval);\n\t\tthis.yIntervalCount = Math.round((maxY - minY) / this.yInterval);\n\n\t\tthis.xAxisSpacing = gridWidth / this.xIntervalCount;\n\t\tthis.yAxisSpacing = gridHeight / this.yIntervalCount;\n\t}\n\n\tsetup(config: Partial<GridConstructor>) {\n\t\tconst mergedConfig = {\n\t\t\t...this,\n\t\t\t...config\n\t\t} as unknown as GridConstructor\n\n\t\tGrid.validateSetup(mergedConfig);\n\n\t\tthis.clear()\n\n\t\tconst {\n\t\t\theight,\n\t\t\twidth,\n\t\t\tgridHeight,\n\t\t\tgridWidth,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = mergedConfig;\n\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.gridWidth = gridWidth;\n\t\tthis.gridHeight = gridHeight;\n\t\tthis.offsetX = offsetX;\n\t\tthis.offsetY = offsetY;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xIntervalCount = Math.round((maxX - minX) / this.xInterval);\n\t\tthis.yIntervalCount = Math.round((maxY - minY) / this.yInterval);\n\n\t\tthis.xAxisSpacing = gridWidth / this.xIntervalCount;\n\t\tthis.yAxisSpacing = gridHeight / this.yIntervalCount;\n\t}\n\n\tclear() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t}\n\n\tdrawGrid() {\n\t\tthis.context.beginPath();\n\t\tthis.context.strokeStyle = GRID_STROKE_STYLE;\n\t\tthis.context.lineWidth = 1;\n\t\tthis.context.moveTo(this.offsetX, this.offsetY);\n\n\t\tfor (let i = 0; i <= this.xIntervalCount; i += 1) {\n\t\t\tconst tempI = Math.round(i * this.xAxisSpacing) + this.offsetX// + 0.5\n\t\t\tthis.context.moveTo(tempI, this.offsetY);\n\t\t\tthis.context.lineTo(tempI, this.offsetY - this.gridHeight);\n\t\t}\n\t\tfor (let j = this.yIntervalCount; j >= 0; j -= 1) {\n\t\t\tconst tempJ = Math.round(j * this.yAxisSpacing) + (this.offsetY - this.gridHeight)// + 0.5\n\t\t\tthis.context.moveTo(this.offsetX, tempJ);\n\t\t\tthis.context.lineTo(this.offsetX + this.gridWidth, tempJ);\n\t\t}\n\n\t\tthis.context.stroke();\n\t}\n\n\tdrawAxis() {\n\t\tconst {\n\t\t\tcontext,\n\t\t\tgridWidth,\n\t\t\tgridHeight,\n\t\t\toffsetX,\n\t\t\toffsetY,\n\t\t\txAxisSpacing,\n\t\t\tyAxisSpacing,\n\t\t\txInterval,\n\t\t\tyInterval,\n\t\t\tminX,\n\t\t\tmaxY,\n\t\t\tminY,\n\t\t} = this;\n\n\t\tcontext.beginPath();\n\n\t\tfor (\n\t\t\tlet x = offsetX, value = minX;\n\t\t\tx <= (offsetX + gridWidth);\n\t\t\tx += xAxisSpacing, value += xInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(3);\n\t\t\tcontext.fillText(label, x - context.measureText(label).width / 2, offsetY + 14);\n\t\t}\n\n\t\tfor (\n\t\t\tlet y = offsetY, value = minY;\n\t\t\ty >= offsetY - gridHeight;\n\t\t\ty -= yAxisSpacing, value += yInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(2);\n\t\t\tcontext.fillText(label, offsetX - context.measureText(label).width - 4, y + 5);\n\t\t}\n\n\t\tcontext.beginPath();\n\t\tcontext.rect(\n\t\t\tthis.transformX(minX),\n\t\t\tthis.transformY(maxY),\n\t\t\tthis.gridWidth,\n\t\t\tthis.gridHeight,\n\t\t);\n\t\tcontext.stroke();\n\t}\n\n\ttransformX(input: number) {\n\t\tconst scale = this.gridWidth / (this.maxX - this.minX);\n\n\t\treturn Math.floor((input - this.minX) * scale) + this.offsetX + 0.5;\n\t}\n\n\ttransformY(input: number) {\n\t\tconst scale = this.gridHeight / (this.maxY - this.minY);\n\n\t\treturn this.offsetY - Math.floor((input - this.minY) * scale) +0.5;\n\t}\n\n\tmoveTo(x: number, y: number) {\n\t\treturn this.context.moveTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tlineTo(x: number, y: number) {\n\t\treturn this.context.lineTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tstroke() {\n\t\treturn this.context.stroke();\n\t}\n\n\tdrawCircle(x: number, y: number, radius: number, fill = false) {\n\t\tthis.context.beginPath()\n\t\tthis.context.moveTo(this.transformX(x) + radius, this.transformY(y))\n\t\tthis.context.arc(this.transformX(x), this.transformY(y), radius, 0, Math.PI * 2)\n\t\tif (fill) {\n\t\t\tthis.context.fill()\n\t\t}\n\t\tthis.context.stroke()\n\t}\n\n\tdrawMap(points: { x: number; y: number }[]) {\n\t\tthis.clear();\n\t\tif (points.length === 0) { return; }\n\n\t\tthis.context.beginPath();\n\n\t\tthis.context.strokeStyle = \"green\";\n\t\tthis.context.lineWidth = 3;\n\n\t\tconst [first, ...restPoints] = points;\n\t\tthis.moveTo(first.x, first.y);\n\n\t\trestPoints.forEach(({ x, y }) => {\n\t\t\tthis.lineTo(x, y);\n\t\t\tthis.moveTo(x, y);\n\t\t});\n\n\t\tthis.lineTo(first.x, first.y);\n\t\tthis.context.closePath();\n\t\tthis.stroke();\n\n\t\tthis.context.beginPath();\n\t\tthis.context.strokeStyle = \"red\";\n\t\tthis.context.fillStyle = \"pink\";\n\t\tthis.context.lineWidth = 1;\n\n\t\tpoints.forEach(({ x, y }) => {\n\t\t\tthis.drawCircle(x, y, 5, true)\n\t\t})\n\t}\n\n\tdrawCurve(points: { x: number; y: number }[]) {\n\t\tthis.clear();\n\t\tif (points.length === 0) { return; }\n\n\t\tthis.context.beginPath();\n\n\t\tthis.context.strokeStyle = \"green\";\n\t\tthis.context.lineWidth = 3;\n\n\t\tconst [first, ...restPoints] = points;\n\t\tthis.moveTo(first.x, first.y);\n\n\t\trestPoints.forEach(({ x, y }) => {\n\t\t\tthis.lineTo(x, y);\n\t\t\tthis.moveTo(x, y);\n\t\t});\n\t\tthis.stroke();\n\t\tthis.context.closePath();\n\n\t\tthis.context.beginPath();\n\t\tthis.context.strokeStyle = \"red\";\n\t\tthis.context.fillStyle = \"pink\";\n\t\tthis.context.lineWidth = 1;\n\n\t\tpoints.forEach(({ x, y }) => {\n\t\t\tthis.drawCircle(x, y, 5, true)\n\t\t})\n\t}\n\n\tplotFunction(f: (x: number) => number, minX = this.minX, maxX = this.maxX) {\n\t\tthis.clear();\n\t\tthis.context.strokeStyle = \"red\";\n\t\tconst step = (maxX - minX) / this.gridWidth;\n\t\tthis.context.beginPath();\n\t\tthis.moveTo(this.minX, f(this.minX));\n\t\tfor (let x = minX; x < maxX; x += step) {\n\t\t\tthis.lineTo(x, f(x))\n\t\t}\n\t\tthis.context.stroke();\n\t}\n}\n\nexport const getImageRedrawer = (\n\t{ image, canvas }: { image: CanvasImageSource; canvas: HTMLCanvasElement },\n) => (\n\twidth: number,\n\theight: number,\n) => {\n\tconst {\n\t\twidth: canvasWidth,\n\t\theight: canvasHeight,\n\t} = canvas;\n\n\tconst ctx = canvas.getContext(\"2d\")!; // eslint-disable-line\n\n\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\tctx.drawImage(\n\t\timage,\n\t\t0,\n\t\t0,\n\t\twidth,\n\t\theight,\n\t);\n};\n","<template>\n\t<canvas\n\t\t:id=\"layerId\"\n\t\t:width=\"width\"\n\t\t:height=\"height\" />\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { MapId } from \"@/types\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype PlaneProps = {\n\tmapId: MapId;\n\tlayerId: string;\n}\n\nexport default defineComponent({\n\tname: \"Plane\",\n\tprops: {\n\t\tmapId: String,\n\t\tlayerId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { mapId } = props as PlaneProps;\n\t\tconst store = useStore();\n\t\tconst width = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst height = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\n\t\treturn {\n\t\t\twidth,\n\t\t\theight,\n\t\t}\n\t}\n})\n</script>\n\n<style>\n\n</style>","\nimport { computed, defineComponent } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { MapId } from \"@/types\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype PlaneProps = {\n\tmapId: MapId;\n\tlayerId: string;\n}\n\nexport default defineComponent({\n\tname: \"Plane\",\n\tprops: {\n\t\tmapId: String,\n\t\tlayerId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { mapId } = props as PlaneProps;\n\t\tconst store = useStore();\n\t\tconst width = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst height = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\n\t\treturn {\n\t\t\twidth,\n\t\t\theight,\n\t\t}\n\t}\n})\n","import { render } from \"./Plane.vue?vue&type=template&id=188d1ca5\"\nimport script from \"./Plane.vue?vue&type=script&lang=ts\"\nexport * from \"./Plane.vue?vue&type=script&lang=ts\"\n\nimport \"./Plane.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","\nimport { defineComponent, computed, onMounted, watch, onUnmounted, Ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildMapAccessor } from \"@/store/map\";\nimport { getImageRedrawer } from \"./graphics\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\n\ntype ExternalMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nconst useFileSelector = (input: HTMLInputElement, image: HTMLImageElement, imageData: Ref<string>) => {\n\tconst reader = new FileReader();\n\tif (imageData.value.length > 0) {\n\t\timage.src = imageData.value;\n\t}\n\n\tconst readerListener = (event: ProgressEvent<FileReader>) => {\n\t\timage.src = event.target!.result as string // eslint-disable-line @typescript-eslint/no-non-null-assertion\n\t\timageData.value = image.src\n\t}\n\tconst fileSelectorListener = (event: Event) => {\n\t\tconst [ imageFile ] = (event.target as unknown as { files: Array<Blob> }).files\n\t\treader.readAsDataURL(imageFile)\n\t}\n\n\treader.addEventListener(\"load\", readerListener);\n\tinput.addEventListener(\"change\",fileSelectorListener);\n\n\tconst cleanup = () => {\n\t\treader.removeEventListener(\"load\", readerListener);\n\t\tinput.removeEventListener(\"change\",fileSelectorListener);\n\t}\n\n\treturn cleanup;\n}\n\nexport default defineComponent({\n\tname: \"ExternalMap\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tgridId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as ExternalMapProps\n\t\tconst store = useStore();\n\n\t\tconst imageData = computed(buildMapAccessor(mapId, \"imageData\", store))\n\t\tconst mapWidth = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst mapHeight = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\t\tconst imageWidth = computed(buildMapAccessor(mapId, \"imageWidth\", store))\n\t\tconst imageHeight = computed(buildMapAccessor(mapId, \"imageHeight\", store))\n\n\t\tlet cleanupFileSelector = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\n\t\tonMounted(() => {\n\t\t\tconst imgCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\t\t\tconst image = new Image();\n\t\t\timage.src = imageData.value\n\t\t\tconst fileSelector = document.getElementById(`${mapId}-image`) as HTMLInputElement;\n\n\t\t\tif (fileSelector) {\n\t\t\t\tcleanupFileSelector = useFileSelector(fileSelector, image, imageData);\n\t\t\t}\n\n\t\t\timage.onload = () => {\n\t\t\t\timageWidth.value = image.width\n\t\t\t\timageHeight.value = image.height\n\n\t\t\t\tmapHeight.value = Math.round(mapWidth.value * (image.height / image.width))\n\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timage,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tmapWidth.value,\n\t\t\t\t\t\tmapHeight.value,\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => mapWidth.value,\n\t\t\t\t\t() => mapHeight.value\n\t\t\t\t],\n\t\t\t\t([w, h]) => redrawImage(w, h),\n\t\t\t\t{ flush: \"post\" },\n\t\t\t)\n\n\t\t\twatch(\n\t\t\t\t() => imageData.value,\n\t\t\t\t(imgData) => image.src = imgData,\n\t\t\t\t{ flush: \"post\" },\n\t\t\t)\n\t\t});\n\n\t\tonUnmounted(cleanupFileSelector)\n\t},\n})\n","import { render } from \"./ExternalMap.vue?vue&type=template&id=3bac356b\"\nimport script from \"./ExternalMap.vue?vue&type=script&lang=ts\"\nexport * from \"./ExternalMap.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\t<plane\n\t\t:layer-id=\"canvasId\"\n\t\t:map-id=\"mapId\"\n\t\t@mousemove=\"handleHover\"\n\t\t@mousedown=\"handleMouseDown\"\n\t\t@mouseup=\"handleMouseUp\"\n\t\t@contextmenu=\"handleRightClick\"\n\t\t@mouseleave=\"handleMouseLeave\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, ref, onBeforeUnmount } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MapId } from \"@/types\";\nimport { useMouseControl } from \"./mouse-control\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype GridProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"Grid\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as GridProps;\n\t\tconst store = useStore();\n\n\t\tconst offsetX = computed(buildMapAccessor(mapId, \"offsetX\", store))\n\t\tconst offsetY = computed(buildMapAccessor(mapId, \"offsetY\", store))\n\t\tconst gridWidth = computed(buildMapAccessor(mapId, \"gridWidth\", store))\n\t\tconst gridHeight = computed(buildMapAccessor(mapId, \"gridHeight\", store))\n\n\t\tconst gridCanvas = ref({} as HTMLCanvasElement);\n\t\tlet fineControl = false;\n\n\t\tconst handleShift = (e: KeyboardEvent) => {\n\t\t\tfineControl = e.ctrlKey\n\t\t}\n\n\t\twindow.addEventListener(\"keydown\", handleShift)\n\t\twindow.addEventListener(\"keyup\", handleShift)\n\n\t\tonBeforeUnmount(() => {\n\t\t\twindow.removeEventListener(\"keydown\", handleShift)\n\t\t\twindow.removeEventListener(\"keyup\", handleShift)\n\t\t})\n\n\t\tonMounted(() => {\n\t\t\tgridCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst grid = buildGrid(gridCanvas.value, mapId, store);\n\n\t\t\tconst redrawGrid = () => {\n\t\t\t\tgrid.drawGrid();\n\t\t\t}\n\n\t\t\tredrawGrid();\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid,\n\t\t\t\tgridActions: [redrawGrid],\n\t\t\t\tmapId,\n\t\t\t\tstore,\n\t\t\t\twatchStepChange: true\n\t\t\t})\n\t\t});\n\n\t\tlet grabbedImage: {\n\t\t\tmouseX: number;\n\t\t\tmouseY: number;\n\t\t\trescale: boolean;\n\t\t} | null = null;\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<number, number>({\n\t\t\tcanvasRef: gridCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: a => a,\n\t\t\tonHover: (_0, _1, x, y) => {\n\t\t\t\tif (grabbedImage) {\n\t\t\t\t\tconst mouseMovementScale = fineControl ? 0.05 : 1\n\n\t\t\t\t\tconst deltaMouseX = x - grabbedImage.mouseX\n\t\t\t\t\tconst deltaMouseY = y - grabbedImage.mouseY\n\n\t\t\t\t\tconst deltaImageX = Math.round(deltaMouseX * mouseMovementScale)\n\t\t\t\t\tconst deltaImageY = Math.round(deltaMouseY * mouseMovementScale)\n\n\t\t\t\t\tif (!grabbedImage.rescale) {\n\t\t\t\t\t\tif (Math.abs(deltaImageX) >= 1) {\n\t\t\t\t\t\t\toffsetX.value += deltaImageX\n\t\t\t\t\t\t\tgrabbedImage.mouseX += deltaMouseX\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(deltaImageY) >= 1) {\n\t\t\t\t\t\t\toffsetY.value += deltaImageY\n\t\t\t\t\t\t\tgrabbedImage.mouseY += deltaMouseY\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (Math.abs(deltaImageX) >= 1) {\n\t\t\t\t\t\t\tgridWidth.value += deltaImageX\n\t\t\t\t\t\t\tgrabbedImage.mouseX += deltaMouseX\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(deltaImageY) >= 1) {\n\t\t\t\t\t\t\tgridHeight.value -= deltaImageY\n\t\t\t\t\t\t\tgrabbedImage.mouseY += deltaMouseY\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (_0, _1, x, y) => {\n\t\t\t\tgrabbedImage = {\n\t\t\t\t\tmouseX: x,\n\t\t\t\t\tmouseY: y,\n\t\t\t\t\trescale: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseUp: () => { grabbedImage = null },\n\t\t\tonRightClick: (_0, _1, x, y) => {\n\t\t\t\tgrabbedImage = {\n\t\t\t\t\tmouseX: x,\n\t\t\t\t\tmouseY: y,\n\t\t\t\t\trescale: true\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tconst handleMouseLeave = () => { grabbedImage = null }\n\t\t\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\thandleMouseLeave\n\t\t}\n\t},\n})\n</script>\n","import { Ref, watch } from \"vue\"\nimport { Grid, InvalidGridConfigError } from \"./graphics\"\nimport { Store } from \"vuex\"\nimport { buildMapAccessor } from \"@/store/map\"\nimport { MapId } from \"@/types\";\n\ntype GridParamGetters = [\n\t() => Ref<number>[\"value\"], // plane height\n\t() => Ref<number>[\"value\"], // plane width\n\t() => Ref<number>[\"value\"], // grid height\n\t() => Ref<number>[\"value\"], // grid width\n\t() => Ref<number>[\"value\"], // offsetX\n\t() => Ref<number>[\"value\"], // offsetY\n\t() => Ref<number>[\"value\"], // minX\n\t() => Ref<number>[\"value\"], // maxX\n\t() => Ref<number>[\"value\"], // minY\n\t() => Ref<number>[\"value\"], // maxY\n\t() => Ref<string>[\"value\"], // Xunits\n\t() => Ref<string>[\"value\"], // Yunits\n\t() => Ref<number>[\"value\"], // xStep\n\t() => Ref<number>[\"value\"], // yStep\n];\n\ntype GridWatchersConfig = {\n\tgrid: Grid;\n\tmapId: MapId;\n\tgridActions: (() => void)[];\n\twatchStepChange?: boolean;\n\tstore: Store<{}>;\n}\n\nexport const buildGrid = (\n\tcanvasRef: HTMLCanvasElement,\n\tmapId: MapId,\n\tstore: Store<{}>\n) => new Grid({\n\tcanvasRef,\n\twidth: buildMapAccessor(mapId, \"mapWidth\", store).get(),\n\theight: buildMapAccessor(mapId, \"mapHeight\", store).get(),\n\tgridWidth: buildMapAccessor(mapId, \"gridWidth\", store).get(),\n\tgridHeight: buildMapAccessor(mapId, \"gridHeight\", store).get(),\n\toffsetX: buildMapAccessor(mapId, \"offsetX\", store).get(),\n\toffsetY: buildMapAccessor(mapId, \"offsetY\", store).get(),\n\tminX: buildMapAccessor(mapId, \"minX\", store).get(),\n\tmaxX: buildMapAccessor(mapId, \"maxX\", store).get(),\n\tminY: buildMapAccessor(mapId, \"minY\", store).get(),\n\tmaxY: buildMapAccessor(mapId, \"maxY\", store).get(),\n\txInterval: buildMapAccessor(mapId, \"xStep\", store).get(),\n\tyInterval: buildMapAccessor(mapId, \"yStep\", store).get(),\n});\n\nexport const useGridWatchers = (config: GridWatchersConfig) => {\n\tconst {\n\t\tgrid,\n\t\tmapId,\n\t\tgridActions,\n\t\twatchStepChange = false,\n\t\tstore,\n\t} = config;\n\n\tconst accessors = [\n\t\tbuildMapAccessor(mapId, \"mapWidth\", store),\n\t\tbuildMapAccessor(mapId, \"mapHeight\", store),\n\t\tbuildMapAccessor(mapId, \"gridWidth\", store),\n\t\tbuildMapAccessor(mapId, \"gridHeight\", store),\n\t\tbuildMapAccessor(mapId, \"offsetX\", store),\n\t\tbuildMapAccessor(mapId, \"offsetY\", store),\n\t\tbuildMapAccessor(mapId, \"minX\", store),\n\t\tbuildMapAccessor(mapId, \"maxX\", store),\n\t\tbuildMapAccessor(mapId, \"minY\", store),\n\t\tbuildMapAccessor(mapId, \"maxY\", store),\n\t\tbuildMapAccessor(mapId, \"xUnits\", store), \n\t\tbuildMapAccessor(mapId, \"yUnits\", store), \n\t]\n\n\tif (watchStepChange) {\n\t\taccessors.push(buildMapAccessor(mapId, \"xStep\", store))\n\t\taccessors.push(buildMapAccessor(mapId, \"yStep\", store))\n\t}\n\n\tconst accessorGetters = accessors.map(accessor => accessor.get) as GridParamGetters;\n\n\twatch<GridParamGetters>(\n\t\taccessorGetters,\n\t\t(newValues) => {\n\t\t\tconst [\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tgridWidth,\n\t\t\t\tgridHeight,\n\t\t\t\toffsetX,\n\t\t\t\toffsetY,\n\t\t\t\tminX,\n\t\t\t\tmaxX,\n\t\t\t\tminY,\n\t\t\t\tmaxY,\n\t\t\t\txUnits, // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\t\tyUnits, // eslint-disable-line @typescript-eslint/no-unused-vars\n\t\t\t\txInterval,\n\t\t\t\tyInterval\n\t\t\t] = newValues\n\n\t\t\ttry {\n\t\t\t\tgrid.setup({\n\t\t\t\t\twidth,\n\t\t\t\t\theight,\n\t\t\t\t\tgridWidth,\n\t\t\t\t\tgridHeight,\n\t\t\t\t\toffsetX,\n\t\t\t\t\toffsetY,\n\t\t\t\t\tminX,\n\t\t\t\t\tmaxX,\n\t\t\t\t\txInterval,\n\t\t\t\t\tminY,\n\t\t\t\t\tmaxY,\n\t\t\t\t\tyInterval\n\t\t\t\t})\n\n\t\t\t\tgridActions.forEach(a => a())\n\t\t\t} catch (err) {\n\t\t\t\tif (!(err instanceof InvalidGridConfigError)) {\n\t\t\t\t\tconsole.log(err) // eslint-disable-line\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{ flush: \"post\" }\n\t)\n}","import { Ref } from \"vue\"\nimport { Store } from \"vuex\"\nimport { MapId } from \"@/types\"\nimport { buildMapAccessor } from \"@/store/map\";\n\nconst _noop = () => {}; // eslint-disable-line @typescript-eslint/no-empty-function\n\ntype MouseEventHandler<X, Y> = (xValue: X, yValue: Y, x: number, y: number) => void\n\ntype MouseControlConfig<X, Y> = {\n\tcanvasRef: Ref<HTMLCanvasElement>;\n\tstore: Store<{}>;\n\tmapId: MapId;\n\ttransformX: (x: number) => X;\n\ttransformY: (y: number) => Y;\n\tonHover?: MouseEventHandler<X, Y>;\n\tonMouseDown?: MouseEventHandler<X, Y>;\n\tonMouseUp?: MouseEventHandler<X, Y>;\n\tonRightClick?: MouseEventHandler<X, Y>;\n}\n\ntype IUseMapPointFinder = <T>(p: {\n\tpoints: Ref<T[]>;\n\tgetX: (point: T) => number;\n\tgetY: (point: T) => number;\n\tpixelRadius: number;\n\tstore: Store<{}>;\n\tmapId: MapId;\n}) => (x: number, y: number) => number\nexport const useMapPointFinder: IUseMapPointFinder = ({ points, getX, getY, pixelRadius, store, mapId }) => {\n\tconst gridWidth = buildMapAccessor(mapId, \"gridWidth\", store);\n\tconst gridHeight = buildMapAccessor(mapId, \"gridHeight\", store);\n\tconst minX = buildMapAccessor(mapId, \"minX\", store);\n\tconst maxX = buildMapAccessor(mapId, \"maxX\", store);\n\tconst minY = buildMapAccessor(mapId, \"minY\", store);\n\tconst maxY = buildMapAccessor(mapId, \"maxY\", store);\n\n\tconst deltaX = () => (maxX.get() - minX.get()) * pixelRadius / gridWidth.get()\n\tconst deltaY = () => (maxY.get() - minY.get()) * pixelRadius / gridHeight.get()\n\n\treturn (x: number, y: number): number => {\n\t\treturn points.value.findIndex((point) => {\n\t\t\tif (getX(point) === x || Math.abs(getX(point) - x) <= deltaX()) {\n\t\t\t\tif (getY(point) === y || Math.abs(getY(point) - y) <= deltaY()) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t})\n\t}\n}\n\nexport const useMouseControl = <X, Y>({\n\tcanvasRef,\n\tstore,\n\tmapId,\n\ttransformX,\n\ttransformY,\n\tonHover = _noop,\n\tonMouseDown = _noop,\n\tonMouseUp = _noop,\n\tonRightClick = _noop,\n}: MouseControlConfig<X, Y>) => {\n\tconst gridWidth = buildMapAccessor(mapId, \"gridWidth\", store);\n\tconst gridHeight = buildMapAccessor(mapId, \"gridHeight\", store);\n\tconst offsetX = buildMapAccessor(mapId, \"offsetX\", store);\n\tconst offsetY = buildMapAccessor(mapId, \"offsetY\", store);\n\n\tconst minX = buildMapAccessor(mapId, \"minX\", store);\n\tconst maxX = buildMapAccessor(mapId, \"maxX\", store);\n\tconst minY = buildMapAccessor(mapId, \"minY\", store);\n\tconst maxY = buildMapAccessor(mapId, \"maxY\", store);\n\n\tlet canvasBoundingRect = { left: 0, top: 0 };\n\tconst windowResizeHandler = () => { canvasBoundingRect = canvasRef.value.getBoundingClientRect() }\n\n\tconst originX = () => canvasBoundingRect.left + offsetX.get()\n\tconst originY = () => canvasBoundingRect.top + offsetY.get() - gridHeight.get()\n\n\twindow.addEventListener(\"resize\", windowResizeHandler);\n\twindow.addEventListener(\"scroll\", windowResizeHandler);\n\n\tconst getMouseX = (x: number): number => x - canvasBoundingRect.left\n\tconst getMouseY = (y: number): number => y - canvasBoundingRect.top\n\n\tconst getMapX = (mapX: number): number => ((mapX / gridWidth.get()) * (maxX.get() - minX.get())) + minX.get()\n\tconst getMapY = (mapY: number): number => ((1 - (mapY / gridHeight.get())) * (maxY.get() - minY.get())) + minY.get()\n\n\tconst getMapDataFromAtCanvasXY = ({ x, y }: { x: number; y: number }): [number, number] => {\n\t\tconst mapY = getMapY(y - originY())\n\t\tconst mapX = getMapX(x - originX())\n\n\t\tconst result: [number, number] = [\n\t\t\tmapX,\n\t\t\tmapY,\n\t\t]\n\n\t\tif (mapX > maxX.get()) { result[0] = maxX.get() }\n\t\tif (mapX < minX.get()) { result[0] = minX.get() }\n\t\tif (mapY > maxY.get()) { result[1] = maxY.get() }\n\t\tif (mapY < minY.get()) { result[1] = minY.get() }\n\n\t\treturn result;\n\t}\n\n\tconst handleMouseEvent = (e: MouseEvent): [X, Y, number, number] => {\n\t\tconst [ xValue, yValue ] = getMapDataFromAtCanvasXY(e);\n\n\t\treturn [\n\t\t\ttransformX(xValue),\n\t\t\ttransformY(yValue),\n\t\t\tgetMouseX(e.x),\n\t\t\tgetMouseY(e.y)\n\t\t];\n\t}\n\n\tconst handleHover = (e: MouseEvent) => onHover(...handleMouseEvent(e))\n\tconst handleMouseDown = (e: MouseEvent) => onMouseDown(...handleMouseEvent(e));\n\tconst handleMouseUp = (e: MouseEvent) => onMouseUp(...handleMouseEvent(e));\n\tconst handleRightClick = (e: MouseEvent) => {\n\t\te.preventDefault();\n\t\tonRightClick(...handleMouseEvent(e));\n\t}\n\n\treturn {\n\t\thandleHover,\n\t\thandleMouseDown,\n\t\thandleMouseUp,\n\t\thandleRightClick,\n\t}\n}","\nimport { defineComponent, computed, onMounted, ref, onBeforeUnmount } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MapId } from \"@/types\";\nimport { useMouseControl } from \"./mouse-control\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype GridProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"Grid\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as GridProps;\n\t\tconst store = useStore();\n\n\t\tconst offsetX = computed(buildMapAccessor(mapId, \"offsetX\", store))\n\t\tconst offsetY = computed(buildMapAccessor(mapId, \"offsetY\", store))\n\t\tconst gridWidth = computed(buildMapAccessor(mapId, \"gridWidth\", store))\n\t\tconst gridHeight = computed(buildMapAccessor(mapId, \"gridHeight\", store))\n\n\t\tconst gridCanvas = ref({} as HTMLCanvasElement);\n\t\tlet fineControl = false;\n\n\t\tconst handleShift = (e: KeyboardEvent) => {\n\t\t\tfineControl = e.ctrlKey\n\t\t}\n\n\t\twindow.addEventListener(\"keydown\", handleShift)\n\t\twindow.addEventListener(\"keyup\", handleShift)\n\n\t\tonBeforeUnmount(() => {\n\t\t\twindow.removeEventListener(\"keydown\", handleShift)\n\t\t\twindow.removeEventListener(\"keyup\", handleShift)\n\t\t})\n\n\t\tonMounted(() => {\n\t\t\tgridCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst grid = buildGrid(gridCanvas.value, mapId, store);\n\n\t\t\tconst redrawGrid = () => {\n\t\t\t\tgrid.drawGrid();\n\t\t\t}\n\n\t\t\tredrawGrid();\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid,\n\t\t\t\tgridActions: [redrawGrid],\n\t\t\t\tmapId,\n\t\t\t\tstore,\n\t\t\t\twatchStepChange: true\n\t\t\t})\n\t\t});\n\n\t\tlet grabbedImage: {\n\t\t\tmouseX: number;\n\t\t\tmouseY: number;\n\t\t\trescale: boolean;\n\t\t} | null = null;\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<number, number>({\n\t\t\tcanvasRef: gridCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: a => a,\n\t\t\tonHover: (_0, _1, x, y) => {\n\t\t\t\tif (grabbedImage) {\n\t\t\t\t\tconst mouseMovementScale = fineControl ? 0.05 : 1\n\n\t\t\t\t\tconst deltaMouseX = x - grabbedImage.mouseX\n\t\t\t\t\tconst deltaMouseY = y - grabbedImage.mouseY\n\n\t\t\t\t\tconst deltaImageX = Math.round(deltaMouseX * mouseMovementScale)\n\t\t\t\t\tconst deltaImageY = Math.round(deltaMouseY * mouseMovementScale)\n\n\t\t\t\t\tif (!grabbedImage.rescale) {\n\t\t\t\t\t\tif (Math.abs(deltaImageX) >= 1) {\n\t\t\t\t\t\t\toffsetX.value += deltaImageX\n\t\t\t\t\t\t\tgrabbedImage.mouseX += deltaMouseX\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(deltaImageY) >= 1) {\n\t\t\t\t\t\t\toffsetY.value += deltaImageY\n\t\t\t\t\t\t\tgrabbedImage.mouseY += deltaMouseY\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (Math.abs(deltaImageX) >= 1) {\n\t\t\t\t\t\t\tgridWidth.value += deltaImageX\n\t\t\t\t\t\t\tgrabbedImage.mouseX += deltaMouseX\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(deltaImageY) >= 1) {\n\t\t\t\t\t\t\tgridHeight.value -= deltaImageY\n\t\t\t\t\t\t\tgrabbedImage.mouseY += deltaMouseY\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (_0, _1, x, y) => {\n\t\t\t\tgrabbedImage = {\n\t\t\t\t\tmouseX: x,\n\t\t\t\t\tmouseY: y,\n\t\t\t\t\trescale: false\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseUp: () => { grabbedImage = null },\n\t\t\tonRightClick: (_0, _1, x, y) => {\n\t\t\t\tgrabbedImage = {\n\t\t\t\t\tmouseX: x,\n\t\t\t\t\tmouseY: y,\n\t\t\t\t\trescale: true\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\tconst handleMouseLeave = () => { grabbedImage = null }\n\t\t\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\thandleMouseLeave\n\t\t}\n\t},\n})\n","import { render } from \"./Grid.vue?vue&type=template&id=1a7e3bf5\"\nimport script from \"./Grid.vue?vue&type=script&lang=ts\"\nexport * from \"./Grid.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\t<plane\n\t\t:layer-id=\"canvasId\"\n\t\t:map-id=\"mapId\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MassAirflow, MassAirflowUnits, Pressure, Temperature } from \"@/physics/units\";\nimport { buildInterpolator, getTurbinePower, uncorrectGasflow, uncorrectPhi } from \"@/physics/calculations\";\nimport { buildMapPointsGetter as buildTurbineMapPointsGetter } from \"@/store/turbine-model\";\nimport { CP_AIR_288K, GAMMA_AIR_288K } from \"@/physics/constants\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype EngineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"TurbineMapOnCompressor\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as EngineMapProps;\n\n\t\tlet graphCanvas: HTMLCanvasElement;\n\t\tconst store = useStore();\n\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst xCompressorAxisUnits = computed(buildMapAccessor(\"coldSideMap\", \"xUnits\", store));\n\t\tconst compressorAirflowUnits = computed(() => {\n\t\t\tif (xCompressorAxisUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\t\t\treturn MassAirflowUnits.kgs\n\t\t});\n\n\t\tconst yTurbineAxisUnits = computed(buildMapAccessor(\"hotSideMap\", \"yUnits\", store));\n\t\t\n\t\tconst uncorrectLocalGasflow = (maf: number, pressureRatio: number): MassAirflow => {\n\t\t\tif (yTurbineAxisUnits.value === \"phi\") {\n\t\t\t\treturn uncorrectPhi({\n\t\t\t\t\tphi: maf,\n\t\t\t\t\tpressureRatio,\n\t\t\t\t\treferencePressure: new Pressure(101325),\n\t\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn uncorrectGasflow({\n\t\t\t\tcorrectedFlow: new MassAirflow(maf, MassAirflowUnits.lbsmin),\n\t\t\t\tpressureRatio,\n\t\t\t\treferenceTemperature: new Temperature(288.15),\n\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t})\n\t\t}\n\n\t\tconst turbineMapPoints = computed(buildTurbineMapPointsGetter(store));\n\n\t\tconst interpolateTurbinePower = buildInterpolator(\n\t\t\t() => turbineMapPoints.value,\n\t\t\t({ gasflow, pressureRatio }) => uncorrectLocalGasflow(gasflow, pressureRatio)[compressorAirflowUnits.value],\n\t\t\t({ gasflow, pressureRatio }) => getTurbinePower({\n\t\t\t\tmassAirflow: uncorrectLocalGasflow(gasflow, pressureRatio),\n\t\t\t\tpressureRatio,\n\t\t\t\tinletTemperature: new Temperature(1100),\n\t\t\t\tturbineEfficiency: 0.69\n\t\t\t}).SI,\n\t\t)\n\n\t\tconst impossiblePressures = (maf: number): number => {\n\t\t\tconst afr = 1 + (1 / 11.3);\n\t\t\tconst a = interpolateTurbinePower(maf * afr) * 0.59\n\t\t\tconst b = new MassAirflow(maf, compressorAirflowUnits.value).SI * CP_AIR_288K * ambientAirTemperature.value.SI;\n\t\t\tconst c = (a / b) + 1;\n\n\t\t\treturn Math.pow(c, GAMMA_AIR_288K / (GAMMA_AIR_288K - 1));\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas, mapId, store);\n\n\t\t\tgraph.plotFunction(impossiblePressures)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => graph.plotFunction(impossiblePressures)],\n\t\t\t\tmapId,\n\t\t\t\tstore\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => turbineMapPoints.value.reduce((agg, p) => agg + p.pressureRatio + p.gasflow, 0),\n\t\t\t\t() => { graph.plotFunction(impossiblePressures) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.tooltip {\n\tdisplay: none;\n\tbackground: #C8C8C7;\n\tmargin-left: 30px;\n\tpadding: 10px;\n\tposition: absolute;\n\tz-index: 1000;\n\tgridHeight: 100px;\n}\n</style>\n","/* eslint-disable @typescript-eslint/camelcase */\nimport {\n\tAIR_SPECIFIC_GAS_CONSTANT,\n\tGAMMA_AIR_288K,\n\tGAMMA_AIR_1100K,\n\tCP_AIR_1100K,\n\tCP_AIR_288K\n} from \"@/physics/constants\"\nimport {\n\tMassAirflow,\n\tPower,\n\tPressure,\n\tTemperature,\n\tVolume,\n} from \"@/physics/units\"\n\ntype KgM3 = number\n\ntype IGetAirDensity = (p: { temperature: Temperature; pressure: Pressure }) => KgM3\nexport const getAirDensity: IGetAirDensity = ({ temperature, pressure }) => (\n\tpressure.SI / (temperature.SI * AIR_SPECIFIC_GAS_CONSTANT)\n);\n\ntype IGetVolume = (p: {\n\tdisplacement: Volume;\n\tvolumetricEfficiency?: number;\n\tthrottling?: number;\n}) => Volume\nexport const getVolume: IGetVolume = ({\n\tdisplacement,\n\tvolumetricEfficiency = 1,\n\tthrottling = 1,\n}) => {\n\tdisplacement[\"cubic meters\"] = displacement.SI * volumetricEfficiency * throttling\n\treturn displacement;\n};\n\ntype IGetVolumeFlow = <T extends number>(p: { rpm: number; volume: T }) => number\nexport const getVolumeFlow: IGetVolumeFlow = ({ rpm, volume }) => (\n\t(volume * rpm) / (2 * 60)\n);\n\ntype IGetRPMfromMAF = (p: {\n\tmassAirflow: MassAirflow;\n\tdisplacement: Volume;\n\ttemperature: Temperature;\n\tpressure: Pressure;\n}) => number\nexport const getRPMfromMAF: IGetRPMfromMAF = ({\n\tmassAirflow, displacement, temperature, pressure\n}) => {\n\tconst airDensity = getAirDensity({ temperature, pressure })\n\tconst volumeFlow = massAirflow.SI / airDensity;\n\tconst rpm = volumeFlow * 60 * 2 / displacement.SI;\n\treturn rpm\n}\n\ntype IGetMAF = (p: {\n\trpm: number;\n\tdisplacement: Volume;\n\ttemperature: Temperature;\n\tpressure: Pressure;\n}) => MassAirflow\nexport const getMAF: IGetMAF = ({\n\trpm,\n\tdisplacement,\n\ttemperature,\n\tpressure,\n}) => {\n\tconst volume = getVolume({ displacement });\n\treturn new MassAirflow(getVolumeFlow({ rpm, volume: volume.SI }) * getAirDensity({ temperature, pressure }))\n};\n\ntype IGetEMAF = (p: {\n\tintakeAirflow: MassAirflow;\n\tstoichiometricAirFuelRatio: number;\n\tlambda: number;\n}) => MassAirflow;\nexport const getEMAF: IGetEMAF = ({\n\tintakeAirflow,\n\tstoichiometricAirFuelRatio,\n\tlambda\n}) => {\n\tconst massScale = 1 + 1 / (stoichiometricAirFuelRatio * lambda) // lambda = afr/afrstoich\n\n\treturn new MassAirflow(intakeAirflow.SI * massScale);\n}\n\nconst GAMMA_RATIO_S_288K = (GAMMA_AIR_288K - 1) / GAMMA_AIR_288K\nconst GAMMA_RATIO_S_1100K = (GAMMA_AIR_1100K - 1) / GAMMA_AIR_1100K\n\ntype IGetCompressorPower = (p: {\n\tmassAirflow: MassAirflow;\n\tambientTemperature: Temperature;\n\tpressureRatio: number;\n\tcompressorEfficiency: number;\n}) => Power\nexport const getCompressorPower: IGetCompressorPower = ({\n\tmassAirflow,\n\tambientTemperature,\n\tpressureRatio,\n\tcompressorEfficiency,\n}) => {\n\tconst p = (1 / compressorEfficiency)\n\t\t* massAirflow.SI\n\t\t* CP_AIR_288K\n\t\t* ambientTemperature.SI\n\t\t* (Math.pow(pressureRatio, GAMMA_RATIO_S_288K) - 1);\n\n\treturn new Power(p);\n}\n\ntype IGetTurbinePower = (p: {\n\tmassAirflow: MassAirflow;\n\tinletTemperature: Temperature;\n\tpressureRatio: number;\n\tturbineEfficiency: number;\n}) => Power\nexport const getTurbinePower: IGetTurbinePower = ({\n\tmassAirflow,\n\tinletTemperature,\n\tpressureRatio,\n\tturbineEfficiency\n}) => {\n\tconst p = turbineEfficiency\n\t\t* massAirflow.SI\n\t\t* CP_AIR_1100K\n\t\t* inletTemperature.SI\n\t\t*\t(1 - Math.pow(1/pressureRatio, GAMMA_RATIO_S_1100K));\n\n\treturn new Power(p);\n}\n\nexport const buildInterpolator = <T>(\n\tgetDataPoints: () => T[],\n\tgetX: (i: T) => number,\n\tgetY: (i: T) => number,\n) => (x: number): number => {\n\t\tconst dataPoints = getDataPoints();\n\t\tif (dataPoints.length === 0) {\n\t\t\treturn 0;\n\t\t}\n\n\t\tconst exactMatch = dataPoints.find(p => getX(p) === x);\n\t\tif (exactMatch) { return getY(exactMatch) }\n\n\t\tconst bigIndex = dataPoints.findIndex(p => getX(p) > x);\n\t\tconst smallIndex = bigIndex - 1;\n\n\t\tif (bigIndex === -1) {\n\t\t\treturn getY(dataPoints[dataPoints.length - 1])\n\t\t}\n\n\t\tif (bigIndex === 0) {\n\t\t\treturn getY(dataPoints[0]);\n\t\t}\n\n\t\tconst deltaX = getX(dataPoints[bigIndex]) - getX(dataPoints[smallIndex]);\n\t\tconst deltaY = getY(dataPoints[bigIndex]) - getY(dataPoints[smallIndex]);\n\n\t\treturn getY(dataPoints[bigIndex]) - (deltaY * (getX(dataPoints[bigIndex]) - x) / deltaX);\n\t}\n\ntype IUncorrectPhi = (p: {\n\tphi: number;\n\tpressureRatio: number;\n\treferencePressure: Pressure;\n\texhaustTemperature: Temperature;\n}) => MassAirflow\nexport const uncorrectPhi: IUncorrectPhi = ({\n\tphi,\n\tpressureRatio,\n\treferencePressure,\n\texhaustTemperature\n}) => new MassAirflow(phi * pressureRatio * referencePressure[\"kilopascal\"] / Math.sqrt(exhaustTemperature.SI))\n\ntype IUncorrectGasflow = (p: {\n\tcorrectedFlow: MassAirflow;\n\tpressureRatio: number;\n\treferenceTemperature: Temperature;\n\texhaustTemperature: Temperature;\n}) => MassAirflow\nexport const uncorrectGasflow: IUncorrectGasflow = ({\n\tcorrectedFlow,\n\tpressureRatio,\n\treferenceTemperature,\n\texhaustTemperature\n}) => new MassAirflow(correctedFlow.SI * pressureRatio * Math.sqrt(referenceTemperature.SI/exhaustTemperature.SI))\n","import { Module, Store } from \"vuex\"\n\nexport const NAMESPACE = \"turbineModel\";\n\ntype TurbineMapPoint = {\n\tgasflow: number;\n\tpressureRatio: number;\n}\n\nexport type TurbineModelState = {\n\tpoints: TurbineMapPoint[];\n}\n\nconst namespaced = (input: \"points\" | \"addPoint\" | \"removePoint\" | \"changePoint\"): string => `${NAMESPACE}/${input}`;\n\nexport const buildMapPointsGetter = (store: Store<{}>) => (): TurbineMapPoint[] => store.getters[namespaced(\"points\")]\nexport const buildMapPointInserter = (store: Store<{}>) => (point: TurbineMapPoint) => store.commit(namespaced(\"addPoint\"), point)\nexport const buildMapPointRemover = (store: Store<{}>) => (point: TurbineMapPoint) => store.commit(namespaced(\"removePoint\"), point)\nexport const buildMapPointModifier = (store: Store<{}>) => (point: TurbineMapPoint, index: number) => store.commit(namespaced(\"changePoint\"), { point, index })\n\nexport const turbineModel: Module<TurbineModelState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tpoints: [\n\t\t\t{ gasflow: 0,\t\tpressureRatio: 1 },\n\t\t\t{ gasflow: 9.2,\t\tpressureRatio: 1.175 },\n\t\t\t{ gasflow: 12.1,\t\tpressureRatio: 1.375 },\n\t\t\t{ gasflow: 13,\tpressureRatio: 1.5 },\n\t\t\t{ gasflow: 14.4,\tpressureRatio: 1.75 },\n\t\t\t{ gasflow: 16,\t\tpressureRatio: 2.25 },\n\t\t\t{ gasflow: 16.25,\t\tpressureRatio: 2.5 },\n\t\t\t{ gasflow: 16.4,\tpressureRatio: 3 },\n\t\t\t{ gasflow: 16.2,\tpressureRatio: 3.75 }\n\t\t]\n\t},\n\tgetters: {\n\t\tpoints: ({ points }) => points\n\t},\n\tmutations: {\n\t\taddPoint: (state, point: TurbineMapPoint) => {\n\t\t\tstate.points.push(point);\n\t\t\tstate.points.sort((a, b) => a.pressureRatio - b.pressureRatio);\n\t\t},\n\t\tremovePoint: (state, point: TurbineMapPoint) => {\n\t\t\tconst index = state.points.findIndex(p => p.pressureRatio === point.pressureRatio && p.gasflow === point.gasflow)\n\t\t\tstate.points.splice(index, 1);\n\t\t},\n\t\tchangePoint: (state, { index, point }: { index: number; point: TurbineMapPoint }) => {\n\t\t\tstate.points[index] = point;\n\t\t}\n\t}\n}","\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MassAirflow, MassAirflowUnits, Pressure, Temperature } from \"@/physics/units\";\nimport { buildInterpolator, getTurbinePower, uncorrectGasflow, uncorrectPhi } from \"@/physics/calculations\";\nimport { buildMapPointsGetter as buildTurbineMapPointsGetter } from \"@/store/turbine-model\";\nimport { CP_AIR_288K, GAMMA_AIR_288K } from \"@/physics/constants\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype EngineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"TurbineMapOnCompressor\",\n\tcomponents: { Plane },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as EngineMapProps;\n\n\t\tlet graphCanvas: HTMLCanvasElement;\n\t\tconst store = useStore();\n\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst xCompressorAxisUnits = computed(buildMapAccessor(\"coldSideMap\", \"xUnits\", store));\n\t\tconst compressorAirflowUnits = computed(() => {\n\t\t\tif (xCompressorAxisUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\t\t\treturn MassAirflowUnits.kgs\n\t\t});\n\n\t\tconst yTurbineAxisUnits = computed(buildMapAccessor(\"hotSideMap\", \"yUnits\", store));\n\t\t\n\t\tconst uncorrectLocalGasflow = (maf: number, pressureRatio: number): MassAirflow => {\n\t\t\tif (yTurbineAxisUnits.value === \"phi\") {\n\t\t\t\treturn uncorrectPhi({\n\t\t\t\t\tphi: maf,\n\t\t\t\t\tpressureRatio,\n\t\t\t\t\treferencePressure: new Pressure(101325),\n\t\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn uncorrectGasflow({\n\t\t\t\tcorrectedFlow: new MassAirflow(maf, MassAirflowUnits.lbsmin),\n\t\t\t\tpressureRatio,\n\t\t\t\treferenceTemperature: new Temperature(288.15),\n\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t})\n\t\t}\n\n\t\tconst turbineMapPoints = computed(buildTurbineMapPointsGetter(store));\n\n\t\tconst interpolateTurbinePower = buildInterpolator(\n\t\t\t() => turbineMapPoints.value,\n\t\t\t({ gasflow, pressureRatio }) => uncorrectLocalGasflow(gasflow, pressureRatio)[compressorAirflowUnits.value],\n\t\t\t({ gasflow, pressureRatio }) => getTurbinePower({\n\t\t\t\tmassAirflow: uncorrectLocalGasflow(gasflow, pressureRatio),\n\t\t\t\tpressureRatio,\n\t\t\t\tinletTemperature: new Temperature(1100),\n\t\t\t\tturbineEfficiency: 0.69\n\t\t\t}).SI,\n\t\t)\n\n\t\tconst impossiblePressures = (maf: number): number => {\n\t\t\tconst afr = 1 + (1 / 11.3);\n\t\t\tconst a = interpolateTurbinePower(maf * afr) * 0.59\n\t\t\tconst b = new MassAirflow(maf, compressorAirflowUnits.value).SI * CP_AIR_288K * ambientAirTemperature.value.SI;\n\t\t\tconst c = (a / b) + 1;\n\n\t\t\treturn Math.pow(c, GAMMA_AIR_288K / (GAMMA_AIR_288K - 1));\n\t\t}\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas, mapId, store);\n\n\t\t\tgraph.plotFunction(impossiblePressures)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => graph.plotFunction(impossiblePressures)],\n\t\t\t\tmapId,\n\t\t\t\tstore\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => turbineMapPoints.value.reduce((agg, p) => agg + p.pressureRatio + p.gasflow, 0),\n\t\t\t\t() => { graph.plotFunction(impossiblePressures) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\t},\n})\n","import { render } from \"./TurbineMapOnCompressor.vue?vue&type=template&id=29172058&scoped=true\"\nimport script from \"./TurbineMapOnCompressor.vue?vue&type=script&lang=ts\"\nexport * from \"./TurbineMapOnCompressor.vue?vue&type=script&lang=ts\"\n\nimport \"./TurbineMapOnCompressor.vue?vue&type=style&index=0&id=29172058&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-29172058\"\n\nexport default script","<template>\n\t<plane\n\t\t:layer-id=\"canvasId\"\n\t\t:map-id=\"mapId\"\n\t\t@mousemove=\"handleHover\"\n\t\t@mousedown=\"handleMouseDown\"\n\t\t@mouseup=\"handleMouseUp\"\n\t\t@contextmenu=\"handleRightClick\"\n\t\t@mouseenter=\"showTooltip\"\n\t\t@mouseleave=\"hideTooltip\" />\n\t<tooltip\n\t\t:x=\"tooltipX\"\n\t\t:y=\"tooltipY\"\n\t\t:visible=\"tooltipVisible\"\n\t\ttooltip-id=\"compressor-map-tooltip\">\n\t\t<div>Boost:</div><div>{{ (Math.round(pointerData.boost * 10) / 10).toFixed(2) }} PSI</div>\n\t\t<div>rpm:</div><div>{{ pointerData.rpm }}</div>\n\t\t<div>maf:</div><div>{{ (Math.round(pointerData.maf[\"lbs/min\"] * 10) / 10).toFixed(1) }} lbs/min</div>\n\t\t<div>compr. power:</div><div>{{ pointerData.compressorPower[\"kilowatt\"].toFixed(3) }} kWatts</div>\n\t</tooltip>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch, ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor,\n\tbuildMapPointModifier,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MassAirflow, MassAirflowUnits, Power, Pressure } from \"@/physics/units\";\nimport { getCompressorPower, getMAF, getRPMfromMAF } from \"@/physics/calculations\";\nimport { useMapPointFinder, useMouseControl } from \"./mouse-control\";\nimport Tooltip from \"@/components/Tooltip.vue\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype EngineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"Map\",\n\tcomponents: { Plane, Tooltip },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as EngineMapProps;\n\n\t\tconst tooltipX = ref(0)\n\t\tconst tooltipY = ref(0)\n\t\tconst tooltipVisible = ref(false)\n\n\t\tconst setTooltipPosition = (x: number, y: number) => {\n\t\t\ttooltipX.value = x;\n\t\t\ttooltipY.value = y;\n\t\t}\n\t\tconst hideTooltip = () => tooltipVisible.value = false;\n\t\tconst showTooltip = () => {\n\t\t\ttooltipVisible.value = true\n\t\t\twindow.dispatchEvent(new Event('scroll'))\n\t\t};\n\n\t\tconst graphCanvas = ref({} as HTMLCanvasElement);\n\n\t\tconst store = useStore();\n\n\t\tconst minPressureRatio = computed(buildMapAccessor(mapId, \"minY\", store));\n\t\tconst xAxisUnits = computed(buildMapAccessor(mapId, \"xUnits\", store));\n\t\tconst airflowUnits = computed(() => {\n\t\t\tif (xAxisUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\t\t\treturn MassAirflowUnits.kgs\n\t\t});\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\t\tconst pointerData = ref({\n\t\t\tboost: 0,\n\t\t\trpm: 0,\n\t\t\tcompressorPower: new Power(0),\n\t\t\tmaf: new MassAirflow(0)\n\t\t});\n\n\t\tconst setMapPoint = buildMapPointModifier(store);\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\t\tconst removeMapPoint = buildMapPointRemover(store);\n\n\t\t// const correctMaf = (maf: number): number => {\n\t\t// \treturn maf\n\t\t// \t\t* Math.sqrt(ambientAirTemperature.value.SI / Temperature.standardDay())\n\t\t// \t\t* (Pressure.standardDay() / ambientAirPressure.value.SI)\n\t\t// }\n\n\t\t// const uncorrectMaf = (maf: number): number => {\n\t\t// \treturn maf\n\t\t// \t\t* Math.sqrt((ZERO_CELSIUS_KELVIN + 25) / ambientAirTemperature.value.SI)\n\t\t// \t\t* (ambientAirPressure.value.SI / Pressure.standardDay())\n\t\t// }\n\n\t\tconst getMAFlocal = ({ pressure, rpm }: { pressure: Pressure; rpm: number }): number => {\n\t\t\tconst actualMaf = getMAF({\n\t\t\t\tdisplacement: engineDisplacement.value,\n\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\tpressure,\n\t\t\t\trpm,\n\t\t\t})\n\n\t\t\treturn actualMaf[airflowUnits.value];\n\t\t}\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(() => {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: ambientAirPressure.value,\n\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: minPressureRatio.value\n\t\t\t\t},\n\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: p.pressure,\n\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: p.pressure.getPressureRatio(ambientAirPressure.value)\n\t\t\t\t})),\n\t\t\t\t{\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: ambientAirPressure.value,\n\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: minPressureRatio.value\n\t\t\t\t}\n\t\t\t]\n\t\t})\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas.value, mapId, store)\n\n\t\t\tgraph.drawMap(engineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawMap(engineMapPoints.value) }],\n\t\t\t\tstore,\n\t\t\t\tmapId,\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\t(points) => { graph.drawMap(points) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\n\t\tlet contextPoint = -1;\n\n\t\tconst getRPM = ({ massAirflow, pressureRatio }: { massAirflow: MassAirflow; pressureRatio: number }): number => Math.round(getRPMfromMAF({\n\t\t\tmassAirflow,\n\t\t\tdisplacement: engineDisplacement.value,\n\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t}))\n\n\t\tconst findMapPointIndex = useMapPointFinder({\n\t\t\tpoints: engineMapPoints,\n\t\t\tgetX: point => point.x,\n\t\t\tgetY: point => point.y,\n\t\t\tpixelRadius: 10,\n\t\t\tstore,\n\t\t\tmapId,\n\t\t})\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<MassAirflow, number>({\n\t\t\tcanvasRef: graphCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: (maf: number) => new MassAirflow(maf, airflowUnits.value),\n\t\t\tonHover: (massAirflow: MassAirflow, pressureRatio: number, x, y) => {\n\t\t\t\tsetTooltipPosition(x, y)\n\t\t\t\tconst rpm = getRPM({ massAirflow, pressureRatio })\n\n\t\t\t\tpointerData.value = {\n\t\t\t\t\trpm,\n\t\t\t\t\tboost: ambientAirPressure.value.multiply((pressureRatio - 1))[\"psi\"],\n\t\t\t\t\tcompressorPower: getCompressorPower({\n\t\t\t\t\t\tmassAirflow,\n\t\t\t\t\t\tambientTemperature: ambientAirTemperature.value,\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tcompressorEfficiency: 0.72\n\t\t\t\t\t}),\n\t\t\t\t\tmaf: massAirflow,\n\t\t\t\t}\n\n\t\t\t\tif (contextPoint > -1) {\n\t\t\t\t\tsetMapPoint(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trpm,\n\t\t\t\t\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontextPoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (massAirflow: MassAirflow, pressureRatio: number) => {\n\t\t\t\tcontextPoint = findMapPointIndex(massAirflow[airflowUnits.value], pressureRatio) - 1;\n\t\t\t},\n\t\t\tonMouseUp: () => { contextPoint = -1 },\n\t\t\tonRightClick: (massAirflow: MassAirflow, pressureRatio: number) => {\n\t\t\t\tconst pointIndex = findMapPointIndex(massAirflow[airflowUnits.value], pressureRatio) - 1;\n\n\t\t\t\tif (pointIndex < 0) {\n\t\t\t\t\tinsertMapPoint({\n\t\t\t\t\t\trpm: getRPM({ massAirflow, pressureRatio }),\n\t\t\t\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tremoveMapPoint(engineMapRawPoints.value[pointIndex]);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\tpointerData,\n\t\t\tairflowUnits,\n\t\t\ttooltipX,\n\t\t\ttooltipY,\n\t\t\ttooltipVisible,\n\t\t\tshowTooltip,\n\t\t\thideTooltip,\n\t\t}\n\t},\n})\n</script>\n","<template>\n\t<div\n\t\tclass=\"tooltip\"\n\t\t:class=\"{ 'tooltip--visible': visible }\"\n\t\t:style=\"{ left: x + 'px', top: y + 'px' }\"\n\t\t:id=\"tooltipId\"\n\t\t@mouseover=\"handleMouseenter\"\n\t\t@mouseout=\"handleMouseleave\">\n\t\t<slot />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, onMounted } from \"vue\";\n\nexport default defineComponent({\n\tprops: {\n\t\tx: Number,\n\t\ty: Number,\n\t\tvisible: Boolean,\n\t\ttooltipId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst self = ref<HTMLElement>({} as HTMLElement);\n\t\t\n\n\t\tonMounted(() => {\n\t\t\tself.value = document.getElementById(props.tooltipId!) as HTMLElement; // eslint-disable-line @typescript-eslint/no-non-null-assertion\n\t\t})\n\n\t\treturn {\n\t\t\thandleMouseenter: () => { self.value.className = \"tooltip\" },\n\t\t\thandleMouseleave: () => { self.value.className = \"tooltip tooltip--visible\" },\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.tooltip {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: flex-start;\n\tbackground: #C8C8C7;\n\tmargin: 30px;\n\tpadding: 10px;\n\tposition: absolute;\n\tz-index: 1000;\n\twidth: 250px;\n\n\t&--visible {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tjustify-items: start;\n\t\tcolumn-gap: 10px;\n\t}\n}\n</style>","\nimport { defineComponent, ref, onMounted } from \"vue\";\n\nexport default defineComponent({\n\tprops: {\n\t\tx: Number,\n\t\ty: Number,\n\t\tvisible: Boolean,\n\t\ttooltipId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst self = ref<HTMLElement>({} as HTMLElement);\n\t\t\n\n\t\tonMounted(() => {\n\t\t\tself.value = document.getElementById(props.tooltipId!) as HTMLElement; // eslint-disable-line @typescript-eslint/no-non-null-assertion\n\t\t})\n\n\t\treturn {\n\t\t\thandleMouseenter: () => { self.value.className = \"tooltip\" },\n\t\t\thandleMouseleave: () => { self.value.className = \"tooltip tooltip--visible\" },\n\t\t}\n\t}\n})\n","import { render } from \"./Tooltip.vue?vue&type=template&id=1e258eaa&scoped=true\"\nimport script from \"./Tooltip.vue?vue&type=script&lang=ts\"\nexport * from \"./Tooltip.vue?vue&type=script&lang=ts\"\n\nimport \"./Tooltip.vue?vue&type=style&index=0&id=1e258eaa&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-1e258eaa\"\n\nexport default script","\nimport { defineComponent, computed, onMounted, watch, ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor,\n\tbuildMapPointModifier,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\";\nimport { useGridWatchers, buildGrid } from \"./grid-watchers\";\nimport { MassAirflow, MassAirflowUnits, Power, Pressure } from \"@/physics/units\";\nimport { getCompressorPower, getMAF, getRPMfromMAF } from \"@/physics/calculations\";\nimport { useMapPointFinder, useMouseControl } from \"./mouse-control\";\nimport Tooltip from \"@/components/Tooltip.vue\";\nimport { MapId } from \"@/types\";\nimport Plane from \"./Plane.vue\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype EngineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"Map\",\n\tcomponents: { Plane, Tooltip },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as EngineMapProps;\n\n\t\tconst tooltipX = ref(0)\n\t\tconst tooltipY = ref(0)\n\t\tconst tooltipVisible = ref(false)\n\n\t\tconst setTooltipPosition = (x: number, y: number) => {\n\t\t\ttooltipX.value = x;\n\t\t\ttooltipY.value = y;\n\t\t}\n\t\tconst hideTooltip = () => tooltipVisible.value = false;\n\t\tconst showTooltip = () => {\n\t\t\ttooltipVisible.value = true\n\t\t\twindow.dispatchEvent(new Event('scroll'))\n\t\t};\n\n\t\tconst graphCanvas = ref({} as HTMLCanvasElement);\n\n\t\tconst store = useStore();\n\n\t\tconst minPressureRatio = computed(buildMapAccessor(mapId, \"minY\", store));\n\t\tconst xAxisUnits = computed(buildMapAccessor(mapId, \"xUnits\", store));\n\t\tconst airflowUnits = computed(() => {\n\t\t\tif (xAxisUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\t\t\treturn MassAirflowUnits.kgs\n\t\t});\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\t\tconst pointerData = ref({\n\t\t\tboost: 0,\n\t\t\trpm: 0,\n\t\t\tcompressorPower: new Power(0),\n\t\t\tmaf: new MassAirflow(0)\n\t\t});\n\n\t\tconst setMapPoint = buildMapPointModifier(store);\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\t\tconst removeMapPoint = buildMapPointRemover(store);\n\n\t\t// const correctMaf = (maf: number): number => {\n\t\t// \treturn maf\n\t\t// \t\t* Math.sqrt(ambientAirTemperature.value.SI / Temperature.standardDay())\n\t\t// \t\t* (Pressure.standardDay() / ambientAirPressure.value.SI)\n\t\t// }\n\n\t\t// const uncorrectMaf = (maf: number): number => {\n\t\t// \treturn maf\n\t\t// \t\t* Math.sqrt((ZERO_CELSIUS_KELVIN + 25) / ambientAirTemperature.value.SI)\n\t\t// \t\t* (ambientAirPressure.value.SI / Pressure.standardDay())\n\t\t// }\n\n\t\tconst getMAFlocal = ({ pressure, rpm }: { pressure: Pressure; rpm: number }): number => {\n\t\t\tconst actualMaf = getMAF({\n\t\t\t\tdisplacement: engineDisplacement.value,\n\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\tpressure,\n\t\t\t\trpm,\n\t\t\t})\n\n\t\t\treturn actualMaf[airflowUnits.value];\n\t\t}\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(() => {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: ambientAirPressure.value,\n\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: minPressureRatio.value\n\t\t\t\t},\n\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: p.pressure,\n\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: p.pressure.getPressureRatio(ambientAirPressure.value)\n\t\t\t\t})),\n\t\t\t\t{\n\t\t\t\t\tx: getMAFlocal({\n\t\t\t\t\t\tpressure: ambientAirPressure.value,\n\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t}),\n\t\t\t\t\ty: minPressureRatio.value\n\t\t\t\t}\n\t\t\t]\n\t\t})\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas.value, mapId, store)\n\n\t\t\tgraph.drawMap(engineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawMap(engineMapPoints.value) }],\n\t\t\t\tstore,\n\t\t\t\tmapId,\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\t(points) => { graph.drawMap(points) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\n\t\tlet contextPoint = -1;\n\n\t\tconst getRPM = ({ massAirflow, pressureRatio }: { massAirflow: MassAirflow; pressureRatio: number }): number => Math.round(getRPMfromMAF({\n\t\t\tmassAirflow,\n\t\t\tdisplacement: engineDisplacement.value,\n\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t}))\n\n\t\tconst findMapPointIndex = useMapPointFinder({\n\t\t\tpoints: engineMapPoints,\n\t\t\tgetX: point => point.x,\n\t\t\tgetY: point => point.y,\n\t\t\tpixelRadius: 10,\n\t\t\tstore,\n\t\t\tmapId,\n\t\t})\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<MassAirflow, number>({\n\t\t\tcanvasRef: graphCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: (maf: number) => new MassAirflow(maf, airflowUnits.value),\n\t\t\tonHover: (massAirflow: MassAirflow, pressureRatio: number, x, y) => {\n\t\t\t\tsetTooltipPosition(x, y)\n\t\t\t\tconst rpm = getRPM({ massAirflow, pressureRatio })\n\n\t\t\t\tpointerData.value = {\n\t\t\t\t\trpm,\n\t\t\t\t\tboost: ambientAirPressure.value.multiply((pressureRatio - 1))[\"psi\"],\n\t\t\t\t\tcompressorPower: getCompressorPower({\n\t\t\t\t\t\tmassAirflow,\n\t\t\t\t\t\tambientTemperature: ambientAirTemperature.value,\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tcompressorEfficiency: 0.72\n\t\t\t\t\t}),\n\t\t\t\t\tmaf: massAirflow,\n\t\t\t\t}\n\n\t\t\t\tif (contextPoint > -1) {\n\t\t\t\t\tsetMapPoint(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trpm,\n\t\t\t\t\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontextPoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (massAirflow: MassAirflow, pressureRatio: number) => {\n\t\t\t\tcontextPoint = findMapPointIndex(massAirflow[airflowUnits.value], pressureRatio) - 1;\n\t\t\t},\n\t\t\tonMouseUp: () => { contextPoint = -1 },\n\t\t\tonRightClick: (massAirflow: MassAirflow, pressureRatio: number) => {\n\t\t\t\tconst pointIndex = findMapPointIndex(massAirflow[airflowUnits.value], pressureRatio) - 1;\n\n\t\t\t\tif (pointIndex < 0) {\n\t\t\t\t\tinsertMapPoint({\n\t\t\t\t\t\trpm: getRPM({ massAirflow, pressureRatio }),\n\t\t\t\t\t\tpressure: ambientAirPressure.value.multiply(pressureRatio)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tremoveMapPoint(engineMapRawPoints.value[pointIndex]);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\tpointerData,\n\t\t\tairflowUnits,\n\t\t\ttooltipX,\n\t\t\ttooltipY,\n\t\t\ttooltipVisible,\n\t\t\tshowTooltip,\n\t\t\thideTooltip,\n\t\t}\n\t},\n})\n","import { render } from \"./EngineMap.vue?vue&type=template&id=3873e5b2\"\nimport script from \"./EngineMap.vue?vue&type=script&lang=ts\"\nexport * from \"./EngineMap.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { computed, defineComponent } from \"vue\"\nimport { useStore } from \"vuex\"\nimport { buildMapAccessor } from \"@/store/map\"\nimport ExternalMap from \"./ExternalMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport TurbineMapOnCompressor from \"./TurbineMapOnCompressor.vue\"\nimport EngineMap from \"./EngineMap.vue\"\n\nexport default defineComponent({\n\tname: \"ColdSideMap\",\n\tcomponents: {\n\t\tExternalMap,\n\t\tGrid,\n\t\tTurbineMapOnCompressor,\n\t\tEngineMap,\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst coldSideWidth = computed(buildMapAccessor(\"coldSideMap\", \"mapWidth\", store))\n\t\tconst coldSideHeight = computed(buildMapAccessor(\"coldSideMap\", \"mapHeight\", store))\n\t\tconst coldSideLayers = computed(buildMapAccessor(\"coldSideMap\", \"layers\", store))\n\n\t\treturn {\n\t\t\tcoldSideWidth,\n\t\t\tcoldSideHeight,\n\t\t\tcoldSideLayers,\n\t\t}\n\t}\n})\n","import { render } from \"./ColdSideMap.vue?vue&type=template&id=af509ff8\"\nimport script from \"./ColdSideMap.vue?vue&type=script&lang=ts\"\nexport * from \"./ColdSideMap.vue?vue&type=script&lang=ts\"\n\nimport \"./ColdSideMap.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div\n\t\tid=\"hot-side-map\"\n\t\t:style=\"{ width: hotSideWidth + 'px', height: hotSideHeight + 'px' }\">\n\t\t<external-map\n\t\t\tv-if=\"hotSideLayers.map\"\n\t\t\tcanvas-id=\"turbine-map\"\n\t\t\tmap-id=\"hotSideMap\" />\n\t\t<grid\n\t\t\tv-if=\"hotSideLayers.grid\"\n\t\t\tcanvas-id=\"turbine-grid\"\n\t\t\tmap-id=\"hotSideMap\" />\n\t\t<turbine-map\n\t\t\tv-if=\"hotSideLayers.points\"\n\t\t\tcanvas-id=\"turbine-model\"\n\t\t\tmap-id=\"hotSideMap\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent } from \"vue\"\nimport { useStore } from \"vuex\"\nimport { buildMapAccessor } from \"@/store/map\"\nimport ExternalMap from \"./ExternalMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport TurbineMap from \"./TurbineMap.vue\"\n\nexport default defineComponent({\n\tname: \"HotSideMap\",\n\tcomponents: {\n\t\tExternalMap,\n\t\tGrid,\n\t\tTurbineMap,\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hotSideWidth = computed(buildMapAccessor(\"hotSideMap\", \"mapWidth\", store))\n\t\tconst hotSideHeight = computed(buildMapAccessor(\"hotSideMap\", \"mapHeight\", store))\n\t\tconst hotSideLayers = computed(buildMapAccessor(\"hotSideMap\", \"layers\", store))\n\n\t\treturn {\n\t\t\thotSideWidth,\n\t\t\thotSideHeight,\n\t\t\thotSideLayers \n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\">\n#hot-side-map {\n\tposition: relative;\n\tbackground-color: white;\n\twidth: 1175px;\n}\n\n#turbine-map {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n#turbine-grid {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n#turbine-model {\n\tbackground-color: transparent;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n</style>\n","<template>\n\t<plane\n\t\t:layer-id=\"canvasId\"\n\t\t:map-id=\"mapId\"\n\t\t@mousemove=\"handleHover\"\n\t\t@mousedown=\"handleMouseDown\"\n\t\t@mouseup=\"handleMouseUp\"\n\t\t@contextmenu=\"handleRightClick\"\n\t\t@mouseenter=\"showTooltip\"\n\t\t@mouseleave=\"hideTooltip\" />\n\t<tooltip\n\t\t:x=\"tooltipX\"\n\t\t:y=\"tooltipY\"\n\t\t:visible=\"tooltipVisible\"\n\t\ttooltip-id=\"turbine-map-tooltip\">\n\t\t<div>phi:</div><div>{{ pointerData.phi.toFixed(3) }}</div>\n\t\t<div>turbinePower:</div><div>{{ (pointerData.turbinePower.SI / 1000).toFixed(2) }} kWatt</div>\n\t</tooltip>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch, ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n\tbuildMapPointModifier,\n\tbuildMapPointsGetter\n} from \"@/store/turbine-model\";\nimport { buildGrid, useGridWatchers } from \"./grid-watchers\";\nimport { MassAirflowUnits, MassAirflow, Power, Temperature, Pressure } from \"@/physics/units\";\nimport { useMapPointFinder, useMouseControl } from \"./mouse-control\";\nimport { getTurbinePower, uncorrectGasflow, uncorrectPhi } from \"@/physics/calculations\";\nimport Tooltip from \"@/components/Tooltip.vue\"\nimport Plane from \"./Plane.vue\"\nimport { MapId } from \"@/types\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype TurbineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"TurbineMap\",\n\tcomponents: { Plane, Tooltip },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as TurbineMapProps;\n\n\t\tconst tooltipX = ref(0)\n\t\tconst tooltipY = ref(0)\n\t\tconst tooltipVisible = ref(false)\n\n\t\tconst setTooltipPosition = (x: number, y: number) => {\n\t\t\ttooltipX.value = x;\n\t\t\ttooltipY.value = y;\n\t\t}\n\t\tconst hideTooltip = () => tooltipVisible.value = false;\n\t\tconst showTooltip = () => tooltipVisible.value = true;\n\n\t\tconst graphCanvas = ref({} as HTMLCanvasElement);\n\n\t\tconst store = useStore();\n\n\t\tconst yUnits = computed(buildMapAccessor(mapId, \"yUnits\", store));\n\t\tconst airflowUnits = computed(() => {\n\t\t\tif (yUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\n\t\t\tif (yUnits.value === \"phi\") {\n\t\t\t\treturn MassAirflowUnits.kgs\n\t\t\t}\n\t\t})\n\n\t\tconst uncorrectLocalGasflow = (maf: number, pressureRatio: number): MassAirflow => {\n\t\t\tif (yUnits.value === \"phi\") {\n\t\t\t\treturn uncorrectPhi({\n\t\t\t\t\tphi: maf,\n\t\t\t\t\tpressureRatio,\n\t\t\t\t\treferencePressure: new Pressure(101325),\n\t\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn uncorrectGasflow({\n\t\t\t\tcorrectedFlow: new MassAirflow(maf, MassAirflowUnits.lbsmin),\n\t\t\t\tpressureRatio,\n\t\t\t\treferenceTemperature: new Temperature(288.15),\n\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t})\n\t\t}\n\n\t\tconst setMapPoint = buildMapPointModifier(store);\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\t\tconst removeMapPoint = buildMapPointRemover(store);\n\t\tconst turbineMapPointsRaw = buildMapPointsGetter(store);\n\t\tconst turbineMapPoints = computed(\n\t\t\t() => turbineMapPointsRaw().map(p => ({\n\t\t\t\ty: p.gasflow,\n\t\t\t\tx: p.pressureRatio\n\t\t\t}))\n\t\t)\n\n\t\tconst pointerData = ref({\n\t\t\tturbinePower: new Power(0),\n\t\t\tphi: 0,\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas.value, mapId, store);\n\n\t\t\tgraph.drawCurve(turbineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawCurve(turbineMapPoints.value) }],\n\t\t\t\tstore,\n\t\t\t\tmapId\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => turbineMapPoints.value,\n\t\t\t\tpoints => { graph.drawCurve(points) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\n\t\tlet contextPoint = -1;\n\n\t\tconst findMapPointIndex = useMapPointFinder({\n\t\t\tpoints: computed(turbineMapPointsRaw),\n\t\t\tgetX: (point) => point.pressureRatio,\n\t\t\tgetY: (point) => point.gasflow,\n\t\t\tpixelRadius: 10,\n\t\t\tstore,\n\t\t\tmapId,\n\t\t})\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<number, number>({\n\t\t\tcanvasRef: graphCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: a => a,\n\t\t\tonHover: (pressureRatio, airflow, x, y) => {\n\t\t\t\tsetTooltipPosition(x, y)\n\t\t\t\tpointerData.value = {\n\t\t\t\t\tturbinePower: getTurbinePower({\n\t\t\t\t\t\tmassAirflow: uncorrectLocalGasflow(airflow, pressureRatio),\n\t\t\t\t\t\tinletTemperature: new Temperature(1100),\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tturbineEfficiency: 0.70\n\t\t\t\t\t}),\n\t\t\t\t\tphi: airflow\n\t\t\t\t}\n\n\t\t\t\tif (contextPoint > -1) {\n\t\t\t\t\tsetMapPoint(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\t\tgasflow: airflow,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontextPoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (pressureRatio, airflow) => {\n\t\t\t\tcontextPoint = findMapPointIndex(pressureRatio, airflow);\n\t\t\t},\n\t\t\tonMouseUp: () => { contextPoint = -1 },\n\t\t\tonRightClick: (pressureRatio, airflow) => {\n\t\t\t\tconst pointIndex = findMapPointIndex(pressureRatio, airflow);\n\n\t\t\t\tif (pointIndex < 0) {\n\t\t\t\t\tinsertMapPoint({\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tgasflow: airflow,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tremoveMapPoint(turbineMapPointsRaw()[pointIndex]);\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\tairflowUnits,\n\t\t\tpointerData,\n\t\t\ttooltipX,\n\t\t\ttooltipY,\n\t\t\ttooltipVisible,\n\t\t\tshowTooltip,\n\t\t\thideTooltip,\n\t\t}\n\t},\n})\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n","\nimport { defineComponent, computed, onMounted, watch, ref } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n\tbuildMapPointModifier,\n\tbuildMapPointsGetter\n} from \"@/store/turbine-model\";\nimport { buildGrid, useGridWatchers } from \"./grid-watchers\";\nimport { MassAirflowUnits, MassAirflow, Power, Temperature, Pressure } from \"@/physics/units\";\nimport { useMapPointFinder, useMouseControl } from \"./mouse-control\";\nimport { getTurbinePower, uncorrectGasflow, uncorrectPhi } from \"@/physics/calculations\";\nimport Tooltip from \"@/components/Tooltip.vue\"\nimport Plane from \"./Plane.vue\"\nimport { MapId } from \"@/types\";\nimport { buildMapAccessor } from \"@/store/map\";\n\ntype TurbineMapProps = {\n\tcanvasId: string;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"TurbineMap\",\n\tcomponents: { Plane, Tooltip },\n\tprops: {\n\t\tcanvasId: String,\n\t\tmapId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, mapId } = props as TurbineMapProps;\n\n\t\tconst tooltipX = ref(0)\n\t\tconst tooltipY = ref(0)\n\t\tconst tooltipVisible = ref(false)\n\n\t\tconst setTooltipPosition = (x: number, y: number) => {\n\t\t\ttooltipX.value = x;\n\t\t\ttooltipY.value = y;\n\t\t}\n\t\tconst hideTooltip = () => tooltipVisible.value = false;\n\t\tconst showTooltip = () => tooltipVisible.value = true;\n\n\t\tconst graphCanvas = ref({} as HTMLCanvasElement);\n\n\t\tconst store = useStore();\n\n\t\tconst yUnits = computed(buildMapAccessor(mapId, \"yUnits\", store));\n\t\tconst airflowUnits = computed(() => {\n\t\t\tif (yUnits.value === \"corrected lbs/min\") {\n\t\t\t\treturn MassAirflowUnits.lbsmin\n\t\t\t}\n\n\t\t\tif (yUnits.value === \"phi\") {\n\t\t\t\treturn MassAirflowUnits.kgs\n\t\t\t}\n\t\t})\n\n\t\tconst uncorrectLocalGasflow = (maf: number, pressureRatio: number): MassAirflow => {\n\t\t\tif (yUnits.value === \"phi\") {\n\t\t\t\treturn uncorrectPhi({\n\t\t\t\t\tphi: maf,\n\t\t\t\t\tpressureRatio,\n\t\t\t\t\treferencePressure: new Pressure(101325),\n\t\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn uncorrectGasflow({\n\t\t\t\tcorrectedFlow: new MassAirflow(maf, MassAirflowUnits.lbsmin),\n\t\t\t\tpressureRatio,\n\t\t\t\treferenceTemperature: new Temperature(288.15),\n\t\t\t\texhaustTemperature: new Temperature(1100)\n\t\t\t})\n\t\t}\n\n\t\tconst setMapPoint = buildMapPointModifier(store);\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\t\tconst removeMapPoint = buildMapPointRemover(store);\n\t\tconst turbineMapPointsRaw = buildMapPointsGetter(store);\n\t\tconst turbineMapPoints = computed(\n\t\t\t() => turbineMapPointsRaw().map(p => ({\n\t\t\t\ty: p.gasflow,\n\t\t\t\tx: p.pressureRatio\n\t\t\t}))\n\t\t)\n\n\t\tconst pointerData = ref({\n\t\t\tturbinePower: new Power(0),\n\t\t\tphi: 0,\n\t\t});\n\n\t\tonMounted(() => {\n\t\t\tgraphCanvas.value = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = buildGrid(graphCanvas.value, mapId, store);\n\n\t\t\tgraph.drawCurve(turbineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawCurve(turbineMapPoints.value) }],\n\t\t\t\tstore,\n\t\t\t\tmapId\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => turbineMapPoints.value,\n\t\t\t\tpoints => { graph.drawCurve(points) },\n\t\t\t\t{ flush: \"post\" }\n\t\t\t)\n\t\t});\n\n\t\tlet contextPoint = -1;\n\n\t\tconst findMapPointIndex = useMapPointFinder({\n\t\t\tpoints: computed(turbineMapPointsRaw),\n\t\t\tgetX: (point) => point.pressureRatio,\n\t\t\tgetY: (point) => point.gasflow,\n\t\t\tpixelRadius: 10,\n\t\t\tstore,\n\t\t\tmapId,\n\t\t})\n\n\t\tconst {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick\n\t\t} = useMouseControl<number, number>({\n\t\t\tcanvasRef: graphCanvas,\n\t\t\tmapId,\n\t\t\tstore,\n\t\t\ttransformY: a => a,\n\t\t\ttransformX: a => a,\n\t\t\tonHover: (pressureRatio, airflow, x, y) => {\n\t\t\t\tsetTooltipPosition(x, y)\n\t\t\t\tpointerData.value = {\n\t\t\t\t\tturbinePower: getTurbinePower({\n\t\t\t\t\t\tmassAirflow: uncorrectLocalGasflow(airflow, pressureRatio),\n\t\t\t\t\t\tinletTemperature: new Temperature(1100),\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tturbineEfficiency: 0.70\n\t\t\t\t\t}),\n\t\t\t\t\tphi: airflow\n\t\t\t\t}\n\n\t\t\t\tif (contextPoint > -1) {\n\t\t\t\t\tsetMapPoint(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\t\tgasflow: airflow,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcontextPoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMouseDown: (pressureRatio, airflow) => {\n\t\t\t\tcontextPoint = findMapPointIndex(pressureRatio, airflow);\n\t\t\t},\n\t\t\tonMouseUp: () => { contextPoint = -1 },\n\t\t\tonRightClick: (pressureRatio, airflow) => {\n\t\t\t\tconst pointIndex = findMapPointIndex(pressureRatio, airflow);\n\n\t\t\t\tif (pointIndex < 0) {\n\t\t\t\t\tinsertMapPoint({\n\t\t\t\t\t\tpressureRatio,\n\t\t\t\t\t\tgasflow: airflow,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tremoveMapPoint(turbineMapPointsRaw()[pointIndex]);\n\t\t\t\t}\n\t\t\t},\n\t\t})\n\n\t\treturn {\n\t\t\thandleHover,\n\t\t\thandleMouseDown,\n\t\t\thandleMouseUp,\n\t\t\thandleRightClick,\n\t\t\tairflowUnits,\n\t\t\tpointerData,\n\t\t\ttooltipX,\n\t\t\ttooltipY,\n\t\t\ttooltipVisible,\n\t\t\tshowTooltip,\n\t\t\thideTooltip,\n\t\t}\n\t},\n})\n","import { render } from \"./TurbineMap.vue?vue&type=template&id=2b498b1c&scoped=true\"\nimport script from \"./TurbineMap.vue?vue&type=script&lang=ts\"\nexport * from \"./TurbineMap.vue?vue&type=script&lang=ts\"\n\nimport \"./TurbineMap.vue?vue&type=style&index=0&id=2b498b1c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2b498b1c\"\n\nexport default script","\nimport { computed, defineComponent } from \"vue\"\nimport { useStore } from \"vuex\"\nimport { buildMapAccessor } from \"@/store/map\"\nimport ExternalMap from \"./ExternalMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport TurbineMap from \"./TurbineMap.vue\"\n\nexport default defineComponent({\n\tname: \"HotSideMap\",\n\tcomponents: {\n\t\tExternalMap,\n\t\tGrid,\n\t\tTurbineMap,\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hotSideWidth = computed(buildMapAccessor(\"hotSideMap\", \"mapWidth\", store))\n\t\tconst hotSideHeight = computed(buildMapAccessor(\"hotSideMap\", \"mapHeight\", store))\n\t\tconst hotSideLayers = computed(buildMapAccessor(\"hotSideMap\", \"layers\", store))\n\n\t\treturn {\n\t\t\thotSideWidth,\n\t\t\thotSideHeight,\n\t\t\thotSideLayers \n\t\t}\n\t}\n})\n","import { render } from \"./HotSideMap.vue?vue&type=template&id=4958c5ea\"\nimport script from \"./HotSideMap.vue?vue&type=script&lang=ts\"\nexport * from \"./HotSideMap.vue?vue&type=script&lang=ts\"\n\nimport \"./HotSideMap.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"map-points-container\">\n\t\t<div\n\t\t\tv-for=\"(point, index) in points\"\n\t\t\t:key=\"index\">\n\t\t\t<form v-on:submit.prevent=\"removeEngineMapPoint(point)\">\n\t\t\t\t<fieldset class=\"map-point\">\n\t\t\t\t\t<input type=number v-model=\"point.pressure\" step=\"0.01\" />\n\t\t\t\t\t<input type=number v-model=\"point.rpm\" step=\"50\" />\n\t\t\t\t\t<button type=\"submit\">remove</button>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</div>\n\t\t<form v-on:submit.prevent=\"addEngineMapPoint\">\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"engine-pressure\">Pressure (bar)</label>\n\t\t\t\t<input id=\"engine-pressure\" type=number v-model=\"enginePressure\" step=\"0.01\" />\n\t\t\t\t<label for=\"engine-speed\">Engine speed (rpm)</label>\n\t\t\t\t<input id=\"engine-speed\" type=number v-model=\"engineSpeed\" step=\"50\" />\n\t\t\t</fieldset>\n\t\t\t<button type=\"submit\">Add!</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n\tbuildAccessor as buildMapPointAccessor,\n} from \"@/store/engine-map\"\nimport { Pressure } from \"@/physics/units\";\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst pressureUnits = computed(buildMapPointAccessor(\"mapPressureUnits\", store));\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(point => {\n\t\t\treturn {\n\t\t\t\tget pressure () {\n\t\t\t\t\treturn point.pressure[pressureUnits.value]\n\t\t\t\t},\n\t\t\t\tset pressure (p: number) {\n\t\t\t\t\tpoint.pressure[pressureUnits.value] = p\n\t\t\t\t},\n\t\t\t\tget rpm () {\n\t\t\t\t\treturn point.rpm\n\t\t\t\t},\n\t\t\t\tset rpm (r: number) {\n\t\t\t\t\tpoint.rpm = r\n\t\t\t\t}\n\t\t\t}\n\t\t}))\n\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: new Pressure(enginePressure.value, pressureUnits.value), rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.map-points-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.map-point {\n\tdisplay: flex;\n}\n</style>","\nimport { defineComponent, computed, ref } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n\tbuildAccessor as buildMapPointAccessor,\n} from \"@/store/engine-map\"\nimport { Pressure } from \"@/physics/units\";\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst pressureUnits = computed(buildMapPointAccessor(\"mapPressureUnits\", store));\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(point => {\n\t\t\treturn {\n\t\t\t\tget pressure () {\n\t\t\t\t\treturn point.pressure[pressureUnits.value]\n\t\t\t\t},\n\t\t\t\tset pressure (p: number) {\n\t\t\t\t\tpoint.pressure[pressureUnits.value] = p\n\t\t\t\t},\n\t\t\t\tget rpm () {\n\t\t\t\t\treturn point.rpm\n\t\t\t\t},\n\t\t\t\tset rpm (r: number) {\n\t\t\t\t\tpoint.rpm = r\n\t\t\t\t}\n\t\t\t}\n\t\t}))\n\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: new Pressure(enginePressure.value, pressureUnits.value), rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n","import { render } from \"./EngineMapPoints.vue?vue&type=template&id=29cb254c&scoped=true\"\nimport script from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\nexport * from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\n\nimport \"./EngineMapPoints.vue?vue&type=style&index=0&id=29cb254c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-29cb254c\"\n\nexport default script","<template>\n\t<div>\n\t\t<form class=\"grid-config-form\">\n\t\t\t<fieldset class=\"grid-config-fieldset\">\n\t\t\t\t<label :for=\"`${mapId}-image`\">Select image</label>\n\t\t\t\t<input :id=\"`${mapId}-image`\" type=\"file\" />\n\t\t\t</fieldset>\n\n\t\t\t<fieldset class=\"grid-config-fieldset\">\n\t\t\t\t<label :for=\"`${gridId}-width`\">Width</label>\n\t\t\t\t<input :id=\"`${gridId}-width`\" type=\"number\" v-model.number=\"mapWidth\" :step=\"20\" />\n\t\t\t\t<label :for=\"`${gridId}-height`\">Height</label>\n\t\t\t\t<input :id=\"`${gridId}-height`\" type=\"number\" v-model.number=\"mapHeight\" :step=\"20\" />\n\t\t\t</fieldset>\n\n\t\t\t<fieldset class=\"grid-config-fieldset\">\n\t\t\t\t<label :for=\"`${gridId}-minX`\">Minimum {{ xAxisLabel }}</label>\n\t\t\t\t<div class=\"field-with-units\">\n\t\t\t\t\t<input :id=\"`${gridId}-minX`\" type=\"number\" v-model.number=\"minX\" :step=\"xInterval\" />\n\t\t\t\t\t<select :id=\"`${gridId}-xUnits`\" v-model=\"xUnits\">\n\t\t\t\t\t\t<option value=\"pressureRatio\">pressure ratio</option>\n\t\t\t\t\t\t<optgroup label=\"Corrected mass airflow\">\n\t\t\t\t\t\t\t<option value=\"corrected lbs/min\">lbs/min</option>\n\t\t\t\t\t\t\t<option value=\"corrected kg/s\">kg/s</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<label :for=\"`${gridId}-maxX`\">Maximum {{ xAxisLabel }}</label>\n\t\t\t\t<div class=\"field-with-units\">\n\t\t\t\t\t<input :id=\"`${gridId}-minX`\" type=\"number\" v-model.number=\"maxX\" :step=\"xInterval\" />\n\t\t\t\t\t<select :id=\"`${gridId}-xUnits`\" v-model=\"xUnits\">\n\t\t\t\t\t\t<option value=\"pressureRatio\">pressure ratio</option>\n\t\t\t\t\t\t<optgroup label=\"Corrected mass airflow\">\n\t\t\t\t\t\t\t<option value=\"corrected lbs/min\">lbs/min</option>\n\t\t\t\t\t\t\t<option value=\"corrected kg/s\">kg/s</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<label :for=\"`${gridId}-xInterval`\">Grid step</label>\n\t\t\t\t<input :id=\"`${gridId}-xInterval`\" type=\"number\" v-model.number=\"xInterval\" step=\"any\" />\n\t\t\t\t<label :for=\"`${gridId}-minY`\">Minimum {{ yAxisLabel }}</label>\n\t\t\t\t<div class=\"field-with-units\">\n\t\t\t\t\t<input :id=\"`${gridId}-minY`\" type=\"number\" v-model.number=\"minY\" :step=\"yInterval\" />\n\t\t\t\t\t<select :id=\"`${gridId}-yUnits`\" v-model=\"yUnits\">\n\t\t\t\t\t\t<option value=\"pressureRatio\">pressure ratio</option>\n\t\t\t\t\t\t<optgroup label=\"Mass airflow\">\n\t\t\t\t\t\t\t<option value=\"corrected lbs/min\">lbs/min (Garret)</option>\n\t\t\t\t\t\t\t<option value=\"phi\">phi (Borg-Warner)</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<label :for=\"`${gridId}-maxY`\">Maximum {{ yAxisLabel }}</label>\n\t\t\t\t<div class=\"field-with-units\">\n\t\t\t\t\t<input :id=\"`${gridId}-maxY`\" type=\"number\" v-model.number=\"maxY\" :step=\"yInterval\" min=\"1\" />\n\t\t\t\t\t<select :id=\"`${gridId}-yUnits`\" v-model=\"yUnits\">\n\t\t\t\t\t\t<option value=\"pressureRatio\">pressure ratio</option>\n\t\t\t\t\t\t<optgroup label=\"Mass airflow\">\n\t\t\t\t\t\t\t<option value=\"corrected lbs/min\">lbs/min (Garret)</option>\n\t\t\t\t\t\t\t<option value=\"phi\">phi (Borg-Warner)</option>\n\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<label :for=\"`${gridId}-yInterval`\">Grid step</label>\n\t\t\t\t<input :id=\"`${gridId}-yInterval`\" type=\"number\" v-model.number=\"yInterval\" step=\"any\" />\n\t\t\t</fieldset>\n\t\t\t<fieldset class=\"grid-config-fieldset\">\n\t\t\t\t<template v-for=\"(index) in layerIndices\" :key=\"index\">\n\t\t\t\t\t<label :for=\"`${gridId}-layers-${index}`\">{{ getLayerName(index) }}</label>\n\t\t\t\t\t<input :id=\"`${gridId}-layers-${index}`\" type=\"checkbox\" v-model=\"layers[index]\" />\n\t\t\t\t</template>\n\t\t\t</fieldset>\n\t\t</form>\n\n\t\t<button @click=\"saveState\">Save state</button>\n\t\t<button @click=\"restoreState\">Restore saved state</button>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { getState } from \"@/store/local-storage\";\nimport { buildMapAccessor, MapConfig } from \"@/store/map\";\nimport { GridId, MapId } from \"@/types\";\nimport { computed, defineComponent } from \"vue\";\nimport { useStore } from \"vuex\";\n\ntype GridConfigProps = {\n\tgridId: GridId;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"GridConfig\",\n\tprops: { gridId: String, mapId: String },\n\tsetup: (props) => {\n\t\tconst { gridId, mapId } = props as GridConfigProps\n\t\tconst store = useStore();\n\n\t\tconst mapWidth = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst mapHeight = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\t\tconst minX = computed(buildMapAccessor(mapId, \"minX\", store))\n\t\tconst maxX = computed(buildMapAccessor(mapId, \"maxX\", store))\n\t\tconst xInterval = computed(buildMapAccessor(mapId, \"xStep\", store))\n\t\tconst xUnits = computed(buildMapAccessor(mapId, \"xUnits\", store))\n\t\tconst minY = computed(buildMapAccessor(mapId, \"minY\", store))\n\t\tconst maxY = computed(buildMapAccessor(mapId, \"maxY\", store))\n\t\tconst yInterval = computed(buildMapAccessor(mapId, \"yStep\", store))\n\t\tconst yUnits = computed(buildMapAccessor(mapId, \"yUnits\", store))\n\n\t\tconst saveState = () => store.dispatch(\"saveState\");\n\t\tconst restoreState = () => store.replaceState(getState());\n\n\t\tconst xAxisLabel = gridId === \"compressorGrid\"\n\t\t\t? \"mass airflow\"\n\t\t\t: gridId === \"turbineGrid\" ? \"pressure ratio\"\n\t\t\t\t: \"x\"\n\n\t\tconst yAxisLabel = gridId === \"compressorGrid\"\n\t\t\t? \"pressure ratio\"\n\t\t\t: gridId === \"turbineGrid\" ? \"gasflow\"\n\t\t\t\t: \"x\"\n\n\t\tconst layers = computed(buildMapAccessor(mapId, \"layers\", store))\n\t\tconst layerIndices = computed(() => {\n\t\t\treturn Object.keys(layers.value).filter(key => !(mapId === \"hotSideMap\" && key === \"curveFromOtherside\"))\n\t\t})\n\n\t\tconst getLayerName = (index: keyof MapConfig[\"layers\"]): string => {\n\t\t\tif (index === \"map\") return \"Map layer\";\n\t\t\tif (index === \"grid\") return \"Grid lines\";\n\t\t\tif (index === \"points\") {\n\t\t\t\tif (gridId === \"compressorGrid\") return \"Engine points\"\n\t\t\t\tif (gridId === \"turbineGrid\") return \"Turbine points\"\n\t\t\t}\n\t\t\tif (index === \"curveFromOtherside\") {\n\t\t\t\tif (gridId === \"compressorGrid\") return \"Turbine limits\"\n\t\t\t\tif (gridId === \"turbineGrid\") return \"Engine points\"\n\t\t\t}\n\t\t\treturn \"\"\n\t\t}\n\n\t\treturn {\n\t\t\tmapWidth,\n\t\t\tmapHeight,\n\t\t\tminX,\n\t\t\tmaxX,\n\t\t\txInterval,\n\t\t\txUnits,\n\t\t\tminY,\n\t\t\tmaxY,\n\t\t\tyInterval,\n\t\t\tyUnits,\n\t\t\tsaveState,\n\t\t\trestoreState,\n\t\t\txAxisLabel,\n\t\t\tyAxisLabel,\n\t\t\tlayers,\n\t\t\tlayerIndices,\n\t\t\tgetLayerName\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.grid-config-form {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.grid-config-fieldset {\n\tdisplay: grid;\n\tgrid-template-columns: 50% 50%;\n}\n\n.field-with-units {\n\tdisplay: grid;\n\tgrid-template-columns: minmax(0, 1fr) 130px;\n}\n\n</style>\n","import { State } from \".\";\nimport { reviveUnits } from \"@/physics/units\";\n\nconst KEY = \"hyperborean-state\";\n\nexport const getState = (): State => {\n\tconst stateStr = localStorage.getItem(KEY) || \"{}\"\n\t\n\treturn JSON.parse(stateStr, reviveUnits);\n}\n\nexport const setState = (state: State): void => {\n\tlocalStorage.setItem(KEY, JSON.stringify(state));\n}","\nimport { getState } from \"@/store/local-storage\";\nimport { buildMapAccessor, MapConfig } from \"@/store/map\";\nimport { GridId, MapId } from \"@/types\";\nimport { computed, defineComponent } from \"vue\";\nimport { useStore } from \"vuex\";\n\ntype GridConfigProps = {\n\tgridId: GridId;\n\tmapId: MapId;\n}\n\nexport default defineComponent({\n\tname: \"GridConfig\",\n\tprops: { gridId: String, mapId: String },\n\tsetup: (props) => {\n\t\tconst { gridId, mapId } = props as GridConfigProps\n\t\tconst store = useStore();\n\n\t\tconst mapWidth = computed(buildMapAccessor(mapId, \"mapWidth\", store))\n\t\tconst mapHeight = computed(buildMapAccessor(mapId, \"mapHeight\", store))\n\t\tconst minX = computed(buildMapAccessor(mapId, \"minX\", store))\n\t\tconst maxX = computed(buildMapAccessor(mapId, \"maxX\", store))\n\t\tconst xInterval = computed(buildMapAccessor(mapId, \"xStep\", store))\n\t\tconst xUnits = computed(buildMapAccessor(mapId, \"xUnits\", store))\n\t\tconst minY = computed(buildMapAccessor(mapId, \"minY\", store))\n\t\tconst maxY = computed(buildMapAccessor(mapId, \"maxY\", store))\n\t\tconst yInterval = computed(buildMapAccessor(mapId, \"yStep\", store))\n\t\tconst yUnits = computed(buildMapAccessor(mapId, \"yUnits\", store))\n\n\t\tconst saveState = () => store.dispatch(\"saveState\");\n\t\tconst restoreState = () => store.replaceState(getState());\n\n\t\tconst xAxisLabel = gridId === \"compressorGrid\"\n\t\t\t? \"mass airflow\"\n\t\t\t: gridId === \"turbineGrid\" ? \"pressure ratio\"\n\t\t\t\t: \"x\"\n\n\t\tconst yAxisLabel = gridId === \"compressorGrid\"\n\t\t\t? \"pressure ratio\"\n\t\t\t: gridId === \"turbineGrid\" ? \"gasflow\"\n\t\t\t\t: \"x\"\n\n\t\tconst layers = computed(buildMapAccessor(mapId, \"layers\", store))\n\t\tconst layerIndices = computed(() => {\n\t\t\treturn Object.keys(layers.value).filter(key => !(mapId === \"hotSideMap\" && key === \"curveFromOtherside\"))\n\t\t})\n\n\t\tconst getLayerName = (index: keyof MapConfig[\"layers\"]): string => {\n\t\t\tif (index === \"map\") return \"Map layer\";\n\t\t\tif (index === \"grid\") return \"Grid lines\";\n\t\t\tif (index === \"points\") {\n\t\t\t\tif (gridId === \"compressorGrid\") return \"Engine points\"\n\t\t\t\tif (gridId === \"turbineGrid\") return \"Turbine points\"\n\t\t\t}\n\t\t\tif (index === \"curveFromOtherside\") {\n\t\t\t\tif (gridId === \"compressorGrid\") return \"Turbine limits\"\n\t\t\t\tif (gridId === \"turbineGrid\") return \"Engine points\"\n\t\t\t}\n\t\t\treturn \"\"\n\t\t}\n\n\t\treturn {\n\t\t\tmapWidth,\n\t\t\tmapHeight,\n\t\t\tminX,\n\t\t\tmaxX,\n\t\t\txInterval,\n\t\t\txUnits,\n\t\t\tminY,\n\t\t\tmaxY,\n\t\t\tyInterval,\n\t\t\tyUnits,\n\t\t\tsaveState,\n\t\t\trestoreState,\n\t\t\txAxisLabel,\n\t\t\tyAxisLabel,\n\t\t\tlayers,\n\t\t\tlayerIndices,\n\t\t\tgetLayerName\n\t\t}\n\t}\n})\n","import { render } from \"./GridConfig.vue?vue&type=template&id=2f8e7c43&scoped=true\"\nimport script from \"./GridConfig.vue?vue&type=script&lang=ts\"\nexport * from \"./GridConfig.vue?vue&type=script&lang=ts\"\n\nimport \"./GridConfig.vue?vue&type=style&index=0&id=2f8e7c43&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2f8e7c43\"\n\nexport default script","\nimport {\n\tdefineComponent,\n\tcomputed,\n\tRef,\n\tWritableComputedRef,\n\tref,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport ColdSideMap from \"./ColdSideMap.vue\"\nimport HotSideMap from \"./HotSideMap.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\nimport GridConfig from \"./GridConfig.vue\"\nimport {\n\tVolumeUnit,\n\tPressureUnit,\n\tTemperatureUnit\n} from \"@/physics/units\";\n\ntype ValueModelizer = <T>(value: Ref, units: Ref<T>) => WritableComputedRef<number>\nconst modelizeValue: ValueModelizer = (value, units) => computed({\n\tget () { return value.value[units.value] },\n\tset (input: number) { value.value[units.value] = input }\n})\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tColdSideMap,\n\t\tHotSideMap,\n\t\tEngineMapPoints,\n\t\tGridConfig\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst engineDisplacement = modelizeValue(computed(buildEngineMapAccessor(\"displacement\", store)), ref(VolumeUnit.cc));\n\t\tconst ambientAirPressure = modelizeValue(computed(buildEngineMapAccessor(\"ambientAirPressure\", store)), ref(PressureUnit.mbar));\n\t\tconst ambientAirTemperature = modelizeValue(computed(buildEngineMapAccessor(\"ambientAirTemperature\", store)), ref(TemperatureUnit.C));\n\n\t\treturn {\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n","import { render } from \"./Home.vue?vue&type=template&id=dbde1562&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=dbde1562&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-dbde1562\"\n\nexport default script","import { RouteRecordRaw, createRouter, createWebHashHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\n\nconst routes: RouteRecordRaw[] = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"Home\",\n\t\tcomponent: Home,\n\t},\n];\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport { MapConfigState, map, NAMESPACE as mapNamespace } from \"./map\";\nimport { EngineMapState, engineMap, NAMESPACE as engineMapNamespace } from \"./engine-map\"\nimport { TurbineModelState, turbineModel, NAMESPACE as turbineModelNamespace } from \"./turbine-model\";\nimport { setState } from \"./local-storage\";\n\nexport type State = {\n\t[mapNamespace]: MapConfigState;\n\t[engineMapNamespace]: EngineMapState;\n\t[turbineModelNamespace]: TurbineModelState;\n}\n\nexport default createStore<State>({\n\tmodules: {\n\t\t[mapNamespace]: map,\n\t\t[engineMapNamespace]: engineMap,\n\t\t[turbineModelNamespace]: turbineModel,\n\t},\n\tmutations: {\n\t\tstate: (state, payload) => { state = payload; }\n\t},\n\tactions: {\n\t\tsaveState: ({ state }) => setState(state)\n\t}\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(router).use(store).mount(\"#app\");\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./ColdSideMap.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./ColdSideMap.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}