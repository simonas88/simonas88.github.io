(function(e){function t(t){for(var i,o,u=t[0],s=t[1],c=t[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,u=1;u<n.length;u++){var s=n[u];0!==r[s]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"3c40":function(e,t,n){},"3ed6":function(e,t,n){"use strict";n("3c40")},"942d":function(e,t,n){},"9cdc":function(e,t,n){"use strict";n("942d")},"9dd6":function(e,t,n){},a1f3:function(e,t,n){},ac1a:function(e,t,n){"use strict";n("9dd6")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("830f"),r=n("5c40");function a(e,t){var n=Object(r["x"])("router-view");return Object(r["s"])(),Object(r["e"])(n)}n("9cdc");const o={};o.render=a;var u=o,s=n("8c4f"),c=(n("b680"),n("9ff4")),l={class:"calculation-container"},f={class:"row"},d=Object(r["i"])("label",{for:"airflow"},"Mass airflow units",-1),p={id:"airflow"},m={class:"row"},v=Object(r["i"])("label",{for:"min-airflow"},"Minimum airflow",-1),b={class:"row"},h=Object(r["i"])("label",{for:"max-airflow"},"Maximum airflow",-1),O={class:"row"},j=Object(r["i"])("label",{for:"airflow-interval"},"Airflow grid step",-1),g={class:"row"},w={class:"row"},x=Object(r["i"])("label",{for:"min-pressure-ratio"},"Min pressure ratio",-1),y={class:"row"},A=Object(r["i"])("label",{for:"max-pressure-ratio"},"Max pressure ratio",-1),P={class:"row"},S=Object(r["i"])("label",{for:"max-pressure-ratio"},"Pressure ratio step",-1),M={class:"row"},I=Object(r["i"])("label",{for:"h-scale"},"Horizontal scale",-1),R={class:"row"},E=Object(r["i"])("label",{for:"h-offset"},"Horizontal offset",-1),U={class:"row"},k=Object(r["i"])("label",{for:"v-scale"},"Vertical scale",-1),T={class:"row"},Y=Object(r["i"])("label",{for:"v-offset"},"Vertical offset",-1),X={class:"row"},C=Object(r["i"])("label",{for:"engine-displacement"},"Engine displacement (cc)",-1),V={class:"row"},H=Object(r["i"])("label",{for:"ambient-air-temperature"},"Ambient air temperature (C)",-1),D={class:"row"},W=Object(r["i"])("label",{for:"ambient-air-pressure"},"Ambient air absolute pressure (mbar)",-1),_=Object(r["i"])("br",null,null,-1);function B(e,t){var n=Object(r["x"])("Maps"),a=Object(r["x"])("EngineMapPoints");return Object(r["s"])(),Object(r["e"])(r["b"],null,[Object(r["i"])(n),Object(r["i"])("div",l,[Object(r["i"])("form",null,[Object(r["i"])("div",f,[d,Object(r["i"])("fieldset",p,[Object(r["E"])(Object(r["i"])("select",{id:"airflow-units","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.airflowUnits=t})},[Object(r["i"])("option",{value:e.AirflowUnits.kgs},"kg/s",8,["value"]),Object(r["i"])("option",{value:e.AirflowUnits.lbsmin},"Lbs/min",8,["value"])],512),[[i["b"],e.airflowUnits]]),Object(r["i"])("div",m,[v,Object(r["E"])(Object(r["i"])("input",{id:"min-airflow",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.minAirflow=t}),step:e.airflowUnitStep},null,8,["step"]),[[i["c"],e.minAirflow]])]),Object(r["i"])("div",b,[h,Object(r["E"])(Object(r["i"])("input",{id:"max-airflow",type:"number","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.maxAirflow=t}),step:e.airflowUnitStep},null,8,["step"]),[[i["c"],e.maxAirflow]])]),Object(r["i"])("div",O,[j,Object(r["E"])(Object(r["i"])("input",{id:"airflow-interval",type:"number","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.airflowInterval=t}),step:"any"},null,512),[[i["c"],e.airflowInterval]])])])]),Object(r["i"])("div",g,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",w,[x,Object(r["E"])(Object(r["i"])("input",{id:"min-pressure-ratio",type:"number","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.minPressureRatio=t}),step:"0.5"},null,512),[[i["c"],e.minPressureRatio]])]),Object(r["i"])("div",y,[A,Object(r["E"])(Object(r["i"])("input",{id:"max-pressure-ratio",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.maxPressureRatio=t}),step:"0.5"},null,512),[[i["c"],e.maxPressureRatio]])]),Object(r["i"])("div",P,[S,Object(r["E"])(Object(r["i"])("input",{id:"max-pressure-ratio",type:"number","onUpdate:modelValue":t[7]||(t[7]=function(t){return e.pressureRatioStep=t}),step:"any"},null,512),[[i["c"],e.pressureRatioStep]])])])])]),Object(r["i"])("form",null,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",M,[I,Object(r["E"])(Object(r["i"])("input",{id:"h-scale",type:"number",step:"0.001","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.hScale=t})},null,512),[[i["c"],e.hScale]])]),Object(r["i"])("div",R,[E,Object(r["E"])(Object(r["i"])("input",{id:"h-offset",type:"number","onUpdate:modelValue":t[9]||(t[9]=function(t){return e.hOffset=t})},null,512),[[i["c"],e.hOffset]])]),Object(r["i"])("div",U,[k,Object(r["E"])(Object(r["i"])("input",{id:"v-scale",type:"number",step:"0.001","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.vScale=t})},null,512),[[i["c"],e.vScale]])]),Object(r["i"])("div",T,[Y,Object(r["E"])(Object(r["i"])("input",{id:"v-offset",type:"number","onUpdate:modelValue":t[11]||(t[11]=function(t){return e.vOffset=t})},null,512),[[i["c"],e.vOffset]])])])]),Object(r["i"])("form",null,[Object(r["i"])("fieldset",null,[Object(r["i"])("div",X,[C,Object(r["E"])(Object(r["i"])("input",{id:"engine-displacement",type:"number","onUpdate:modelValue":t[12]||(t[12]=function(t){return e.engineDisplacement=t})},null,512),[[i["c"],e.engineDisplacement]])]),Object(r["i"])("div",V,[H,Object(r["E"])(Object(r["i"])("input",{id:"ambient-air-temperature",type:"number","onUpdate:modelValue":t[13]||(t[13]=function(t){return e.ambientAirTemperature=t})},null,512),[[i["c"],e.ambientAirTemperature]])]),Object(r["i"])("div",D,[W,Object(r["E"])(Object(r["i"])("input",{id:"ambient-air-pressure",type:"number","onUpdate:modelValue":t[14]||(t[14]=function(t){return e.ambientAirPressure=t})},null,512),[[i["c"],e.ambientAirPressure]])])])]),Object(r["i"])(a),Object(r["i"])("div",null,[Object(r["h"])(" pressureRatio: "+Object(c["G"])((Math.round(100*e.pointerData.pressureRatio)/100).toFixed(2)),1),_,Object(r["h"])(" massAirflow: "+Object(c["G"])((Math.round(1e3*e.pointerData.massAirflow)/1e3).toFixed(3)),1)])])],64)}var G,L=n("5502"),N="externalMap",F=function(e){return"".concat(N,"/").concat(e)},z=function(e,t){return{get:function(){return t.getters[F(e)]},set:function(n){return t.commit(F(e),n)}}},q={namespaced:!0,state:{hScale:.687,hOffset:-52,vScale:.381,vOffset:91},getters:{hScale:function(e){var t=e.hScale;return t},hOffset:function(e){var t=e.hOffset;return t},vScale:function(e){var t=e.vScale;return t},vOffset:function(e){var t=e.vOffset;return t}},mutations:{hScale:function(e,t){e.hScale=t},hOffset:function(e,t){e.hOffset=t},vScale:function(e,t){e.vScale=t},vOffset:function(e,t){e.vOffset=t}}},J=287.058,K=273.15,Q=2.204623,Z=function(e){var t=e.temperature,n=e.pressure;return n/((K+t)*J)},$=function(e){var t=e.displacement,n=e.volumetricEfficiency,i=void 0===n?1:n,r=e.throttling,a=void 0===r?1:r;return t*i*a},ee=function(e){var t=e.rpm,n=e.volume;return n*t/120},te=function(e){var t=e.rpm,n=e.displacement,i=e.temperature,r=e.pressure,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},o=$({displacement:n});return a(ee({rpm:t,volume:o})*Z({temperature:i,pressure:r}))},ne=function(e){var t=e.maf,n=e.displacement,i=e.temperature,r=e.pressure,a=Z({temperature:i,pressure:r}),o=t/a,u=60*o*2/n;return u},ie=function(e){return e*Q*60},re=function(e){return e/Q/60};(function(e){e["kgs"]="kg/s",e["lbsmin"]="lbs/min"})(G||(G={}));var ae="grid",oe=function(e){return"".concat(ae,"/").concat(e)},ue=function(e,t){return{get:function(){return t.getters[oe(e)]},set:function(n){return t.commit(oe(e),n)}}},se=function(e){return{get:function(){return e.getters[oe("airflowUnits")]},set:function(t){return e.dispatch(oe("airflowUnits"),t)}}},ce={namespaced:!0,state:{airflowUnits:G.lbsmin,minAirflow:0,maxAirflow:60,airflowInterval:5,minPressureRatio:1,maxPressureRatio:4,pressureRatioStep:.25},getters:{airflowUnits:function(e){var t=e.airflowUnits;return t},minAirflow:function(e){var t=e.minAirflow;return t},maxAirflow:function(e){var t=e.maxAirflow;return t},airflowInterval:function(e){var t=e.airflowInterval;return t},minPressureRatio:function(e){var t=e.minPressureRatio;return t},maxPressureRatio:function(e){var t=e.maxPressureRatio;return t},pressureRatioStep:function(e){var t=e.pressureRatioStep;return t}},mutations:{airflowUnits:function(e,t){e.airflowUnits=t},minAirflow:function(e,t){e.minAirflow=t},maxAirflow:function(e,t){e.maxAirflow=t},airflowInterval:function(e,t){e.airflowInterval=t},minPressureRatio:function(e,t){e.minPressureRatio=t},maxPressureRatio:function(e,t){e.maxPressureRatio=t},pressureRatioStep:function(e,t){e.pressureRatioStep=t}},actions:{airflowUnits:function(e,t){var n=e.commit,i=e.state,r=i.minAirflow,a=i.maxAirflow,o=i.airflowInterval,u=i.airflowUnits;n("airflowUnits",t),u===G.kgs&&t===G.lbsmin&&(n("minAirflow",Math.round(ie(r))),n("maxAirflow",Math.round(ie(a))),n("airflowInterval",Math.round(ie(o)))),u===G.lbsmin&&t===G.kgs&&(n("minAirflow",Math.round(1e3*re(r))/1e3),n("maxAirflow",Math.round(1e3*re(a))/1e3),n("airflowInterval",Math.round(500*re(o))/500))}}},le=(n("99af"),n("4de4"),n("2909")),fe=n("5530"),de="engineMap",pe=function(e){return"".concat(de,"/").concat(e)},me=function(e){return function(){return e.getters[pe("points")]}},ve=function(e){return function(t){return e.dispatch(pe("addPoint"),t)}},be=function(e){return function(t){return e.dispatch(pe("removePoint"),t)}},he=function(e){return function(t,n){return e.commit(pe("point"),{point:t,index:n})}},Oe=function(e,t){return{get:function(){return t.getters[pe(e)]},set:function(n){return t.commit(pe(e),n)}}},je={namespaced:!0,state:{points:[{pressure:2.5,rpm:3e3},{pressure:2.5,rpm:5300},{pressure:2.5,rpm:6500}],displacement:1984,ambientAirPressure:990,ambientAirTemperature:15,pointerData:{pressureRatio:0,massAirflow:0}},getters:{points:function(e){var t=e.points;return t},displacement:function(e){var t=e.displacement;return t},ambientAirPressure:function(e){var t=e.ambientAirPressure;return t},ambientAirTemperature:function(e){var t=e.ambientAirTemperature;return t},pointerData:function(e){var t=e.pointerData;return t}},mutations:{point:function(e,t){var n=t.point,i=t.index;e.points[i]=n},points:function(e,t){return e.points=t},displacement:function(e,t){return e.displacement=t},ambientAirPressure:function(e,t){return e.ambientAirPressure=t},ambientAirTemperature:function(e,t){return e.ambientAirTemperature=t},pointerData:function(e,t){return e.pointerData=Object(fe["a"])({},t)}},actions:{addPoint:function(e,t){var n=e.commit,i=e.state,r=[].concat(Object(le["a"])(i.points.filter((function(e){return e.rpm!==t.rpm}))),[t]).sort((function(e,t){return e.rpm-t.rpm}));n("points",r)},removePoint:function(e,t){var n=e.commit,i=e.state,r=i.points.filter((function(e){return e.rpm!==t.rpm}));n("points",r)}}},ge={id:"map",class:"maps"};function we(e,t){var n=Object(r["x"])("compressor-map"),i=Object(r["x"])("grid"),a=Object(r["x"])("engine-map");return Object(r["s"])(),Object(r["e"])("div",ge,[Object(r["i"])(n,{"canvas-id":e.MapLayer.CompressorMap,width:e.canvasWidth,height:e.canvasHeight},null,8,["canvas-id","width","height"]),Object(r["i"])(i,{"canvas-id":e.MapLayer.Grid,width:e.canvasWidth,height:e.canvasHeight,padding:e.gridPadding},null,8,["canvas-id","width","height","padding"]),Object(r["i"])(a,{"canvas-id":e.MapLayer.EngineMap,width:e.canvasWidth,height:e.canvasHeight,padding:e.gridPadding},null,8,["canvas-id","width","height","padding"])])}function xe(e,t){return Object(r["s"])(),Object(r["e"])("canvas",{id:e.canvasId,height:e.height,width:e.width},null,8,["id","height","width"])}n("a9e3");var ye=n("3835"),Ae=(n("cb29"),n("4160"),n("fb6a"),n("159b"),n("4f96")),Pe=n("d4ec"),Se=n("bee2"),Me="rgb(134,136,138)",Ie=function(){function e(t){Object(Pe["a"])(this,e);var n=t.canvasRef,i=t.height,r=t.width,a=t.padding,o=t.minX,u=t.minY,s=t.maxX,c=t.maxY,l=t.yInterval,f=void 0===l?0:l,d=t.xInterval,p=void 0===d?0:d;this.context=n.getContext("2d"),this.height=i,this.width=r,this.padding=a,this.minX=o,this.minY=u,this.maxX=s,this.maxY=c,this.gridWidth=r-2*a,this.gridHeight=i-2*a,this.origin=[a,i-a],this.context.font="10px sans-serif",this.xInterval=0===p?s-o:p,this.yInterval=0===f?c-u:f,this.xAxisSpacing=Math.floor(this.gridWidth*this.xInterval/(s-o)),this.yAxisSpacing=Math.floor(this.gridHeight*this.yInterval/(c-u))}return Object(Se["a"])(e,[{key:"setup",value:function(e){this.clear();var t=Object(fe["a"])(Object(fe["a"])({},this),e),n=t.height,i=t.width,r=t.padding,a=t.minX,o=t.minY,u=t.maxX,s=t.maxY,c=t.yInterval,l=void 0===c?0:c,f=t.xInterval,d=void 0===f?0:f;this.height=n,this.width=i,this.padding=r,this.minX=a,this.minY=o,this.maxX=u,this.maxY=s,this.gridWidth=i-2*r,this.gridHeight=n-2*r,this.origin=[r,n-r],this.context.font="10px sans-serif",this.xInterval=0===d?u-a:d,this.yInterval=0===l?s-o:l,this.xAxisSpacing=Math.floor(this.gridWidth*this.xInterval/(u-a)),this.yAxisSpacing=Math.floor(this.gridHeight*this.yInterval/(s-o))}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"drawGrid",value:function(){var e=Object(ye["a"])(this.origin,2),t=e[0],n=e[1],i=this.context,r=this.gridWidth,a=this.gridHeight,o=this.xAxisSpacing,u=this.yAxisSpacing,s=this.padding;i.beginPath(),i.strokeStyle=Me,i.moveTo(t,n);for(var c=t;c<=t+r;c+=o)i.moveTo(c,n),i.lineTo(c,n-a);for(var l=n;l>=s;l-=u)i.moveTo(t,l),i.lineTo(t+r,l);i.stroke()}},{key:"drawAxis",value:function(){var e=this.context,t=this.gridWidth,n=this.padding,i=this.xAxisSpacing,r=this.yAxisSpacing,a=this.xInterval,o=this.yInterval,u=this.minX,s=this.maxY,c=this.minY;e.beginPath();for(var l=Object(ye["a"])(this.origin,2),f=l[0],d=l[1],p=f,m=u;p<=f+t;p+=i,m+=a){var v=m.toFixed(3);e.fillText(v,p-e.measureText(v).width/2,d+14)}for(var b=d,h=c;b>=n;b-=r,h+=o){var O=h.toFixed(2);e.fillText(O,f-e.measureText(O).width-4,b+5)}e.beginPath(),e.rect(this.transformX(u),this.transformY(s),this.gridWidth,this.gridHeight),e.stroke()}},{key:"transformX",value:function(e){var t=this.gridWidth/(this.maxX-this.minX);return Math.floor((e-this.minX)*t)+this.padding}},{key:"transformY",value:function(e){var t=this.gridHeight/(this.maxY-this.minY);return Math.floor(this.gridHeight-(e-this.minY)*t)+this.padding}},{key:"moveTo",value:function(e,t){return this.context.moveTo(this.transformX(e),this.transformY(t))}},{key:"lineTo",value:function(e,t){return this.context.lineTo(this.transformX(e),this.transformY(t))}},{key:"stroke",value:function(){return this.context.stroke()}},{key:"drawCircle",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.context.beginPath(),this.context.moveTo(this.transformX(e)+n,this.transformY(t)),this.context.arc(this.transformX(e),this.transformY(t),n,0,2*Math.PI),i&&this.context.fill(),this.context.stroke()}},{key:"drawMap",value:function(e){var t=this;this.clear(),this.context.beginPath(),this.context.strokeStyle="green",this.context.lineWidth=3;var n=Object(Ae["a"])(e),i=n[0],r=n.slice(1);this.moveTo(i.x,i.y),r.forEach((function(e){var n=e.x,i=e.y;t.lineTo(n,i),t.moveTo(n,i)})),this.lineTo(i.x,i.y),this.context.closePath(),this.stroke(),this.context.beginPath(),this.context.strokeStyle="red",this.context.fillStyle="pink",this.context.lineWidth=1,e.forEach((function(e){var n=e.x,i=e.y;t.drawCircle(n,i,5,!0)}))}}]),e}(),Re=function(e){var t=e.image,n=e.canvas;return function(e){var i=n.width,r=n.height,a=n.getContext("2d"),o=e.hOffset,u=e.vOffset,s=e.hScale,c=e.vScale;a.clearRect(0,0,i,r),a.drawImage(t,o,u,Math.floor(s*t.width),Math.floor(c*t.height))}},Ee=Object(r["j"])({name:"CompressorMap",props:{height:Number,width:Number,canvasId:String},setup:function(e){var t=e.canvasId,n=Object(L["b"])(),i=Object(r["d"])(z("hOffset",n)),a=Object(r["d"])(z("vOffset",n)),o=Object(r["d"])(z("hScale",n)),u=Object(r["d"])(z("vScale",n));Object(r["q"])((function(){var e=document.getElementById(t),n=new Image;n.src="./example_compressor_map.jpg",n.onload=function(){e.getContext("2d").drawImage(n,i.value,a.value,Math.floor(o.value*n.width),Math.floor(u.value*n.height))};var s=Re({canvas:e,image:n});Object(r["C"])([function(){return i.value},function(){return a.value},function(){return o.value},function(){return u.value}],(function(e){var t=Object(ye["a"])(e,4),n=t[0],i=t[1],r=t[2],a=t[3];s({hOffset:n,vOffset:i,hScale:r,vScale:a})}))}))}});Ee.render=xe;var Ue=Ee;function ke(e,t){return Object(r["s"])(),Object(r["e"])("canvas",{id:e.canvasId,height:e.height,width:e.width},null,8,["id","height","width"])}var Te=function(e){var t=e.grid,n=e.gridActions,i=e.minAirflow,a=e.maxAirflow,o=e.airflowInterval,u=e.minPressureRatio,s=e.maxPressureRatio,c=e.pressureRatioStep;Object(r["C"])([function(){return i.value},function(){return a.value},function(){return o.value},function(){return u.value},function(){return s.value},function(){return c.value}],(function(e){var i=Object(ye["a"])(e,6),r=i[0],a=i[1],o=i[2],u=i[3],s=i[4],c=i[5];t.setup({minX:r,maxX:a,xInterval:o,minY:u,maxY:s,yInterval:c}),n.forEach((function(e){return e()}))}))},Ye=Object(r["j"])({name:"Grid",props:{height:Number,width:Number,canvasId:String,padding:Number},setup:function(e){var t=e.canvasId,n=e.padding,i=e.height,a=e.width,o=Object(L["b"])(),u=Object(r["d"])(ue("minAirflow",o)),s=Object(r["d"])(ue("maxAirflow",o)),c=Object(r["d"])(ue("airflowInterval",o)),l=Object(r["d"])(ue("minPressureRatio",o)),f=Object(r["d"])(ue("maxPressureRatio",o)),d=Object(r["d"])(ue("pressureRatioStep",o));Object(r["q"])((function(){var e=document.getElementById(t),r=new Ie({canvasRef:e,height:i,width:a,padding:n,minX:u.value,maxX:s.value,minY:l.value,maxY:f.value,xInterval:c.value,yInterval:d.value});r.drawGrid(),r.drawAxis(),Te({grid:r,gridActions:[r.drawGrid.bind(r),r.drawAxis.bind(r)],minAirflow:u,maxAirflow:s,airflowInterval:c,minPressureRatio:l,maxPressureRatio:f,pressureRatioStep:d})}))}});Ye.render=ke;var Xe=Ye;function Ce(e,t){return Object(r["s"])(),Object(r["e"])("canvas",{id:e.canvasId,height:e.height,width:e.width,onMousemove:t[1]||(t[1]=function(){return e.handleHover.apply(e,arguments)}),onMousedown:t[2]||(t[2]=function(){return e.handleMouseDown.apply(e,arguments)}),onMouseup:t[3]||(t[3]=function(){return e.handleMouseUp.apply(e,arguments)})},null,40,["id","height","width"])}n("c740"),n("d81d");var Ve=n("a1e9"),He=function(e){return te(Object(fe["a"])(Object(fe["a"])({},e),{},{displacement:e.displacementCC/1e6,pressure:1e5*e.pressureBar}))},De=function(e){return ie(He(e))},We=Object(r["j"])({name:"Map",props:{height:Number,width:Number,canvasId:String,padding:Number},setup:function(e){var t,n=e.canvasId,i=e.height,a=e.width,o=e.padding,u=a-2*o,s=i-2*o,c=Object(L["b"])(),l=Object(r["d"])(ue("minAirflow",c)),f=Object(r["d"])(ue("maxAirflow",c)),d=Object(r["d"])(ue("airflowInterval",c)),p=Object(r["d"])(ue("minPressureRatio",c)),m=Object(r["d"])(ue("maxPressureRatio",c)),v=Object(r["d"])(ue("pressureRatioStep",c)),b=Object(r["d"])(se(c)),h=Object(r["d"])(Oe("displacement",c)),O=Object(r["d"])(Oe("ambientAirPressure",c)),j=Object(r["d"])(Oe("ambientAirTemperature",c)),g=Object(r["d"])(Oe("pointerData",c)),w=he(c),x=Object(r["d"])(me(c)),y=Object(r["d"])((function(){var e,t,n=b.value===G.kgs?He:De;return[{x:n({displacementCC:h.value,temperature:j.value,pressureBar:p.value,rpm:null===(e=x.value[0])||void 0===e?void 0:e.rpm}),y:1}].concat(Object(le["a"])(x.value.map((function(e){return{x:n({displacementCC:h.value,temperature:j.value,pressureBar:e.pressure,rpm:e.rpm}),y:e.pressure/(O.value/1e3)}}))),[{x:n({displacementCC:h.value,temperature:j.value,pressureBar:p.value,rpm:null===(t=x.value[x.value.length-1])||void 0===t?void 0:t.rpm}),y:1}])})),A=Object(Ve["i"])(),P=Object(Ve["i"])(),S=Object(Ve["i"])();return Object(r["q"])((function(){var e,c=document.getElementById(n),M=c.getBoundingClientRect();t=function(){M=c.getBoundingClientRect()},window.addEventListener("resize",t),window.addEventListener("scroll",t),A.value=function(t){var n=t.x,i=t.y,r=M,a=r.top,c=r.left,d=n-c-o,v=i-a-o;if(!(d<0||d>=u)&&!(v<0||v>=s)){g.value={pressureRatio:(1-v/s)*(m.value-p.value)+p.value,massAirflow:d/u*(f.value-l.value)+l.value};var x=(1-v/s)*(m.value-p.value)+p.value,y=d/u*(f.value-l.value)+l.value,A=Math.round(ne({maf:b.value===G.kgs?y:re(y),displacement:h.value/1e6,temperature:j.value,pressure:O.value/1e3*1e5*x}));void 0!==e&&w({rpm:A,pressure:O.value/1e3*x},e)}},P.value=function(t){var n=t.x,i=t.y,r=M,a=r.top,c=r.left,d=n-c-o,v=i-a-o;if(!(d<0||d>=u)&&!(v<0||v>=s)){var g=(1-v/s)*(m.value-p.value)+p.value,w=d/u*(f.value-l.value)+l.value,y=Math.round(ne({maf:b.value===G.kgs?w:re(w),displacement:h.value/1e6,temperature:j.value,pressure:O.value/1e3*1e5*g}));e=x.value.findIndex((function(e){if(e.rpm===y||1.05*e.rpm>y&&.95*e.rpm<y){var t=e.pressure,n=g*O.value/1e3;if(t===n||1.01*t>n&&.99*t<n)return!0}return!1}))}},S.value=function(){e=void 0};var I=new Ie({canvasRef:c,height:i,width:a,padding:o,minX:l.value,maxX:f.value,minY:p.value,maxY:m.value});I.drawMap(y.value),Te({grid:I,gridActions:[function(){I.drawMap(y.value)}],minAirflow:l,maxAirflow:f,airflowInterval:d,minPressureRatio:p,maxPressureRatio:m,pressureRatioStep:v}),Object(r["C"])((function(){return y.value}),(function(e){I.drawMap(e)}))})),Object(r["p"])((function(){window.removeEventListener("resize",t),window.removeEventListener("scroll",t)})),{handleHover:A,handleMouseDown:P,handleMouseUp:S}}});We.render=Ce;var _e,Be=We;(function(e){e["CompressorMap"]="compressor-map",e["Grid"]="grid",e["EngineMap"]="engine-map"})(_e||(_e={}));var Ge={width:1208,height:908,padding:100},Le=Object(r["j"])({name:"Map",components:{CompressorMap:Ue,Grid:Xe,EngineMap:Be},setup:function(){return{MapLayer:_e,canvasHeight:Ge.height,canvasWidth:Ge.width,gridPadding:Ge.padding}}});n("3ed6");Le.render=we;var Ne=Le,Fe=Object(r["F"])("data-v-bf0890f4");Object(r["v"])("data-v-bf0890f4");var ze={class:"map-points-container"},qe={class:"map-point"},Je=Object(r["i"])("button",{type:"submit"},"remove",-1),Ke=Object(r["i"])("label",{for:"engine-pressure"},"Pressure (bar)",-1),Qe=Object(r["i"])("label",{for:"engine-speed"},"Engine speed (rpm)",-1),Ze=Object(r["i"])("button",{type:"submit"},"Add!",-1);Object(r["t"])();var $e=Fe((function(e,t){return Object(r["s"])(),Object(r["e"])("div",ze,[(Object(r["s"])(!0),Object(r["e"])(r["b"],null,Object(r["w"])(e.points,(function(t,n){return Object(r["s"])(),Object(r["e"])("div",{key:n},[Object(r["i"])("form",{onSubmit:Object(i["d"])((function(n){return e.removeEngineMapPoint(t)}),["prevent"])},[Object(r["i"])("fieldset",qe,[Object(r["E"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(e){return t.pressure=e},step:"0.1"},null,8,["onUpdate:modelValue"]),[[i["c"],t.pressure]]),Object(r["E"])(Object(r["i"])("input",{type:"number","onUpdate:modelValue":function(e){return t.rpm=e},step:"100"},null,8,["onUpdate:modelValue"]),[[i["c"],t.rpm]]),Je])],40,["onSubmit"])])})),128)),Object(r["i"])("form",{onSubmit:t[3]||(t[3]=Object(i["d"])((function(){return e.addEngineMapPoint.apply(e,arguments)}),["prevent"]))},[Object(r["i"])("fieldset",null,[Ke,Object(r["E"])(Object(r["i"])("input",{id:"engine-pressure",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.enginePressure=t}),step:"0.1"},null,512),[[i["c"],e.enginePressure]]),Qe,Object(r["E"])(Object(r["i"])("input",{id:"engine-speed",type:"number","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.engineSpeed=t}),step:"100"},null,512),[[i["c"],e.engineSpeed]])]),Ze],32)])})),et=Object(r["j"])({name:"EngineMapPoints",setup:function(){var e=Object(L["b"])(),t=Object(Ve["i"])(1),n=Object(Ve["i"])(1e3),i=Object(r["d"])(me(e)),a=Object(r["d"])((function(){return i.value.map((function(e){return Object(Ve["h"])(e)}))})),o=ve(e),u=be(e),s=function(){return o({pressure:t.value,rpm:n.value}),!1};return{points:a,enginePressure:t,engineSpeed:n,addEngineMapPoint:s,removeEngineMapPoint:u}}});n("ac1a");et.render=$e,et.__scopeId="data-v-bf0890f4";var tt=et,nt=Object(r["j"])({name:"Home",components:{Maps:Ne,EngineMapPoints:tt},setup:function(){var e=Object(L["b"])(),t=Object(r["d"])(z("hOffset",e)),n=Object(r["d"])(z("vOffset",e)),i=Object(r["d"])(z("hScale",e)),a=Object(r["d"])(z("vScale",e)),o=Object(r["d"])(se(e)),u=Object(r["d"])(ue("minAirflow",e)),s=Object(r["d"])(ue("maxAirflow",e)),c=Object(r["d"])(ue("airflowInterval",e)),l=Object(r["d"])(ue("minPressureRatio",e)),f=Object(r["d"])(ue("maxPressureRatio",e)),d=Object(r["d"])(ue("pressureRatioStep",e)),p=Object(r["d"])(Oe("displacement",e)),m=Object(r["d"])(Oe("ambientAirPressure",e)),v=Object(r["d"])(Oe("ambientAirTemperature",e)),b=Object(r["d"])(Oe("pointerData",e)),h=Object(r["d"])((function(){return o.value===G.kgs?.05:1}));return{AirflowUnits:G,hScale:i,vScale:a,hOffset:t,vOffset:n,airflowUnits:o,minAirflow:u,maxAirflow:s,airflowInterval:c,minPressureRatio:l,maxPressureRatio:f,pressureRatioStep:d,airflowUnitStep:h,engineDisplacement:p,ambientAirPressure:m,ambientAirTemperature:v,pointerData:b}}});n("e69a");nt.render=B;var it,rt=nt,at=[{path:"/",name:"Home",component:rt}],ot=Object(s["a"])({history:Object(s["b"])(),routes:at}),ut=ot,st=n("ade3"),ct=Object(L["a"])({modules:(it={},Object(st["a"])(it,N,q),Object(st["a"])(it,ae,ce),Object(st["a"])(it,de,je),it)});Object(i["a"])(u).use(ut).use(ct).mount("#app")},e69a:function(e,t,n){"use strict";n("a1f3")}});
//# sourceMappingURL=app.6c72a82a.js.map