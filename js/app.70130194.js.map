{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Maps.vue?5831","webpack:///./src/App.vue?9b0a","webpack:///./src/views/EngineMapPoints.vue?106d","webpack:///./src/App.vue","webpack:///./src/App.vue?72a1","webpack:///./src/views/Home.vue","webpack:///./src/views/physics.ts","webpack:///./src/store/external-map.ts","webpack:///./src/store/grid.ts","webpack:///./src/store/engine-map.ts","webpack:///./src/views/Maps.vue","webpack:///./src/views/CompressorMap.vue","webpack:///./src/views/graphics.ts","webpack:///./src/views/CompressorMap.vue?44d0","webpack:///./src/views/CompressorMap.vue?ad64","webpack:///./src/views/Grid.vue","webpack:///./src/views/grid-watchers.ts","webpack:///./src/views/Grid.vue?031a","webpack:///./src/views/Grid.vue?3c29","webpack:///./src/views/EngineMap.vue","webpack:///./src/views/EngineMap.vue?4439","webpack:///./src/views/EngineMap.vue?9317","webpack:///./src/views/Maps.vue?2b15","webpack:///./src/views/Maps.vue?cc93","webpack:///./src/views/EngineMapPoints.vue","webpack:///./src/views/EngineMapPoints.vue?90d5","webpack:///./src/views/EngineMapPoints.vue?7f1a","webpack:///./src/views/Home.vue?5ba0","webpack:///./src/views/Home.vue?f4ee","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/views/Home.vue?194a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","script","render","class","for","id","airflowUnits","AirflowUnits","kgs","lbsmin","type","minAirflow","step","airflowUnitStep","maxAirflow","airflowInterval","minPressureRatio","maxPressureRatio","pressureRatioStep","hScale","hOffset","vScale","vOffset","engineDisplacement","ambientAirTemperature","ambientAirPressure","NAMESPACE","namespaced","input","buildAccessor","store","getters","set","commit","externalMap","state","mutations","AIR_SPECIFIC_GAS_CONSTANT","ZERO_CELSIUS_KELVIN","LBS_PER_KG","getAirDensity","temperature","pressure","getVolume","displacement","volumetricEfficiency","throttling","getVolumeFlow","rpm","volume","converter","convertToLbsMin","convertToKgS","buildAirflowUnitsAccessor","dispatch","actions","nextUnits","Math","round","buildMapPointsGetter","buildMapPointInserter","point","buildMapPointRemover","engineMap","points","addPoint","nextPoints","filter","sort","a","b","removePoint","canvas-id","MapLayer","CompressorMap","width","canvasWidth","height","canvasHeight","Grid","padding","gridPadding","EngineMap","canvasId","GRID_STROKE_STYLE","config","canvasRef","minX","minY","maxX","maxY","yInterval","xInterval","this","context","getContext","gridWidth","gridHeight","origin","font","xAxisSpacing","floor","yAxisSpacing","clear","mergedConfig","clearRect","originX","originY","beginPath","strokeStyle","moveTo","lineTo","stroke","x","label","toFixed","fillText","measureText","y","rect","transformX","transformY","scale","lineWidth","first","restPoints","forEach","getImageRedrawer","image","canvas","ctx","drawImage","props","Number","String","setup","imgCanvas","document","getElementById","img","Image","src","onload","redrawImage","grid","gridActions","newValues","gridCanvas","drawGrid","drawAxis","displacementCC","pressureBar","engineMapRawPoints","engineMapPoints","getMAF","map","graphCanvas","graph","drawMap","defaultConfig","components","index","removeEngineMapPoint","addEngineMapPoint","enginePressure","engineSpeed","rawPoints","insertMapPoint","__scopeId","Maps","EngineMapPoints","routes","path","component","Home","router","history","App","use","mount"],"mappings":"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","file":"js/app.70130194.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Maps.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Maps.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"","<template>\n\t<router-view/>\n</template>\n\n<style lang=\"scss\">\nbody {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n#app {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\ttext-align: center;\n\tcolor: #2c3e50;\n\n\tbackground-color: azure;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\theight: 100vh;\n\twidth: 100vw;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=25a3efc2\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<Maps />\n\t<div class=\"calculation-container\">\n\t\t<form>\n\t\t\t<div class=\"row\">\n\t\t\t\t<label for=\"airflow\">Mass airflow units</label>\n\t\t\t\t<fieldset id=\"airflow\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tid=\"airflow-units\"\n\t\t\t\t\t\tv-model=\"airflowUnits\">\n\t\t\t\t\t\t<option :value=\"AirflowUnits.kgs\">kg/s</option>\n\t\t\t\t\t\t<option :value=\"AirflowUnits.lbsmin\">Lbs/min</option>\n\t\t\t\t\t</select>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"min-airflow\">Minimum airflow</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid=\"min-airflow\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"minAirflow\"\n\t\t\t\t\t\t\t:step=\"airflowUnitStep\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-airflow\">Maximum airflow</label><input\n\t\t\t\t\t\t\tid=\"max-airflow\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"maxAirflow\"\n\t\t\t\t\t\t\t:step=\"airflowUnitStep\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"airflow-interval\">Airflow grid step</label><input\n\t\t\t\t\t\t\tid=\"airflow-interval\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tv-model=\"airflowInterval\"\n\t\t\t\t\t\t\tstep=\"any\">\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<fieldset>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"min-pressure-ratio\">Min pressure ratio</label>\n\t\t\t\t\t\t<input id=\"min-pressure-ratio\" type=\"number\" v-model=\"minPressureRatio\" step=\"0.5\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-pressure-ratio\">Max pressure ratio</label>\n\t\t\t\t\t\t<input id=\"max-pressure-ratio\" type=\"number\" v-model=\"maxPressureRatio\" step=\"0.5\">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<label for=\"max-pressure-ratio\">Pressure ratio step</label>\n\t\t\t\t\t\t<input id=\"max-pressure-ratio\" type=\"number\" v-model=\"pressureRatioStep\" step=\"any\">\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t</div>\n\t\t</form>\n\t\t<form>\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"h-scale\">Horizontal scale</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"h-scale\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.001\"\n\t\t\t\t\t\tv-model=\"hScale\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"h-offset\">Horizontal offset</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"h-offset\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"hOffset\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"v-scale\">Vertical scale</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"v-scale\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.001\"\n\t\t\t\t\t\tv-model=\"vScale\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"v-offset\">Vertical offset</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"v-offset\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tv-model=\"vOffset\">\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<form>\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"engine-displacement\">Engine displacement (cc)</label>\n\t\t\t\t\t<input id=\"engine-displacement\" type=\"number\" v-model=\"engineDisplacement\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"ambient-air-temperature\">Ambient air temperature (C)</label>\n\t\t\t\t\t<input id=\"ambient-air-temperature\" type=\"number\" v-model=\"ambientAirTemperature\">\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<label for=\"ambient-air-pressure\">Ambient air absolute pressure (mbar)</label>\n\t\t\t\t\t<input id=\"ambient-air-pressure\" type=\"number\" v-model=\"ambientAirPressure\">\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<EngineMapPoints />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport {\n\tdefineComponent,\n\tcomputed,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor, buildAirflowUnitsAccessor } from \"@/store/grid\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { AirflowUnits } from \"./physics\"\nimport Maps from \"./Maps.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tMaps,\n\t\tEngineMapPoints\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst airflowUnitStep = computed(() => {\n\t\t\tif (airflowUnits.value === AirflowUnits.kgs) {\n\t\t\t\treturn 0.05;\n\t\t\t}\n\t\t\treturn 1;\n\t\t})\n\n\t\treturn {\n\t\t\tAirflowUnits,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t\tairflowUnits,\n\t\t\tminAirflow,\n\t\t\tmaxAirflow,\n\t\t\tairflowInterval,\n\t\t\tminPressureRatio,\n\t\t\tmaxPressureRatio,\n\t\t\tpressureRatioStep,\n\t\t\tairflowUnitStep,\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n</script>\n\n<style lang=\"scss\">\n.calculation-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n</style>\n","// const GAS_CONSTANT = 8.314463; // J⋅K−1⋅mol−1\nconst AIR_SPECIFIC_GAS_CONSTANT = 287.058; // J/(kg·K)\nconst ZERO_CELSIUS_KELVIN = 273.15;\nconst LBS_PER_KG = 2.204623;\n\ntype CubicMeters = number\ntype Pascals = number\ntype Celcius = number\ntype KgM3 = number\ntype KgS = number\n\ntype IGetAirDensity = (p: { temperature: Celcius; pressure: Pascals }) => KgM3\nexport const getAirDensity: IGetAirDensity = ({ temperature, pressure }) => (\n\tpressure / ((ZERO_CELSIUS_KELVIN + (temperature)) * AIR_SPECIFIC_GAS_CONSTANT)\n);\n\ntype IGetVolume = (p: {\n\tdisplacement: CubicMeters;\n\tvolumetricEfficiency?: number;\n\tthrottling?: number;\n}) => CubicMeters\nexport const getVolume: IGetVolume = ({\n\tdisplacement,\n\tvolumetricEfficiency = 1,\n\tthrottling = 1,\n}) => (displacement * volumetricEfficiency * throttling);\n\ntype IGetVolumeFlow = <T extends number>(p: { rpm: number; volume: T }) => number\nexport const getVolumeFlow: IGetVolumeFlow = ({ rpm, volume }) => (\n\t(volume * rpm) / (2 * 60)\n);\n\ntype IGetMAF = (p: {\n\trpm: number;\n\tdisplacement: CubicMeters;\n\ttemperature: Celcius;\n\tpressure: Pascals;\n}, converter?: (i: number) => number) => KgS\nexport const getMAF: IGetMAF = ({\n\trpm,\n\tdisplacement,\n\ttemperature,\n\tpressure,\n}, converter = i => i) => {\n\tconst volume = getVolume({ displacement });\n\treturn converter(getVolumeFlow({ rpm, volume }) * getAirDensity({ temperature, pressure }));\n};\n\nexport const convertToLbsMin = (input: number): number => input * LBS_PER_KG * 60;\nexport const convertToKgS = (input: number): number => (input / LBS_PER_KG) / 60;\n\nexport enum AirflowUnits {\n\tkgs = \"kg/s\",\n\tlbsmin = \"lbs/min\"\n}","import { Module, Store } from \"vuex\";\n\nexport const NAMESPACE = \"externalMap\"\n\nexport interface ExternalMapConfigState {\n\thScale: number;\n\thOffset: number;\n\tvScale: number;\n\tvOffset: number;\n}\n\nconst namespaced = (input: keyof ExternalMapConfigState): string => `${NAMESPACE}/${input}`;\n\nexport const buildAccessor = <T extends keyof ExternalMapConfigState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => ExternalMapConfigState[T];\n\tset: (input: ExternalMapConfigState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const externalMap: Module<ExternalMapConfigState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\thScale: 0.687,\n\t\thOffset: -52,\n\t\tvScale: 0.381,\n\t\tvOffset: 91,\n\t},\n\tgetters: {\n\t\thScale: ({ hScale }) => hScale,\n\t\thOffset: ({ hOffset }) => hOffset,\n\t\tvScale: ({ vScale }) => vScale,\n\t\tvOffset: ({ vOffset }) => vOffset,\n\t},\n\tmutations: {\n\t\thScale: (state, hScale) => { state.hScale = hScale },\n\t\thOffset: (state, hOffset) => { state.hOffset = hOffset },\n\t\tvScale: (state, vScale) => { state.vScale = vScale },\n\t\tvOffset: (state, vOffset) => { state.vOffset = vOffset },\n\t}\n}\n","import { Module, Store } from \"vuex\";\nimport { AirflowUnits, convertToLbsMin, convertToKgS } from \"@/views/physics\";\n\nexport const NAMESPACE = \"grid\"\n\nexport interface GridConfigState {\n\tairflowUnits: AirflowUnits;\n\tminAirflow: number;\n\tmaxAirflow: number;\n\tairflowInterval: number;\n\tminPressureRatio: number;\n\tmaxPressureRatio: number;\n\tpressureRatioStep: number;\n}\n\nconst namespaced = (input: keyof GridConfigState): string => `${NAMESPACE}/${input}`;\n\nexport const buildAccessor = <T extends keyof GridConfigState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => GridConfigState[T];\n\tset: (input: GridConfigState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const buildAirflowUnitsAccessor = (store: Store<{}>): {\n\tget: () => AirflowUnits;\n\tset: (airflowUnits: AirflowUnits) => void;\n} => ({\n\tget: () => store.getters[namespaced(\"airflowUnits\")],\n\tset: (airflowUnits) => store.dispatch(namespaced(\"airflowUnits\"), airflowUnits)\n})\n\nexport const grid: Module<GridConfigState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tairflowUnits: AirflowUnits.lbsmin,\n\t\tminAirflow: 0,\n\t\tmaxAirflow: 60,\n\t\tairflowInterval: 5,\n\t\tminPressureRatio: 1,\n\t\tmaxPressureRatio: 4,\n\t\tpressureRatioStep: 0.25,\n\t},\n\tgetters: {\n\t\tairflowUnits: ({ airflowUnits }) => airflowUnits,\n\t\tminAirflow: ({ minAirflow }) => minAirflow,\n\t\tmaxAirflow: ({ maxAirflow }) => maxAirflow,\n\t\tairflowInterval: ({ airflowInterval }) => airflowInterval,\n\t\tminPressureRatio: ({ minPressureRatio }) => minPressureRatio,\n\t\tmaxPressureRatio: ({ maxPressureRatio }) => maxPressureRatio,\n\t\tpressureRatioStep: ({ pressureRatioStep }) => pressureRatioStep,\n\t},\n\tmutations: {\n\t\tairflowUnits: (state, airflowUnits) => { state.airflowUnits = airflowUnits },\n\t\tminAirflow: (state, minAirflow) => { state.minAirflow = minAirflow },\n\t\tmaxAirflow: (state, maxAirflow) => { state.maxAirflow = maxAirflow },\n\t\tairflowInterval: (state, airflowInterval) => { state.airflowInterval = airflowInterval },\n\t\tminPressureRatio: (state, minPressureRatio) => { state.minPressureRatio = minPressureRatio },\n\t\tmaxPressureRatio: (state, maxPressureRatio) => { state.maxPressureRatio = maxPressureRatio },\n\t\tpressureRatioStep: (state, pressureRatioStep) => { state.pressureRatioStep = pressureRatioStep },\n\t},\n\tactions: {\n\t\tairflowUnits: ({ commit, state }, nextUnits: AirflowUnits) => {\n\t\t\tconst {\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tairflowUnits\n\t\t\t} = state;\n\n\t\t\tcommit(\"airflowUnits\", nextUnits)\n\n\t\t\tif (airflowUnits === AirflowUnits.kgs && nextUnits === AirflowUnits.lbsmin) {\n\t\t\t\tcommit(\"minAirflow\", Math.round(convertToLbsMin(minAirflow)))\n\t\t\t\tcommit(\"maxAirflow\", Math.round(convertToLbsMin(maxAirflow)))\n\t\t\t\tcommit(\"airflowInterval\", Math.round(convertToLbsMin(airflowInterval)))\n\t\t\t}\n\n\t\t\tif (airflowUnits === AirflowUnits.lbsmin && nextUnits === AirflowUnits.kgs) {\n\t\t\t\tcommit(\"minAirflow\", Math.round(convertToKgS(minAirflow) * 1000) / 1000)\n\t\t\t\tcommit(\"maxAirflow\", Math.round(convertToKgS(maxAirflow) * 1000) / 1000)\n\t\t\t\tcommit(\"airflowInterval\", Math.round(convertToKgS(airflowInterval) * 500) / 500)\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Module, Store } from \"vuex\";\n\nexport const NAMESPACE = \"engineMap\";\n\ntype MapPoint = { pressure: number; rpm: number }\n\nexport type EngineMapState = {\n\tpoints: MapPoint[];\n\tdisplacement: number;\n\tambientAirTemperature: number;\n\tambientAirPressure: number;\n}\n\nconst namespaced = (input: keyof EngineMapState | \"addPoint\" | \"removePoint\"): string => `${NAMESPACE}/${input}`;\n\nexport const buildMapPointsGetter = (store: Store<{}>) => (): MapPoint[] => store.getters[namespaced(\"points\")]\nexport const buildMapPointInserter = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"addPoint\"), point)\nexport const buildMapPointRemover = (store: Store<{}>) => (point: MapPoint) => store.dispatch(namespaced(\"removePoint\"), point)\n\nexport const buildAccessor = <T extends keyof EngineMapState>(\n\tproperty: T,\n\tstore: Store<{}>\n): {\n\tget: () => EngineMapState[T];\n\tset: (input: EngineMapState[T]) => void;\n} => ({\n\t\tget: () => store.getters[namespaced(property)],\n\t\tset: (input) => store.commit(namespaced(property), input)\n\t})\n\nexport const engineMap: Module<EngineMapState, {}> = {\n\tnamespaced: true,\n\tstate: {\n\t\tpoints: [\n\t\t\t{ pressure: 2.5, rpm: 3000 },\n\t\t\t{ pressure: 2.5, rpm: 5300 },\n\t\t\t{ pressure: 2.5, rpm: 6500 }\n\t\t],\n\t\tdisplacement: 1984,\n\t\tambientAirPressure: 990,\n\t\tambientAirTemperature: 15\n\t},\n\tgetters: {\n\t\tpoints: ({ points }) => points,\n\t\tdisplacement: ({ displacement }) => displacement,\n\t\tambientAirPressure: ({ ambientAirPressure }) => ambientAirPressure,\n\t\tambientAirTemperature: ({ ambientAirTemperature }) => ambientAirTemperature,\n\t},\n\tmutations: {\n\t\tpoints: (state, points) => state.points = points,\n\t\tdisplacement: (state, displacement) => state.displacement = displacement,\n\t\tambientAirPressure: (state, ambientAirPressure) => state.ambientAirPressure = ambientAirPressure,\n\t\tambientAirTemperature: (state, ambientAirTemperature) => state.ambientAirTemperature = ambientAirTemperature,\n\t},\n\tactions: {\n\t\taddPoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = [\n\t\t\t\t...state.points.filter(p => p.rpm !== point.rpm),\n\t\t\t\tpoint\n\t\t\t].sort((a, b) => a.rpm - b.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t},\n\t\tremovePoint: ({ commit, state }, point: MapPoint) => {\n\t\t\tconst nextPoints = state.points.filter(p => p.rpm !== point.rpm)\n\n\t\t\tcommit(\"points\", nextPoints)\n\t\t}\n\t}\n}","<template>\n\t<div id=\"map\" class=\"maps\">\n\t\t<compressor-map\n\t\t\t:canvas-id=\"MapLayer.CompressorMap\"\n\t\t\t:width=\"canvasWidth\"\n\t\t\t:height=\"canvasHeight\" />\n\t\t<grid\n\t\t\t:canvas-id=\"MapLayer.Grid\"\n\t\t\t:width=\"canvasWidth\"\n\t\t\t:height=\"canvasHeight\"\n\t\t\t:padding=\"gridPadding\" />\n\t\t<engine-map\n\t\t\t:canvas-id=\"MapLayer.EngineMap\"\n\t\t\t:width=\"canvasWidth\"\n\t\t\t:height=\"canvasHeight\"\n\t\t\t:padding=\"gridPadding\" />\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\"\nimport CompressorMap from \"./CompressorMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport EngineMap from \"./EngineMap.vue\"\n\nenum MapLayer {\n\tCompressorMap = \"compressor-map\",\n\tGrid = \"grid\",\n\tEngineMap = \"engine-map\"\n}\n\nconst defaultConfig = {\n\twidth: 1208,\n\theight: 908,\n\tpadding: 100\n};\n\nexport default defineComponent({\n\tname: \"Map\",\n\tcomponents: {\n\t\tCompressorMap,\n\t\tGrid,\n\t\tEngineMap\n\t},\n\tsetup: () => ({\n\t\tMapLayer,\n\t\tcanvasHeight: defaultConfig.height,\n\t\tcanvasWidth: defaultConfig.width,\n\t\tgridPadding: defaultConfig.padding\n\t})\n})\n</script>\n\n<style lang=\"scss\">\n.maps {\n\tbackground-color: white;\n}\n\n#map {\n\tposition: relative;\n}\n\n#compressor-map {\n\tposition: absolute;\n\ttop:0;\n\tleft: 0;\n\topacity: 0.5;\n}\n\n#grid {\n\t/* background-color: white; */\n\ttop: 0;\n\tleft: 0;\n\topacity: 0.9;\n}\n\n#engine-map {\n\tbackground-color: transparent;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n}\n\n.calculation-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n</style>\n","<template>\n\t<canvas\n\t\t:id=\"canvasId\"\n\t\t:height=\"height\"\n\t\t:width=\"width\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { getImageRedrawer } from \"./graphics\";\n\ntype CompressorMapProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n}\n\nexport default defineComponent({\n\tname: \"CompressorMap\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId } = props as CompressorMapProps\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tonMounted(() => {\n\t\t\tconst imgCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = \"./example_compressor_map.jpg\";\n\n\t\t\timg.onload = () => {\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timg,\n\t\t\t\t\t\thOffset.value,\n\t\t\t\t\t\tvOffset.value,\n\t\t\t\t\t\tMath.floor(hScale.value * img.width),\n\t\t\t\t\t\tMath.floor(vScale.value * img.height),\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image: img });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => hOffset.value,\n\t\t\t\t\t() => vOffset.value,\n\t\t\t\t\t() => hScale.value,\n\t\t\t\t\t() => vScale.value\n\t\t\t\t],\n\t\t\t\t([\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale\n\t\t\t\t]) => {\n\t\t\t\t\tredrawImage({\n\t\t\t\t\t\thOffset,\n\t\t\t\t\t\tvOffset,\n\t\t\t\t\t\thScale,\n\t\t\t\t\t\tvScale,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t);\n\t\t});\n\t},\n})\n</script>\n","const GRID_STROKE_STYLE = \"rgb(134,136,138)\";\n\nexport const greatestCommonDivisor = (a: number, b: number): number => (b === 0\n\t? a\n\t: (greatestCommonDivisor(b, a % b)));\n\ntype GridConstructor = {\n\tcanvasRef: HTMLCanvasElement;\n\theight: number;\n\twidth: number;\n\tpadding: number;\n\tminX: number;\n\tminY: number;\n\tmaxX: number;\n\tmaxY: number;\n\txInterval?: number;\n\tyInterval?: number;\n}\n\nexport class Grid {\n\tprivate context: CanvasRenderingContext2D;\n\n\tprivate height: number;\n\n\tprivate width: number;\n\n\tprivate padding: number;\n\n\tprivate minX: number;\n\n\tprivate minY: number;\n\n\tprivate maxX: number;\n\n\tprivate maxY: number;\n\n\tprivate gridWidth: number;\n\n\tprivate gridHeight: number;\n\n\tprivate origin: [number, number];\n\n\tprivate xInterval: number;\n\tprivate yInterval: number;\n\n\tprivate xAxisSpacing: number;\n\tprivate yAxisSpacing: number;\n\n\tconstructor(config: GridConstructor) {\n\t\tconst {\n\t\t\tcanvasRef,\n\t\t\theight,\n\t\t\twidth,\n\t\t\tpadding,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = config;\n\n\t\tthis.context = canvasRef.getContext(\"2d\")!; // eslint-disable-line\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.padding = padding;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.gridWidth = width - 2 * padding;\n\t\tthis.gridHeight = height - 2 * padding;\n\n\t\tthis.origin = [padding, padding];\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xAxisSpacing = Math.floor(this.gridWidth * this.xInterval / (maxX - minX));\n\t\tthis.yAxisSpacing = Math.floor(this.gridHeight * this.yInterval / (maxY - minY));\n\t}\n\n\tsetup(config: Partial<GridConstructor>) {\n\t\tthis.clear()\n\n\t\tconst mergedConfig = {\n\t\t\t...this,\n\t\t\t...config\n\t\t}\n\n\t\tconst {\n\t\t\theight,\n\t\t\twidth,\n\t\t\tpadding,\n\t\t\tminX,\n\t\t\tminY,\n\t\t\tmaxX,\n\t\t\tmaxY,\n\t\t\tyInterval = 0,\n\t\t\txInterval = 0,\n\t\t} = mergedConfig;\n\n\t\tthis.height = height;\n\t\tthis.width = width;\n\t\tthis.padding = padding;\n\t\tthis.minX = minX;\n\t\tthis.minY = minY;\n\t\tthis.maxX = maxX;\n\t\tthis.maxY = maxY;\n\n\t\tthis.gridWidth = width - 2 * padding;\n\t\tthis.gridHeight = height - 2 * padding;\n\n\t\tthis.origin = [padding, padding];\n\t\tthis.context.font = \"10px sans-serif\";\n\n\t\tthis.xInterval = xInterval === 0 ? (maxX - minX) : xInterval;\n\t\tthis.yInterval = yInterval === 0 ? (maxY - minY) : yInterval;\n\n\t\tthis.xAxisSpacing = Math.floor(this.gridWidth * this.xInterval / (maxX - minX));\n\t\tthis.yAxisSpacing = Math.floor(this.gridHeight * this.yInterval / (maxY - minY));\n\t}\n\n\tclear() {\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\n\t}\n\n\tdrawGrid() {\n\t\tconst [originX, originY] = this.origin;\n\t\tconst {\n\t\t\tcontext,\n\t\t\tgridWidth,\n\t\t\tgridHeight,\n\t\t\txAxisSpacing,\n\t\t\tyAxisSpacing,\n\t\t} = this;\n\t\tcontext.beginPath();\n\t\tcontext.strokeStyle = GRID_STROKE_STYLE;\n\t\tcontext.moveTo(originX, originY);\n\n\t\tfor (let i = originX; i <= (originX + gridWidth); i += xAxisSpacing) {\n\t\t\tcontext.moveTo(i, originY);\n\t\t\tcontext.lineTo(i, originY + gridHeight);\n\t\t}\n\n\t\tfor (let j = originY; j <= (originY + gridHeight); j += yAxisSpacing) {\n\t\t\tcontext.moveTo(originX, j);\n\t\t\tcontext.lineTo(originX + gridWidth, j);\n\t\t}\n\n\t\tcontext.stroke();\n\t}\n\n\tdrawAxis() {\n\t\tconst {\n\t\t\tcontext,\n\t\t\tgridWidth,\n\t\t\tgridHeight,\n\t\t\txAxisSpacing,\n\t\t\tyAxisSpacing,\n\t\t\txInterval,\n\t\t\tyInterval,\n\t\t\tminX,\n\t\t\tmaxY,\n\t\t\tminY,\n\t\t} = this;\n\n\t\tcontext.beginPath();\n\n\t\tconst [originX, originY] = this.origin;\n\n\t\tfor (\n\t\t\tlet x = originX, value = minX;\n\t\t\tx <= (originX + gridWidth);\n\t\t\tx += xAxisSpacing, value += xInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(3);\n\t\t\tcontext.fillText(label, x - context.measureText(label).width / 2, originY + gridHeight + 14);\n\t\t}\n\n\t\tfor (\n\t\t\tlet y = originY, value = maxY;\n\t\t\tminY === minX ? y < (originY + gridHeight) : y <= (originY + gridHeight);\n\t\t\ty += yAxisSpacing, value -= yInterval\n\t\t) {\n\t\t\tconst label = value.toFixed(2);\n\t\t\tcontext.fillText(label, originX - context.measureText(label).width - 4, y + 5);\n\t\t}\n\n\t\tcontext.beginPath();\n\t\tcontext.rect(\n\t\t\tthis.transformX(minX),\n\t\t\tthis.transformY(maxY),\n\t\t\tthis.gridWidth,\n\t\t\tthis.gridHeight,\n\t\t);\n\t\tcontext.stroke();\n\t}\n\n\ttransformX(input: number) {\n\t\tconst scale = this.gridWidth / (this.maxX - this.minX);\n\n\t\treturn Math.floor((input - this.minX) * scale) + this.padding;\n\t}\n\n\ttransformY(input: number) {\n\t\tconst scale = this.gridHeight / (this.maxY - this.minY);\n\n\t\treturn Math.floor(this.gridHeight - (input - this.minY) * scale) + this.padding;\n\t}\n\n\tmoveTo(x: number, y: number) {\n\t\treturn this.context.moveTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tlineTo(x: number, y: number) {\n\t\treturn this.context.lineTo(\n\t\t\tthis.transformX(x),\n\t\t\tthis.transformY(y),\n\t\t);\n\t}\n\n\tstroke() {\n\t\treturn this.context.stroke();\n\t}\n\n\tdrawMap(points: { x: number; y: number }[]) {\n\t\tthis.clear();\n\t\tthis.context.beginPath();\n\n\t\tthis.context.strokeStyle = \"green\";\n\t\tthis.context.lineWidth = 3;\n\n\t\tconst [first, ...restPoints] = points;\n\t\tthis.moveTo(first.x, first.y);\n\n\t\trestPoints.forEach(({ x, y }) => {\n\t\t\tthis.lineTo(x, y);\n\t\t\tthis.stroke();\n\t\t\tthis.moveTo(x, y);\n\t\t});\n\n\t\tthis.lineTo(points[0].x, points[0].y);\n\t\tthis.stroke();\n\t}\n}\n\nexport const getImageRedrawer = (\n\t{ image, canvas }: { image: CanvasImageSource; canvas: HTMLCanvasElement },\n) => (\n\tconfig: {\n\t\thOffset: number;\n\t\tvOffset: number;\n\t\thScale: number;\n\t\tvScale: number;\n\t},\n) => {\n\tconst {\n\t\twidth: canvasWidth,\n\t\theight: canvasHeight,\n\t} = canvas;\n\n\tconst ctx = canvas.getContext(\"2d\")!; // eslint-disable-line\n\n\tconst {\n\t\thOffset,\n\t\tvOffset,\n\t\thScale,\n\t\tvScale,\n\t} = config;\n\n\tctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\tctx.drawImage(\n\t\timage,\n\t\thOffset,\n\t\tvOffset,\n\t\tMath.floor(hScale * (image.width as number)),\n\t\tMath.floor(vScale * (image.height as number)),\n\t);\n};\n","\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { getImageRedrawer } from \"./graphics\";\n\ntype CompressorMapProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n}\n\nexport default defineComponent({\n\tname: \"CompressorMap\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId } = props as CompressorMapProps\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tonMounted(() => {\n\t\t\tconst imgCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst img = new Image();\n\t\t\timg.src = \"./example_compressor_map.jpg\";\n\n\t\t\timg.onload = () => {\n\t\t\t\timgCanvas // eslint-disable-line\n\t\t\t\t\t.getContext(\"2d\")!\n\t\t\t\t\t.drawImage(\n\t\t\t\t\t\timg,\n\t\t\t\t\t\thOffset.value,\n\t\t\t\t\t\tvOffset.value,\n\t\t\t\t\t\tMath.floor(hScale.value * img.width),\n\t\t\t\t\t\tMath.floor(vScale.value * img.height),\n\t\t\t\t\t);\n\t\t\t};\n\n\t\t\tconst redrawImage = getImageRedrawer({ canvas: imgCanvas, image: img });\n\n\t\t\twatch(\n\t\t\t\t[\n\t\t\t\t\t() => hOffset.value,\n\t\t\t\t\t() => vOffset.value,\n\t\t\t\t\t() => hScale.value,\n\t\t\t\t\t() => vScale.value\n\t\t\t\t],\n\t\t\t\t([\n\t\t\t\t\thOffset,\n\t\t\t\t\tvOffset,\n\t\t\t\t\thScale,\n\t\t\t\t\tvScale\n\t\t\t\t]) => {\n\t\t\t\t\tredrawImage({\n\t\t\t\t\t\thOffset,\n\t\t\t\t\t\tvOffset,\n\t\t\t\t\t\thScale,\n\t\t\t\t\t\tvScale,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t);\n\t\t});\n\t},\n})\n","import { render } from \"./CompressorMap.vue?vue&type=template&id=1d41f7d0\"\nimport script from \"./CompressorMap.vue?vue&type=script&lang=ts\"\nexport * from \"./CompressorMap.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\t<canvas\n\t\t:id=\"canvasId\"\n\t\t:height=\"height\"\n\t\t:width=\"width\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildGridAccessor } from \"@/store/grid\";\nimport { Grid } from \"./graphics\";\nimport { useGridWatchers } from \"./grid-watchers\";\n\ntype GridProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n\tpadding: number;\n}\n\nexport default defineComponent({\n\tname: \"Grid\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t\tpadding: Number,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, padding, height, width } = props as GridProps;\n\t\tconst store = useStore();\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tonMounted(() => {\n\t\t\tconst gridCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst grid = new Grid({\n\t\t\t\tcanvasRef: gridCanvas,\n\t\t\t\theight,\n\t\t\t\twidth,\n\t\t\t\tpadding,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\n\t\t\tgrid.drawGrid();\n\t\t\tgrid.drawAxis();\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid,\n\t\t\t\tgridActions: [grid.drawGrid.bind(grid), grid.drawAxis.bind(grid)],\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tminPressureRatio,\n\t\t\t\tmaxPressureRatio,\n\t\t\t\tpressureRatioStep\n\t\t\t})\n\t\t});\n\t},\n})\n</script>\n","import { Ref, watch } from \"vue\"\nimport { Grid } from \"./graphics\"\n\ntype GridParamGetters = [\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n\t() => Ref<number>[\"value\"],\n]\n\ntype GridWatchersConfig = {\n\tgrid: Grid;\n\tgridActions: (() => void)[];\n\tminAirflow: Ref<number>;\n\tmaxAirflow: Ref<number>;\n\tairflowInterval: Ref<number>;\n\tminPressureRatio: Ref<number>;\n\tmaxPressureRatio: Ref<number>;\n\tpressureRatioStep: Ref<number>;\n}\n\nexport const useGridWatchers = (config: GridWatchersConfig) => {\n\tconst {\n\t\tgrid,\n\t\tgridActions,\n\t\tminAirflow,\n\t\tmaxAirflow,\n\t\tairflowInterval,\n\t\tminPressureRatio,\n\t\tmaxPressureRatio,\n\t\tpressureRatioStep\n\t} = config;\n\n\twatch<GridParamGetters>(\n\t\t[\n\t\t\t() => minAirflow.value,\n\t\t\t() => maxAirflow.value,\n\t\t\t() => airflowInterval.value,\n\t\t\t() => minPressureRatio.value,\n\t\t\t() => maxPressureRatio.value,\n\t\t\t() => pressureRatioStep.value,\n\t\t],\n\t\t(newValues) => {\n\t\t\tconst [\n\t\t\t\tminX,\n\t\t\t\tmaxX,\n\t\t\t\txInterval,\n\t\t\t\tminY,\n\t\t\t\tmaxY,\n\t\t\t\tyInterval,\n\t\t\t] = newValues\n\n\t\t\tgrid.setup({\n\t\t\t\tminX,\n\t\t\t\tmaxX,\n\t\t\t\txInterval,\n\t\t\t\tminY,\n\t\t\t\tmaxY,\n\t\t\t\tyInterval\n\t\t\t})\n\n\t\t\tgridActions.forEach(a => a())\n\t\t}\n\t)\n}","\nimport { defineComponent, computed, onMounted } from \"vue\"\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildGridAccessor } from \"@/store/grid\";\nimport { Grid } from \"./graphics\";\nimport { useGridWatchers } from \"./grid-watchers\";\n\ntype GridProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n\tpadding: number;\n}\n\nexport default defineComponent({\n\tname: \"Grid\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t\tpadding: Number,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, padding, height, width } = props as GridProps;\n\t\tconst store = useStore();\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tonMounted(() => {\n\t\t\tconst gridCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst grid = new Grid({\n\t\t\t\tcanvasRef: gridCanvas,\n\t\t\t\theight,\n\t\t\t\twidth,\n\t\t\t\tpadding,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value,\n\t\t\t\txInterval: airflowInterval.value,\n\t\t\t\tyInterval: pressureRatioStep.value\n\t\t\t});\n\n\t\t\tgrid.drawGrid();\n\t\t\tgrid.drawAxis();\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid,\n\t\t\t\tgridActions: [grid.drawGrid.bind(grid), grid.drawAxis.bind(grid)],\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tminPressureRatio,\n\t\t\t\tmaxPressureRatio,\n\t\t\t\tpressureRatioStep\n\t\t\t})\n\t\t});\n\t},\n})\n","import { render } from \"./Grid.vue?vue&type=template&id=04168e46\"\nimport script from \"./Grid.vue?vue&type=script&lang=ts\"\nexport * from \"./Grid.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n\t<canvas\n\t\t:id=\"canvasId\"\n\t\t:height=\"height\"\n\t\t:width=\"width\" />\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildAccessor as buildGridAccessor,\n\tbuildAirflowUnitsAccessor,\n} from \"@/store/grid\";\nimport { Grid } from \"./graphics\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor,\n} from \"@/store/engine-map\";\nimport { getMAF as getMAFSI, AirflowUnits, convertToLbsMin } from \"./physics\";\nimport { useGridWatchers } from \"./grid-watchers\";\n\ntype EngineMapProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n\tpadding: number;\n}\n\ntype IGetMaf = (p: {\n\tdisplacementCC: number;\n\ttemperature: number;\n\tpressureBar: number;\n\trpm: number;\n}) => number\nconst getMAFKgS: IGetMaf = ({\n\tdisplacementCC,\n\ttemperature,\n\tpressureBar,\n\trpm\n}) => getMAFSI({\n\tdisplacement: displacementCC / 1000000,\n\ttemperature,\n\tpressure: pressureBar * 100000,\n\trpm\n})\nconst getMAFLBSMIN: IGetMaf = ({\n\tdisplacementCC,\n\ttemperature,\n\tpressureBar,\n\trpm\n}) => convertToLbsMin(getMAFSI({\n\tdisplacement: displacementCC / 1000000,\n\ttemperature,\n\tpressure: pressureBar * 100000,\n\trpm\n}))\n\nexport default defineComponent({\n\tname: \"Map\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t\tpadding: Number,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, height, width, padding } = props as EngineMapProps;\n\t\tconst store = useStore();\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(\n\t\t\t() => {\n\t\t\t\tconst getMAF = airflowUnits.value === AirflowUnits.kgs\n\t\t\t\t\t? getMAFKgS\n\t\t\t\t\t: getMAFLBSMIN\n\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: minPressureRatio.value,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t},\n\t\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: p.pressure,\n\t\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: p.pressure / (ambientAirPressure.value / 1000)\n\t\t\t\t\t})),\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: minPressureRatio.value,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t})\n\n\t\tonMounted(() => {\n\t\t\tconst graphCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = new Grid({\n\t\t\t\tcanvasRef: graphCanvas,\n\t\t\t\theight,\n\t\t\t\twidth,\n\t\t\t\tpadding,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value\n\t\t\t});\n\n\t\t\tgraph.drawMap(engineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawMap(engineMapPoints.value) }],\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tminPressureRatio,\n\t\t\t\tmaxPressureRatio,\n\t\t\t\tpressureRatioStep\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\tpoints => { graph.drawMap(points) }\n\t\t\t)\n\t\t});\n\t},\n})\n</script>\n","\nimport { defineComponent, computed, onMounted, watch } from \"vue\"\nimport { useStore } from \"vuex\";\nimport {\n\tbuildAccessor as buildGridAccessor,\n\tbuildAirflowUnitsAccessor,\n} from \"@/store/grid\";\nimport { Grid } from \"./graphics\";\nimport {\n\tbuildMapPointsGetter,\n\tbuildAccessor as buildEngineMapAccessor,\n} from \"@/store/engine-map\";\nimport { getMAF as getMAFSI, AirflowUnits, convertToLbsMin } from \"./physics\";\nimport { useGridWatchers } from \"./grid-watchers\";\n\ntype EngineMapProps = {\n\twidth: number;\n\theight: number;\n\tcanvasId: string;\n\tpadding: number;\n}\n\ntype IGetMaf = (p: {\n\tdisplacementCC: number;\n\ttemperature: number;\n\tpressureBar: number;\n\trpm: number;\n}) => number\nconst getMAFKgS: IGetMaf = ({\n\tdisplacementCC,\n\ttemperature,\n\tpressureBar,\n\trpm\n}) => getMAFSI({\n\tdisplacement: displacementCC / 1000000,\n\ttemperature,\n\tpressure: pressureBar * 100000,\n\trpm\n})\nconst getMAFLBSMIN: IGetMaf = ({\n\tdisplacementCC,\n\ttemperature,\n\tpressureBar,\n\trpm\n}) => convertToLbsMin(getMAFSI({\n\tdisplacement: displacementCC / 1000000,\n\ttemperature,\n\tpressure: pressureBar * 100000,\n\trpm\n}))\n\nexport default defineComponent({\n\tname: \"Map\",\n\tprops: {\n\t\theight: Number,\n\t\twidth: Number,\n\t\tcanvasId: String,\n\t\tpadding: Number,\n\t},\n\tsetup: (props) => {\n\t\tconst { canvasId, height, width, padding } = props as EngineMapProps;\n\t\tconst store = useStore();\n\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst engineMapRawPoints = computed(buildMapPointsGetter(store));\n\t\tconst engineMapPoints = computed(\n\t\t\t() => {\n\t\t\t\tconst getMAF = airflowUnits.value === AirflowUnits.kgs\n\t\t\t\t\t? getMAFKgS\n\t\t\t\t\t: getMAFLBSMIN\n\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: minPressureRatio.value,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[0]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t},\n\t\t\t\t\t...engineMapRawPoints.value.map(p => ({\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: p.pressure,\n\t\t\t\t\t\t\trpm: p.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: p.pressure / (ambientAirPressure.value / 1000)\n\t\t\t\t\t})),\n\t\t\t\t\t{\n\t\t\t\t\t\tx: getMAF({\n\t\t\t\t\t\t\tdisplacementCC: engineDisplacement.value,\n\t\t\t\t\t\t\ttemperature: ambientAirTemperature.value,\n\t\t\t\t\t\t\tpressureBar: minPressureRatio.value,\n\t\t\t\t\t\t\trpm: engineMapRawPoints.value[engineMapRawPoints.value.length - 1]?.rpm\n\t\t\t\t\t\t}),\n\t\t\t\t\t\ty: 1\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t})\n\n\t\tonMounted(() => {\n\t\t\tconst graphCanvas = document.getElementById(canvasId) as HTMLCanvasElement;\n\n\t\t\tconst graph = new Grid({\n\t\t\t\tcanvasRef: graphCanvas,\n\t\t\t\theight,\n\t\t\t\twidth,\n\t\t\t\tpadding,\n\t\t\t\tminX: minAirflow.value,\n\t\t\t\tmaxX: maxAirflow.value,\n\t\t\t\tminY: minPressureRatio.value,\n\t\t\t\tmaxY: maxPressureRatio.value\n\t\t\t});\n\n\t\t\tgraph.drawMap(engineMapPoints.value)\n\n\t\t\tuseGridWatchers({\n\t\t\t\tgrid: graph,\n\t\t\t\tgridActions: [() => { graph.drawMap(engineMapPoints.value) }],\n\t\t\t\tminAirflow,\n\t\t\t\tmaxAirflow,\n\t\t\t\tairflowInterval,\n\t\t\t\tminPressureRatio,\n\t\t\t\tmaxPressureRatio,\n\t\t\t\tpressureRatioStep\n\t\t\t})\n\n\t\t\twatch(\n\t\t\t\t() => engineMapPoints.value,\n\t\t\t\tpoints => { graph.drawMap(points) }\n\t\t\t)\n\t\t});\n\t},\n})\n","import { render } from \"./EngineMap.vue?vue&type=template&id=258b9307\"\nimport script from \"./EngineMap.vue?vue&type=script&lang=ts\"\nexport * from \"./EngineMap.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport { defineComponent } from \"vue\"\nimport CompressorMap from \"./CompressorMap.vue\"\nimport Grid from \"./Grid.vue\"\nimport EngineMap from \"./EngineMap.vue\"\n\nenum MapLayer {\n\tCompressorMap = \"compressor-map\",\n\tGrid = \"grid\",\n\tEngineMap = \"engine-map\"\n}\n\nconst defaultConfig = {\n\twidth: 1208,\n\theight: 908,\n\tpadding: 100\n};\n\nexport default defineComponent({\n\tname: \"Map\",\n\tcomponents: {\n\t\tCompressorMap,\n\t\tGrid,\n\t\tEngineMap\n\t},\n\tsetup: () => ({\n\t\tMapLayer,\n\t\tcanvasHeight: defaultConfig.height,\n\t\tcanvasWidth: defaultConfig.width,\n\t\tgridPadding: defaultConfig.padding\n\t})\n})\n","import { render } from \"./Maps.vue?vue&type=template&id=910fe8cc\"\nimport script from \"./Maps.vue?vue&type=script&lang=ts\"\nexport * from \"./Maps.vue?vue&type=script&lang=ts\"\n\nimport \"./Maps.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n\t<div class=\"map-points-container\">\n\t\t<div\n\t\t\tv-for=\"(point, index) in points\"\n\t\t\t:key=\"index\">\n\t\t\t<form v-on:submit.prevent=\"removeEngineMapPoint(point)\">\n\t\t\t\t<fieldset class=\"map-point\">\n\t\t\t\t\t<input type=number v-model=\"point.pressure\" step=\"0.1\" />\n\t\t\t\t\t<input type=number v-model=\"point.rpm\" step=\"100\" />\n\t\t\t\t\t<button type=\"submit\">remove</button>\n\t\t\t\t</fieldset>\n\t\t\t</form>\n\t\t</div>\n\t\t<form v-on:submit.prevent=\"addEngineMapPoint\">\n\t\t\t<fieldset>\n\t\t\t\t<label for=\"engine-pressure\">Pressure (bar)</label>\n\t\t\t\t<input id=\"engine-pressure\" type=number v-model=\"enginePressure\" step=\"0.1\" />\n\t\t\t\t<label for=\"engine-speed\">Engine speed (rpm)</label>\n\t\t\t\t<input id=\"engine-speed\" type=number v-model=\"engineSpeed\" step=\"100\" />\n\t\t\t</fieldset>\n\t\t\t<button type=\"submit\">Add!</button>\n\t\t</form>\n\t</div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, computed, ref, reactive } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\"\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(p => reactive(p)))\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: enginePressure.value, rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.map-points-container {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.map-point {\n\tdisplay: flex;\n}\n</style>","\nimport { defineComponent, computed, ref, reactive } from \"vue\"\nimport { useStore } from \"vuex\"\nimport {\n\tbuildMapPointsGetter,\n\tbuildMapPointInserter,\n\tbuildMapPointRemover,\n} from \"@/store/engine-map\"\n\nexport default defineComponent({\n\tname: \"EngineMapPoints\",\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst enginePressure = ref(1);\n\t\tconst engineSpeed = ref(1000);\n\n\t\tconst rawPoints = computed(buildMapPointsGetter(store));\n\t\tconst points = computed(() => rawPoints.value.map(p => reactive(p)))\n\t\tconst insertMapPoint = buildMapPointInserter(store);\n\n\t\tconst removeEngineMapPoint = buildMapPointRemover(store);\n\n\t\tconst addEngineMapPoint = () => {\n\t\t\tinsertMapPoint({ pressure: enginePressure.value, rpm: engineSpeed.value })\n\n\t\t\treturn false;\n\t\t}\n\n\t\treturn {\n\t\t\tpoints,\n\t\t\tenginePressure,\n\t\t\tengineSpeed,\n\t\t\taddEngineMapPoint,\n\t\t\tremoveEngineMapPoint\n\t\t}\n\t}\n})\n","import { render } from \"./EngineMapPoints.vue?vue&type=template&id=bf0890f4&scoped=true\"\nimport script from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\nexport * from \"./EngineMapPoints.vue?vue&type=script&lang=ts\"\n\nimport \"./EngineMapPoints.vue?vue&type=style&index=0&id=bf0890f4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-bf0890f4\"\n\nexport default script","\nimport {\n\tdefineComponent,\n\tcomputed,\n} from \"vue\";\nimport { useStore } from \"vuex\";\nimport { buildAccessor as buildExternalMapAccessor } from \"@/store/external-map\";\nimport { buildAccessor as buildGridAccessor, buildAirflowUnitsAccessor } from \"@/store/grid\";\nimport { buildAccessor as buildEngineMapAccessor } from \"@/store/engine-map\";\nimport { AirflowUnits } from \"./physics\"\nimport Maps from \"./Maps.vue\"\nimport EngineMapPoints from \"./EngineMapPoints.vue\"\n\nexport default defineComponent({\n\tname: \"Home\",\n\tcomponents: {\n\t\tMaps,\n\t\tEngineMapPoints\n\t},\n\tsetup: () => {\n\t\tconst store = useStore();\n\n\t\tconst hOffset = computed(buildExternalMapAccessor(\"hOffset\", store))\n\t\tconst vOffset = computed(buildExternalMapAccessor(\"vOffset\", store))\n\t\tconst hScale = computed(buildExternalMapAccessor(\"hScale\", store))\n\t\tconst vScale = computed(buildExternalMapAccessor(\"vScale\", store))\n\n\t\tconst airflowUnits = computed(buildAirflowUnitsAccessor(store));\n\t\tconst minAirflow = computed(buildGridAccessor(\"minAirflow\", store));\n\t\tconst maxAirflow = computed(buildGridAccessor(\"maxAirflow\", store));\n\t\tconst airflowInterval = computed(buildGridAccessor(\"airflowInterval\", store));\n\t\tconst minPressureRatio = computed(buildGridAccessor(\"minPressureRatio\", store));\n\t\tconst maxPressureRatio = computed(buildGridAccessor(\"maxPressureRatio\", store));\n\t\tconst pressureRatioStep = computed(buildGridAccessor(\"pressureRatioStep\", store));\n\n\t\tconst engineDisplacement = computed(buildEngineMapAccessor(\"displacement\", store));\n\t\tconst ambientAirPressure = computed(buildEngineMapAccessor(\"ambientAirPressure\", store));\n\t\tconst ambientAirTemperature = computed(buildEngineMapAccessor(\"ambientAirTemperature\", store));\n\n\t\tconst airflowUnitStep = computed(() => {\n\t\t\tif (airflowUnits.value === AirflowUnits.kgs) {\n\t\t\t\treturn 0.05;\n\t\t\t}\n\t\t\treturn 1;\n\t\t})\n\n\t\treturn {\n\t\t\tAirflowUnits,\n\t\t\thScale,\n\t\t\tvScale,\n\t\t\thOffset,\n\t\t\tvOffset,\n\t\t\tairflowUnits,\n\t\t\tminAirflow,\n\t\t\tmaxAirflow,\n\t\t\tairflowInterval,\n\t\t\tminPressureRatio,\n\t\t\tmaxPressureRatio,\n\t\t\tpressureRatioStep,\n\t\t\tairflowUnitStep,\n\t\t\tengineDisplacement,\n\t\t\tambientAirPressure,\n\t\t\tambientAirTemperature\n\t\t};\n\t},\n});\n","import { render } from \"./Home.vue?vue&type=template&id=0802c564\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\n\nimport \"./Home.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","import { RouteRecordRaw, createRouter, createWebHashHistory } from \"vue-router\";\nimport Home from \"../views/Home.vue\";\n\nconst routes: RouteRecordRaw[] = [\n\t{\n\t\tpath: \"/\",\n\t\tname: \"Home\",\n\t\tcomponent: Home,\n\t},\n];\n\nconst router = createRouter({\n\thistory: createWebHashHistory(),\n\troutes,\n});\n\nexport default router;\n","import { createStore } from \"vuex\";\nimport { ExternalMapConfigState, externalMap, NAMESPACE as externalMapNamespace } from \"./external-map\";\nimport { GridConfigState, grid, NAMESPACE as gridNamespace } from \"./grid\";\nimport { EngineMapState, engineMap, NAMESPACE as engineMapNamespace } from \"./engine-map\"\n\nexport type State = {\n\t[externalMapNamespace]: ExternalMapConfigState;\n\t[gridNamespace]: GridConfigState;\n\t[engineMapNamespace]: EngineMapState;\n}\n\nexport default createStore<State>({\n\tmodules: {\n\t\t[externalMapNamespace]: externalMap,\n\t\t[gridNamespace]: grid,\n\t\t[engineMapNamespace]: engineMap,\n\t},\n});\n","import { createApp } from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport store from \"./store\";\n\ncreateApp(App).use(router).use(store).mount(\"#app\");\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-cli-plugin-vue-next/node_modules/vue-loader/dist/index.js??ref--0-1!./Home.vue?vue&type=style&index=0&lang=scss\""],"sourceRoot":""}